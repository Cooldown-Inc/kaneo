import{c as an}from"./createLucideIcon-CRcKb1Ol.js";import{r as c,x as I,C as $e,e as Tt,c as K,n as sr,j as p,d as Se,t as Pe}from"./index-D6_JMR29.js";import{u as cn}from"./useMutation-B_C6xvhR.js";import{A as ar,b as ir,a as cr}from"./avatar-BVGO6hTJ.js";import{C as lr}from"./use-get-labels-by-workspace-C9xMoTEH.js";import{c as ur,P as dr,a as Le,u as fr}from"./index-BlCpMXjl.js";import{l as ln,R as pr,A as hr,m as gr,n as vr,I as mr,o as br,p as xr,q as yr,r as wr,s as Cr,G as Sr,L as Rr,t as Dr,u as Mr,v as Er,w as Nr}from"./create-project-modal-Cne2zI5Z.js";import{u as Ar}from"./index-Bkpo5cC8.js";import{C as Tr}from"./chevron-right-Dbn00CNb.js";import{C as Ir}from"./check-IjCBnfdg.js";import{u as Or,a as kr,b as jr,c as Pr,d as Lr,e as _r,f as $r,g as zr,h as Br}from"./label-colors-8UuYiFqu.js";import{g as Gt}from"./priority-Bhdual4o.js";import{B as Fr}from"./badge-DgtRj8pM.js";import{u as Ur}from"./useQuery-BDxn_D7I.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],ka=an("archive",Xr);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ja=an("funnel",Kr);function Yr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return c.useMemo(()=>r=>{e.forEach(o=>o(r))},e)}const ht=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Re(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function It(t){return"nodeType"in t}function $(t){var e,n;return t?Re(t)?t:It(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Ot(t){const{Document:e}=$(t);return t instanceof e}function Ye(t){return Re(t)?!1:t instanceof $(t).HTMLElement}function un(t){return t instanceof $(t).SVGElement}function De(t){return t?Re(t)?t.document:It(t)?Ot(t)?t:Ye(t)||un(t)?t.ownerDocument:document:document:document}const V=ht?c.useLayoutEffect:c.useEffect;function gt(t){const e=c.useRef(t);return V(()=>{e.current=t}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}function Gr(){const t=c.useRef(null),e=c.useCallback((r,o)=>{t.current=setInterval(r,o)},[]),n=c.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Ue(t,e){e===void 0&&(e=[t]);const n=c.useRef(t);return V(()=>{n.current!==t&&(n.current=t)},e),n}function Ge(t,e){const n=c.useRef();return c.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function lt(t){const e=gt(t),n=c.useRef(null),r=c.useCallback(o=>{o!==n.current&&e?.(o,n.current),n.current=o},[]);return[n,r]}function ut(t){const e=c.useRef();return c.useEffect(()=>{e.current=t},[t]),e.current}let Ct={};function We(t,e){return c.useMemo(()=>{if(e)return e;const n=Ct[t]==null?0:Ct[t]+1;return Ct[t]=n,t+"-"+n},[t,e])}function dn(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((s,a)=>{const i=Object.entries(a);for(const[l,u]of i){const d=s[l];d!=null&&(s[l]=d+t*u)}return s},{...e})}}const Ce=dn(1),dt=dn(-1);function Wr(t){return"clientX"in t&&"clientY"in t}function vt(t){if(!t)return!1;const{KeyboardEvent:e}=$(t.target);return e&&t instanceof e}function qr(t){if(!t)return!1;const{TouchEvent:e}=$(t.target);return e&&t instanceof e}function Xe(t){if(qr(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return Wr(t)?{x:t.clientX,y:t.clientY}:null}const ge=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[ge.Translate.toString(t),ge.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),Wt="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Hr(t){return t.matches(Wt)?t:t.querySelector(Wt)}const Vr={display:"none"};function Jr(t){let{id:e,value:n}=t;return I.createElement("div",{id:e,style:Vr},n)}function Qr(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return I.createElement("div",{id:e,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function Zr(){const[t,e]=c.useState("");return{announce:c.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const fn=c.createContext(null);function eo(t){const e=c.useContext(fn);c.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function to(){const[t]=c.useState(()=>new Set),e=c.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[c.useCallback(r=>{let{type:o,event:s}=r;t.forEach(a=>{var i;return(i=a[o])==null?void 0:i.call(a,s)})},[t]),e]}const no={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ro={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function oo(t){let{announcements:e=ro,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=no}=t;const{announce:s,announcement:a}=Zr(),i=We("DndLiveRegion"),[l,u]=c.useState(!1);if(c.useEffect(()=>{u(!0)},[]),eo(c.useMemo(()=>({onDragStart(f){let{active:v}=f;s(e.onDragStart({active:v}))},onDragMove(f){let{active:v,over:h}=f;e.onDragMove&&s(e.onDragMove({active:v,over:h}))},onDragOver(f){let{active:v,over:h}=f;s(e.onDragOver({active:v,over:h}))},onDragEnd(f){let{active:v,over:h}=f;s(e.onDragEnd({active:v,over:h}))},onDragCancel(f){let{active:v,over:h}=f;s(e.onDragCancel({active:v,over:h}))}}),[s,e])),!l)return null;const d=I.createElement(I.Fragment,null,I.createElement(Jr,{id:r,value:o.draggable}),I.createElement(Qr,{id:i,announcement:a}));return n?$e.createPortal(d,n):d}var k;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(k||(k={}));function ft(){}function Pa(t,e){return c.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function La(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return c.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const J=Object.freeze({x:0,y:0});function so(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ao(t,e){const n=Xe(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function io(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function co(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function qt(t){let{left:e,top:n,height:r,width:o}=t;return[{x:e,y:n},{x:e+o,y:n},{x:e,y:n+r},{x:e+o,y:n+r}]}function lo(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}const _a=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const o=qt(e),s=[];for(const a of r){const{id:i}=a,l=n.get(i);if(l){const u=qt(l),d=o.reduce((v,h,g)=>v+so(u[g],h),0),f=Number((d/4).toFixed(4));s.push({id:i,data:{droppableContainer:a,value:f}})}}return s.sort(io)};function uo(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),o=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),a=o-r,i=s-n;if(r<o&&n<s){const l=e.width*e.height,u=t.width*t.height,d=a*i,f=d/(l+u-d);return Number(f.toFixed(4))}return 0}const fo=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const o=[];for(const s of r){const{id:a}=s,i=n.get(a);if(i){const l=uo(i,e);l>0&&o.push({id:a,data:{droppableContainer:s,value:l}})}}return o.sort(co)};function po(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function pn(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:J}function ho(t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o.reduce((a,i)=>({...a,top:a.top+t*i.y,bottom:a.bottom+t*i.y,left:a.left+t*i.x,right:a.right+t*i.x}),{...n})}}const go=ho(1);function hn(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function vo(t,e,n){const r=hn(e);if(!r)return t;const{scaleX:o,scaleY:s,x:a,y:i}=r,l=t.left-a-(1-o)*parseFloat(n),u=t.top-i-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?t.width/o:t.width,f=s?t.height/s:t.height;return{width:d,height:f,top:u,right:l+d,bottom:u+f,left:l}}const mo={ignoreTransform:!1};function Me(t,e){e===void 0&&(e=mo);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=$(t).getComputedStyle(t);u&&(n=vo(n,u,d))}const{top:r,left:o,width:s,height:a,bottom:i,right:l}=n;return{top:r,left:o,width:s,height:a,bottom:i,right:l}}function Ht(t){return Me(t,{ignoreTransform:!0})}function bo(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function xo(t,e){return e===void 0&&(e=$(t).getComputedStyle(t)),e.position==="fixed"}function yo(t,e){e===void 0&&(e=$(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=e[o];return typeof s=="string"?n.test(s):!1})}function kt(t,e){const n=[];function r(o){if(e!=null&&n.length>=e||!o)return n;if(Ot(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Ye(o)||un(o)||n.includes(o))return n;const s=$(t).getComputedStyle(o);return o!==t&&yo(o,s)&&n.push(o),xo(o,s)?n:r(o.parentNode)}return t?r(t):n}function gn(t){const[e]=kt(t,1);return e??null}function St(t){return!ht||!t?null:Re(t)?t:It(t)?Ot(t)||t===De(t).scrollingElement?window:Ye(t)?t:null:null}function vn(t){return Re(t)?t.scrollX:t.scrollLeft}function mn(t){return Re(t)?t.scrollY:t.scrollTop}function Et(t){return{x:vn(t),y:mn(t)}}var j;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(j||(j={}));function bn(t){return!ht||!t?!1:t===document.scrollingElement}function xn(t){const e={x:0,y:0},n=bn(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},o=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,a=t.scrollTop>=r.y,i=t.scrollLeft>=r.x;return{isTop:o,isLeft:s,isBottom:a,isRight:i,maxScroll:r,minScroll:e}}const wo={x:.2,y:.2};function Co(t,e,n,r,o){let{top:s,left:a,right:i,bottom:l}=n;r===void 0&&(r=10),o===void 0&&(o=wo);const{isTop:u,isBottom:d,isLeft:f,isRight:v}=xn(t),h={x:0,y:0},g={x:0,y:0},m={height:e.height*o.y,width:e.width*o.x};return!u&&s<=e.top+m.height?(h.y=j.Backward,g.y=r*Math.abs((e.top+m.height-s)/m.height)):!d&&l>=e.bottom-m.height&&(h.y=j.Forward,g.y=r*Math.abs((e.bottom-m.height-l)/m.height)),!v&&i>=e.right-m.width?(h.x=j.Forward,g.x=r*Math.abs((e.right-m.width-i)/m.width)):!f&&a<=e.left+m.width&&(h.x=j.Backward,g.x=r*Math.abs((e.left+m.width-a)/m.width)),{direction:h,speed:g}}function So(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:n,right:r,bottom:o}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:o,width:t.clientWidth,height:t.clientHeight}}function yn(t){return t.reduce((e,n)=>Ce(e,Et(n)),J)}function Ro(t){return t.reduce((e,n)=>e+vn(n),0)}function Do(t){return t.reduce((e,n)=>e+mn(n),0)}function wn(t,e){if(e===void 0&&(e=Me),!t)return;const{top:n,left:r,bottom:o,right:s}=e(t);gn(t)&&(o<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Mo=[["x",["left","right"],Ro],["y",["top","bottom"],Do]];class jt{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=kt(n),o=yn(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,i]of Mo)for(const l of a)Object.defineProperty(this,l,{get:()=>{const u=i(r),d=o[s]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ze{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var o;(o=this.target)==null||o.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function Eo(t){const{EventTarget:e}=$(t);return t instanceof e?t:De(t)}function Rt(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var W;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(W||(W={}));function Vt(t){t.preventDefault()}function No(t){t.stopPropagation()}var M;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(M||(M={}));const Cn={start:[M.Space,M.Enter],cancel:[M.Esc],end:[M.Space,M.Enter,M.Tab]},Ao=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case M.Right:return{...n,x:n.x+25};case M.Left:return{...n,x:n.x-25};case M.Down:return{...n,y:n.y+25};case M.Up:return{...n,y:n.y-25}}};class Sn{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new ze(De(n)),this.windowListeners=new ze($(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(W.Resize,this.handleCancel),this.windowListeners.add(W.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(W.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&wn(r),n(J)}handleKeyDown(e){if(vt(e)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:s=Cn,coordinateGetter:a=Ao,scrollBehavior:i="smooth"}=o,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:J;this.referenceCoordinates||(this.referenceCoordinates=d);const f=a(e,{active:n,context:r.current,currentCoordinates:d});if(f){const v=dt(f,d),h={x:0,y:0},{scrollableAncestors:g}=r.current;for(const m of g){const b=e.code,{isTop:x,isRight:w,isLeft:y,isBottom:R,maxScroll:D,minScroll:E}=xn(m),C=So(m),S={x:Math.min(b===M.Right?C.right-C.width/2:C.right,Math.max(b===M.Right?C.left:C.left+C.width/2,f.x)),y:Math.min(b===M.Down?C.bottom-C.height/2:C.bottom,Math.max(b===M.Down?C.top:C.top+C.height/2,f.y))},T=b===M.Right&&!w||b===M.Left&&!y,O=b===M.Down&&!R||b===M.Up&&!x;if(T&&S.x!==f.x){const A=m.scrollLeft+v.x,q=b===M.Right&&A<=D.x||b===M.Left&&A>=E.x;if(q&&!v.y){m.scrollTo({left:A,behavior:i});return}q?h.x=m.scrollLeft-A:h.x=b===M.Right?m.scrollLeft-D.x:m.scrollLeft-E.x,h.x&&m.scrollBy({left:-h.x,behavior:i});break}else if(O&&S.y!==f.y){const A=m.scrollTop+v.y,q=b===M.Down&&A<=D.y||b===M.Up&&A>=E.y;if(q&&!v.x){m.scrollTo({top:A,behavior:i});return}q?h.y=m.scrollTop-A:h.y=b===M.Down?m.scrollTop-D.y:m.scrollTop-E.y,h.y&&m.scrollBy({top:-h.y,behavior:i});break}}this.handleMove(e,Ce(dt(f,this.referenceCoordinates),h))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Sn.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=Cn,onActivation:o}=e,{active:s}=n;const{code:a}=t.nativeEvent;if(r.start.includes(a)){const i=s.activatorNode.current;return i&&t.target!==i?!1:(t.preventDefault(),o?.({event:t.nativeEvent}),!0)}return!1}}];function Jt(t){return!!(t&&"distance"in t)}function Qt(t){return!!(t&&"delay"in t)}class Pt{constructor(e,n,r){var o;r===void 0&&(r=Eo(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:a}=s;this.props=e,this.events=n,this.document=De(a),this.documentListeners=new ze(this.document),this.listeners=new ze(r),this.windowListeners=new ze($(a)),this.initialCoordinates=(o=Xe(s))!=null?o:J,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(W.Resize,this.handleCancel),this.windowListeners.add(W.DragStart,Vt),this.windowListeners.add(W.VisibilityChange,this.handleCancel),this.windowListeners.add(W.ContextMenu,Vt),this.documentListeners.add(W.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Qt(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Jt(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:o}=this.props;o(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(W.Click,No,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(W.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:o,props:s}=this,{onMove:a,options:{activationConstraint:i}}=s;if(!o)return;const l=(n=Xe(e))!=null?n:J,u=dt(o,l);if(!r&&i){if(Jt(i)){if(i.tolerance!=null&&Rt(u,i.tolerance))return this.handleCancel();if(Rt(u,i.distance))return this.handleStart()}if(Qt(i)&&Rt(u,i.tolerance))return this.handleCancel();this.handlePending(i,u);return}e.cancelable&&e.preventDefault(),a(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===M.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const To={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Rn extends Pt{constructor(e){const{event:n}=e,r=De(n.target);super(e,To,r)}}Rn.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const Io={move:{name:"mousemove"},end:{name:"mouseup"}};var Nt;(function(t){t[t.RightClick=2]="RightClick"})(Nt||(Nt={}));class Oo extends Pt{constructor(e){super(e,Io,De(e.event.target))}}Oo.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Nt.RightClick?!1:(r?.({event:n}),!0)}}];const Dt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class ko extends Pt{constructor(e){super(e,Dt)}static setup(){return window.addEventListener(Dt.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Dt.move.name,e)};function e(){}}}ko.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:o}=n;return o.length>1?!1:(r?.({event:n}),!0)}}];var Be;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Be||(Be={}));var pt;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(pt||(pt={}));function jo(t){let{acceleration:e,activator:n=Be.Pointer,canScroll:r,draggingRect:o,enabled:s,interval:a=5,order:i=pt.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:v}=t;const h=Lo({delta:f,disabled:!s}),[g,m]=Gr(),b=c.useRef({x:0,y:0}),x=c.useRef({x:0,y:0}),w=c.useMemo(()=>{switch(n){case Be.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Be.DraggableRect:return o}},[n,o,l]),y=c.useRef(null),R=c.useCallback(()=>{const E=y.current;if(!E)return;const C=b.current.x*x.current.x,S=b.current.y*x.current.y;E.scrollBy(C,S)},[]),D=c.useMemo(()=>i===pt.TreeOrder?[...u].reverse():u,[i,u]);c.useEffect(()=>{if(!s||!u.length||!w){m();return}for(const E of D){if(r?.(E)===!1)continue;const C=u.indexOf(E),S=d[C];if(!S)continue;const{direction:T,speed:O}=Co(E,S,w,e,v);for(const A of["x","y"])h[A][T[A]]||(O[A]=0,T[A]=0);if(O.x>0||O.y>0){m(),y.current=E,g(R,a),b.current=O,x.current=T;return}}b.current={x:0,y:0},x.current={x:0,y:0},m()},[e,R,r,m,s,a,JSON.stringify(w),JSON.stringify(h),g,u,D,d,JSON.stringify(v)])}const Po={x:{[j.Backward]:!1,[j.Forward]:!1},y:{[j.Backward]:!1,[j.Forward]:!1}};function Lo(t){let{delta:e,disabled:n}=t;const r=ut(e);return Ge(o=>{if(n||!r||!o)return Po;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[j.Backward]:o.x[j.Backward]||s.x===-1,[j.Forward]:o.x[j.Forward]||s.x===1},y:{[j.Backward]:o.y[j.Backward]||s.y===-1,[j.Forward]:o.y[j.Forward]||s.y===1}}},[n,e,r])}function _o(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Ge(o=>{var s;return e==null?null:(s=r??o)!=null?s:null},[r,e])}function $o(t,e){return c.useMemo(()=>t.reduce((n,r)=>{const{sensor:o}=r,s=o.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...n,...s]},[]),[t,e])}var Ke;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Ke||(Ke={}));var At;(function(t){t.Optimized="optimized"})(At||(At={}));const Zt=new Map;function zo(t,e){let{dragging:n,dependencies:r,config:o}=e;const[s,a]=c.useState(null),{frequency:i,measure:l,strategy:u}=o,d=c.useRef(t),f=b(),v=Ue(f),h=c.useCallback(function(x){x===void 0&&(x=[]),!v.current&&a(w=>w===null?x:w.concat(x.filter(y=>!w.includes(y))))},[v]),g=c.useRef(null),m=Ge(x=>{if(f&&!n)return Zt;if(!x||x===Zt||d.current!==t||s!=null){const w=new Map;for(let y of t){if(!y)continue;if(s&&s.length>0&&!s.includes(y.id)&&y.rect.current){w.set(y.id,y.rect.current);continue}const R=y.node.current,D=R?new jt(l(R),R):null;y.rect.current=D,D&&w.set(y.id,D)}return w}return x},[t,s,n,f,l]);return c.useEffect(()=>{d.current=t},[t]),c.useEffect(()=>{f||h()},[n,f]),c.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),c.useEffect(()=>{f||typeof i!="number"||g.current!==null||(g.current=setTimeout(()=>{h(),g.current=null},i))},[i,f,h,...r]),{droppableRects:m,measureDroppableContainers:h,measuringScheduled:s!=null};function b(){switch(u){case Ke.Always:return!1;case Ke.BeforeDragging:return n;default:return!n}}}function Lt(t,e){return Ge(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function Bo(t,e){return Lt(t,e)}function Fo(t){let{callback:e,disabled:n}=t;const r=gt(e),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return c.useEffect(()=>()=>o?.disconnect(),[o]),o}function mt(t){let{callback:e,disabled:n}=t;const r=gt(e),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return c.useEffect(()=>()=>o?.disconnect(),[o]),o}function Uo(t){return new jt(Me(t),t)}function en(t,e,n){e===void 0&&(e=Uo);const[r,o]=c.useState(null);function s(){o(l=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=l??n)!=null?u:null}const d=e(t);return JSON.stringify(l)===JSON.stringify(d)?l:d})}const a=Fo({callback(l){if(t)for(const u of l){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(t)){s();break}}}}),i=mt({callback:s});return V(()=>{s(),t?(i?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(i?.disconnect(),a?.disconnect())},[t]),r}function Xo(t){const e=Lt(t);return pn(t,e)}const tn=[];function Ko(t){const e=c.useRef(t),n=Ge(r=>t?r&&r!==tn&&t&&e.current&&t.parentNode===e.current.parentNode?r:kt(t):tn,[t]);return c.useEffect(()=>{e.current=t},[t]),n}function Yo(t){const[e,n]=c.useState(null),r=c.useRef(t),o=c.useCallback(s=>{const a=St(s.target);a&&n(i=>i?(i.set(a,Et(a)),new Map(i)):null)},[]);return c.useEffect(()=>{const s=r.current;if(t!==s){a(s);const i=t.map(l=>{const u=St(l);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,Et(u)]):null}).filter(l=>l!=null);n(i.length?new Map(i):null),r.current=t}return()=>{a(t),a(s)};function a(i){i.forEach(l=>{const u=St(l);u?.removeEventListener("scroll",o)})}},[o,t]),c.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,a)=>Ce(s,a),J):yn(t):J,[t,e])}function nn(t,e){e===void 0&&(e=[]);const n=c.useRef(null);return c.useEffect(()=>{n.current=null},e),c.useEffect(()=>{const r=t!==J;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?dt(t,n.current):J}function Go(t){c.useEffect(()=>{if(!ht)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function Wo(t,e){return c.useMemo(()=>t.reduce((n,r)=>{let{eventName:o,handler:s}=r;return n[o]=a=>{s(a,e)},n},{}),[t,e])}function Dn(t){return c.useMemo(()=>t?bo(t):null,[t])}const rn=[];function qo(t,e){e===void 0&&(e=Me);const[n]=t,r=Dn(n?$(n):null),[o,s]=c.useState(rn);function a(){s(()=>t.length?t.map(l=>bn(l)?r:new jt(e(l),l)):rn)}const i=mt({callback:a});return V(()=>{i?.disconnect(),a(),t.forEach(l=>i?.observe(l))},[t]),o}function Mn(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Ye(e)?e:t}function Ho(t){let{measure:e}=t;const[n,r]=c.useState(null),o=c.useCallback(u=>{for(const{target:d}of u)if(Ye(d)){r(f=>{const v=e(d);return f?{...f,width:v.width,height:v.height}:v});break}},[e]),s=mt({callback:o}),a=c.useCallback(u=>{const d=Mn(u);s?.disconnect(),d&&s?.observe(d),r(d?e(d):null)},[e,s]),[i,l]=lt(a);return c.useMemo(()=>({nodeRef:i,rect:n,setRef:l}),[n,i,l])}const Vo=[{sensor:Rn,options:{}},{sensor:Sn,options:{}}],Jo={current:{}},ct={draggable:{measure:Ht},droppable:{measure:Ht,strategy:Ke.WhileDragging,frequency:At.Optimized},dragOverlay:{measure:Me}};class Fe extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const Qo={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Fe,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ft},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ct,measureDroppableContainers:ft,windowRect:null,measuringScheduled:!1},En={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ft,draggableNodes:new Map,over:null,measureDroppableContainers:ft},qe=c.createContext(En),Nn=c.createContext(Qo);function Zo(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Fe}}}function es(t,e){switch(e.type){case k.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case k.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case k.DragEnd:case k.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case k.RegisterDroppable:{const{element:n}=e,{id:r}=n,o=new Fe(t.droppable.containers);return o.set(r,n),{...t,droppable:{...t.droppable,containers:o}}}case k.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const a=new Fe(t.droppable.containers);return a.set(n,{...s,disabled:o}),{...t,droppable:{...t.droppable,containers:a}}}case k.UnregisterDroppable:{const{id:n,key:r}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const s=new Fe(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function ts(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:o}=c.useContext(qe),s=ut(r),a=ut(n?.id);return c.useEffect(()=>{if(!e&&!r&&s&&a!=null){if(!vt(s)||document.activeElement===s.target)return;const i=o.get(a);if(!i)return;const{activatorNode:l,node:u}=i;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const f=Hr(d);if(f){f.focus();break}}})}},[r,e,o,a,s]),null}function An(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((o,s)=>s({transform:o,...r}),n):n}function ns(t){return c.useMemo(()=>({draggable:{...ct.draggable,...t?.draggable},droppable:{...ct.droppable,...t?.droppable},dragOverlay:{...ct.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function rs(t){let{activeNode:e,measure:n,initialRect:r,config:o=!0}=t;const s=c.useRef(!1),{x:a,y:i}=typeof o=="boolean"?{x:o,y:o}:o;V(()=>{if(!a&&!i||!e){s.current=!1;return}if(s.current||!r)return;const u=e?.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=pn(d,r);if(a||(f.x=0),i||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const v=gn(u);v&&v.scrollBy({top:f.y,left:f.x})}},[e,a,i,r,n])}const bt=c.createContext({...J,scaleX:1,scaleY:1});var pe;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(pe||(pe={}));const $a=c.memo(function(e){var n,r,o,s;let{id:a,accessibility:i,autoScroll:l=!0,children:u,sensors:d=Vo,collisionDetection:f=fo,measuring:v,modifiers:h,...g}=e;const m=c.useReducer(es,void 0,Zo),[b,x]=m,[w,y]=to(),[R,D]=c.useState(pe.Uninitialized),E=R===pe.Initialized,{draggable:{active:C,nodes:S,translate:T},droppable:{containers:O}}=b,A=C!=null?S.get(C):null,q=c.useRef({initial:null,translated:null}),H=c.useMemo(()=>{var L;return C!=null?{id:C,data:(L=A?.data)!=null?L:Jo,rect:q}:null},[C,A]),Q=c.useRef(null),[Ee,He]=c.useState(null),[B,Ve]=c.useState(null),ne=Ue(g,Object.values(g)),Ne=We("DndDescribedBy",a),Je=c.useMemo(()=>O.getEnabled(),[O]),z=ns(v),{droppableRects:re,measureDroppableContainers:he,measuringScheduled:Ae}=zo(Je,{dragging:E,dependencies:[T.x,T.y],config:z.droppable}),Y=_o(S,C),Qe=c.useMemo(()=>B?Xe(B):null,[B]),ie=or(),oe=Bo(Y,z.draggable.measure);rs({activeNode:C!=null?S.get(C):null,config:ie.layoutShiftCompensation,initialRect:oe,measure:z.draggable.measure});const N=en(Y,z.draggable.measure,oe),Te=en(Y?Y.parentElement:null),Z=c.useRef({activatorEvent:null,active:null,activeNode:Y,collisionRect:null,collisions:null,droppableRects:re,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ve=O.getNodeFor((n=Z.current.over)==null?void 0:n.id),se=Ho({measure:z.dragOverlay.measure}),me=(r=se.nodeRef.current)!=null?r:Y,be=E?(o=se.rect)!=null?o:N:null,$t=!!(se.nodeRef.current&&se.rect),zt=Xo($t?null:N),xt=Dn(me?$(me):null),ce=Ko(E?ve??Y:null),Ze=qo(ce),et=An(h,{transform:{x:T.x-zt.x,y:T.y-zt.y,scaleX:1,scaleY:1},activatorEvent:B,active:H,activeNodeRect:N,containerNodeRect:Te,draggingNodeRect:be,over:Z.current.over,overlayNodeRect:se.rect,scrollableAncestors:ce,scrollableAncestorRects:Ze,windowRect:xt}),Bt=Qe?Ce(Qe,T):null,Ft=Yo(ce),Jn=nn(Ft),Qn=nn(Ft,[N]),xe=Ce(et,Jn),ye=be?go(be,et):null,Ie=H&&ye?f({active:H,collisionRect:ye,droppableRects:re,droppableContainers:Je,pointerCoordinates:Bt}):null,Ut=lo(Ie,"id"),[le,Xt]=c.useState(null),Zn=$t?et:Ce(et,Qn),er=po(Zn,(s=le?.rect)!=null?s:null,N),yt=c.useRef(null),Kt=c.useCallback((L,F)=>{let{sensor:U,options:ue}=F;if(Q.current==null)return;const G=S.get(Q.current);if(!G)return;const X=L.nativeEvent,ee=new U({active:Q.current,activeNode:G,event:X,options:ue,context:Z,onAbort(P){if(!S.get(P))return;const{onDragAbort:te}=ne.current,ae={id:P};te?.(ae),w({type:"onDragAbort",event:ae})},onPending(P,de,te,ae){if(!S.get(P))return;const{onDragPending:ke}=ne.current,fe={id:P,constraint:de,initialCoordinates:te,offset:ae};ke?.(fe),w({type:"onDragPending",event:fe})},onStart(P){const de=Q.current;if(de==null)return;const te=S.get(de);if(!te)return;const{onDragStart:ae}=ne.current,Oe={activatorEvent:X,active:{id:de,data:te.data,rect:q}};$e.unstable_batchedUpdates(()=>{ae?.(Oe),D(pe.Initializing),x({type:k.DragStart,initialCoordinates:P,active:de}),w({type:"onDragStart",event:Oe}),He(yt.current),Ve(X)})},onMove(P){x({type:k.DragMove,coordinates:P})},onEnd:we(k.DragEnd),onCancel:we(k.DragCancel)});yt.current=ee;function we(P){return async function(){const{active:te,collisions:ae,over:Oe,scrollAdjustedTranslate:ke}=Z.current;let fe=null;if(te&&ke){const{cancelDrop:je}=ne.current;fe={activatorEvent:X,active:te,collisions:ae,delta:ke,over:Oe},P===k.DragEnd&&typeof je=="function"&&await Promise.resolve(je(fe))&&(P=k.DragCancel)}Q.current=null,$e.unstable_batchedUpdates(()=>{x({type:P}),D(pe.Uninitialized),Xt(null),He(null),Ve(null),yt.current=null;const je=P===k.DragEnd?"onDragEnd":"onDragCancel";if(fe){const wt=ne.current[je];wt?.(fe),w({type:je,event:fe})}})}}},[S]),tr=c.useCallback((L,F)=>(U,ue)=>{const G=U.nativeEvent,X=S.get(ue);if(Q.current!==null||!X||G.dndKit||G.defaultPrevented)return;const ee={active:X};L(U,F.options,ee)===!0&&(G.dndKit={capturedBy:F.sensor},Q.current=ue,Kt(U,F))},[S,Kt]),Yt=$o(d,tr);Go(d),V(()=>{N&&R===pe.Initializing&&D(pe.Initialized)},[N,R]),c.useEffect(()=>{const{onDragMove:L}=ne.current,{active:F,activatorEvent:U,collisions:ue,over:G}=Z.current;if(!F||!U)return;const X={active:F,activatorEvent:U,collisions:ue,delta:{x:xe.x,y:xe.y},over:G};$e.unstable_batchedUpdates(()=>{L?.(X),w({type:"onDragMove",event:X})})},[xe.x,xe.y]),c.useEffect(()=>{const{active:L,activatorEvent:F,collisions:U,droppableContainers:ue,scrollAdjustedTranslate:G}=Z.current;if(!L||Q.current==null||!F||!G)return;const{onDragOver:X}=ne.current,ee=ue.get(Ut),we=ee&&ee.rect.current?{id:ee.id,rect:ee.rect.current,data:ee.data,disabled:ee.disabled}:null,P={active:L,activatorEvent:F,collisions:U,delta:{x:G.x,y:G.y},over:we};$e.unstable_batchedUpdates(()=>{Xt(we),X?.(P),w({type:"onDragOver",event:P})})},[Ut]),V(()=>{Z.current={activatorEvent:B,active:H,activeNode:Y,collisionRect:ye,collisions:Ie,droppableRects:re,draggableNodes:S,draggingNode:me,draggingNodeRect:be,droppableContainers:O,over:le,scrollableAncestors:ce,scrollAdjustedTranslate:xe},q.current={initial:be,translated:ye}},[H,Y,Ie,ye,S,me,be,re,O,le,ce,xe]),jo({...ie,delta:T,draggingRect:ye,pointerCoordinates:Bt,scrollableAncestors:ce,scrollableAncestorRects:Ze});const nr=c.useMemo(()=>({active:H,activeNode:Y,activeNodeRect:N,activatorEvent:B,collisions:Ie,containerNodeRect:Te,dragOverlay:se,draggableNodes:S,droppableContainers:O,droppableRects:re,over:le,measureDroppableContainers:he,scrollableAncestors:ce,scrollableAncestorRects:Ze,measuringConfiguration:z,measuringScheduled:Ae,windowRect:xt}),[H,Y,N,B,Ie,Te,se,S,O,re,le,he,ce,Ze,z,Ae,xt]),rr=c.useMemo(()=>({activatorEvent:B,activators:Yt,active:H,activeNodeRect:N,ariaDescribedById:{draggable:Ne},dispatch:x,draggableNodes:S,over:le,measureDroppableContainers:he}),[B,Yt,H,N,x,Ne,S,le,he]);return I.createElement(fn.Provider,{value:y},I.createElement(qe.Provider,{value:rr},I.createElement(Nn.Provider,{value:nr},I.createElement(bt.Provider,{value:er},u)),I.createElement(ts,{disabled:i?.restoreFocus===!1})),I.createElement(oo,{...i,hiddenTextDescribedById:Ne}));function or(){const L=Ee?.autoScrollEnabled===!1,F=typeof l=="object"?l.enabled===!1:l===!1,U=E&&!L&&!F;return typeof l=="object"?{...l,enabled:U}:{enabled:U}}}),os=c.createContext(null),on="button",ss="Draggable";function as(t){let{id:e,data:n,disabled:r=!1,attributes:o}=t;const s=We(ss),{activators:a,activatorEvent:i,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:v}=c.useContext(qe),{role:h=on,roleDescription:g="draggable",tabIndex:m=0}=o??{},b=l?.id===e,x=c.useContext(b?bt:os),[w,y]=lt(),[R,D]=lt(),E=Wo(a,e),C=Ue(n);V(()=>(f.set(e,{id:e,key:s,node:w,activatorNode:R,data:C}),()=>{const T=f.get(e);T&&T.key===s&&f.delete(e)}),[f,e]);const S=c.useMemo(()=>({role:h,tabIndex:m,"aria-disabled":r,"aria-pressed":b&&h===on?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[r,h,m,b,g,d.draggable]);return{active:l,activatorEvent:i,activeNodeRect:u,attributes:S,isDragging:b,listeners:r?void 0:E,node:w,over:v,setNodeRef:y,setActivatorNodeRef:D,transform:x}}function Tn(){return c.useContext(Nn)}const is="Droppable",cs={timeout:25};function ls(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:o}=t;const s=We(is),{active:a,dispatch:i,over:l,measureDroppableContainers:u}=c.useContext(qe),d=c.useRef({disabled:n}),f=c.useRef(!1),v=c.useRef(null),h=c.useRef(null),{disabled:g,updateMeasurementsFor:m,timeout:b}={...cs,...o},x=Ue(m??r),w=c.useCallback(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),h.current=null},b)},[b]),y=mt({callback:w,disabled:g||!a}),R=c.useCallback((S,T)=>{y&&(T&&(y.unobserve(T),f.current=!1),S&&y.observe(S))},[y]),[D,E]=lt(R),C=Ue(e);return c.useEffect(()=>{!y||!D.current||(y.disconnect(),f.current=!1,y.observe(D.current))},[D,y]),c.useEffect(()=>(i({type:k.RegisterDroppable,element:{id:r,key:s,disabled:n,node:D,rect:v,data:C}}),()=>i({type:k.UnregisterDroppable,key:s,id:r})),[r]),c.useEffect(()=>{n!==d.current.disabled&&(i({type:k.SetDroppableDisabled,id:r,key:s,disabled:n}),d.current.disabled=n)},[r,s,n,i]),{active:a,rect:v,isOver:l?.id===r,node:D,over:l,setNodeRef:E}}function us(t){let{animation:e,children:n}=t;const[r,o]=c.useState(null),[s,a]=c.useState(null),i=ut(n);return!n&&!r&&i&&o(i),V(()=>{if(!s)return;const l=r?.key,u=r?.props.id;if(l==null||u==null){o(null);return}Promise.resolve(e(u,s)).then(()=>{o(null)})},[e,r,s]),I.createElement(I.Fragment,null,n,r?c.cloneElement(r,{ref:a}):null)}const ds={x:0,y:0,scaleX:1,scaleY:1};function fs(t){let{children:e}=t;return I.createElement(qe.Provider,{value:En},I.createElement(bt.Provider,{value:ds},e))}const ps={position:"fixed",touchAction:"none"},hs=t=>vt(t)?"transform 250ms ease":void 0,gs=c.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:o,children:s,className:a,rect:i,style:l,transform:u,transition:d=hs}=t;if(!i)return null;const f=o?u:{...u,scaleX:1,scaleY:1},v={...ps,width:i.width,height:i.height,top:i.top,left:i.left,transform:ge.Transform.toString(f),transformOrigin:o&&r?ao(r,i):void 0,transition:typeof d=="function"?d(r):d,...l};return I.createElement(n,{className:a,style:v,ref:e},s)}),vs=t=>e=>{let{active:n,dragOverlay:r}=e;const o={},{styles:s,className:a}=t;if(s!=null&&s.active)for(const[i,l]of Object.entries(s.active))l!==void 0&&(o[i]=n.node.style.getPropertyValue(i),n.node.style.setProperty(i,l));if(s!=null&&s.dragOverlay)for(const[i,l]of Object.entries(s.dragOverlay))l!==void 0&&r.node.style.setProperty(i,l);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[l,u]of Object.entries(o))n.node.style.setProperty(l,u);a!=null&&a.active&&n.node.classList.remove(a.active)}},ms=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:ge.Transform.toString(e)},{transform:ge.Transform.toString(n)}]},bs={duration:250,easing:"ease",keyframes:ms,sideEffects:vs({styles:{active:{opacity:"0"}}})};function xs(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:o}=t;return gt((s,a)=>{if(e===null)return;const i=n.get(s);if(!i)return;const l=i.node.current;if(!l)return;const u=Mn(a);if(!u)return;const{transform:d}=$(a).getComputedStyle(a),f=hn(d);if(!f)return;const v=typeof e=="function"?e:ys(e);return wn(l,o.draggable.measure),v({active:{id:s,data:i.data,node:l,rect:o.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:a,rect:o.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:o,transform:f})})}function ys(t){const{duration:e,easing:n,sideEffects:r,keyframes:o}={...bs,...t};return s=>{let{active:a,dragOverlay:i,transform:l,...u}=s;if(!e)return;const d={x:i.rect.left-a.rect.left,y:i.rect.top-a.rect.top},f={scaleX:l.scaleX!==1?a.rect.width*l.scaleX/i.rect.width:1,scaleY:l.scaleY!==1?a.rect.height*l.scaleY/i.rect.height:1},v={x:l.x-d.x,y:l.y-d.y,...f},h=o({...u,active:a,dragOverlay:i,transform:{initial:l,final:v}}),[g]=h,m=h[h.length-1];if(JSON.stringify(g)===JSON.stringify(m))return;const b=r?.({active:a,dragOverlay:i,...u}),x=i.node.animate(h,{duration:e,easing:n,fill:"forwards"});return new Promise(w=>{x.onfinish=()=>{b?.(),w()}})}}let sn=0;function ws(t){return c.useMemo(()=>{if(t!=null)return sn++,sn},[t])}const za=I.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:o,transition:s,modifiers:a,wrapperElement:i="div",className:l,zIndex:u=999}=t;const{activatorEvent:d,active:f,activeNodeRect:v,containerNodeRect:h,draggableNodes:g,droppableContainers:m,dragOverlay:b,over:x,measuringConfiguration:w,scrollableAncestors:y,scrollableAncestorRects:R,windowRect:D}=Tn(),E=c.useContext(bt),C=ws(f?.id),S=An(a,{activatorEvent:d,active:f,activeNodeRect:v,containerNodeRect:h,draggingNodeRect:b.rect,over:x,overlayNodeRect:b.rect,scrollableAncestors:y,scrollableAncestorRects:R,transform:E,windowRect:D}),T=Lt(v),O=xs({config:r,draggableNodes:g,droppableContainers:m,measuringConfiguration:w}),A=T?b.setRef:void 0;return I.createElement(fs,null,I.createElement(us,{animation:O},f&&C?I.createElement(gs,{key:C,id:f.id,ref:A,as:i,activatorEvent:d,adjustScale:e,className:l,transition:s,rect:T,style:{zIndex:u,...o},transform:S},n):null))});async function Cs(t,e){const n=await Tt.task[":id"].$put({param:{id:t},json:{userId:e.userId||"",title:e.title,description:e.description||"",status:e.status,priority:e.priority||"",dueDate:e.dueDate?.toString(),position:e.position??0,projectId:e.projectId}});if(!n.ok){const o=await n.text();throw new Error(o)}return await n.json()}function Ss(){const t=K.c(2),e=sr();let n;return t[0]!==e?(n={mutationFn:Rs,onSuccess:(r,o)=>{e.invalidateQueries({queryKey:["task",o.id]}),e.invalidateQueries({queryKey:["tasks",o.projectId]}),e.invalidateQueries({queryKey:["notifications"]}),e.invalidateQueries({queryKey:["projects"]}),e.invalidateQueries({queryKey:["activities",o.id]})}},t[0]=e,t[1]=n):n=t[1],cn(n)}function Rs(t){return Cs(t.id,t)}function Ba(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/[^a-zA-Z0-9]+/g,"-").toLowerCase().replace(/^-|-$/g,"")}function In(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function Ds(t,e){return t.reduce((n,r,o)=>{const s=e.get(r);return s&&(n[o]=s),n},Array(t.length))}function tt(t){return t!==null&&t>=0}function Ms(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Es(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const On=t=>{let{rects:e,activeIndex:n,overIndex:r,index:o}=t;const s=In(e,r,n),a=e[o],i=s[o];return!i||!a?null:{x:i.left-a.left,y:i.top-a.top,scaleX:i.width/a.width,scaleY:i.height/a.height}},nt={scaleX:1,scaleY:1},Fa=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:o,rects:s,overIndex:a}=t;const i=(e=s[n])!=null?e:r;if(!i)return null;if(o===n){const u=s[a];return u?{x:0,y:n<a?u.top+u.height-(i.top+i.height):u.top-i.top,...nt}:null}const l=Ns(s,o,n);return o>n&&o<=a?{x:0,y:-i.height-l,...nt}:o<n&&o>=a?{x:0,y:i.height+l,...nt}:{x:0,y:0,...nt}};function Ns(t,e,n){const r=t[e],o=t[e-1],s=t[e+1];return r?n<e?o?r.top-(o.top+o.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const kn="Sortable",jn=I.createContext({activeIndex:-1,containerId:kn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:On,disabled:{draggable:!1,droppable:!1}});function Ua(t){let{children:e,id:n,items:r,strategy:o=On,disabled:s=!1}=t;const{active:a,dragOverlay:i,droppableRects:l,over:u,measureDroppableContainers:d}=Tn(),f=We(kn,n),v=i.rect!==null,h=c.useMemo(()=>r.map(E=>typeof E=="object"&&"id"in E?E.id:E),[r]),g=a!=null,m=a?h.indexOf(a.id):-1,b=u?h.indexOf(u.id):-1,x=c.useRef(h),w=!Ms(h,x.current),y=b!==-1&&m===-1||w,R=Es(s);V(()=>{w&&g&&d(h)},[w,h,g,d]),c.useEffect(()=>{x.current=h},[h]);const D=c.useMemo(()=>({activeIndex:m,containerId:f,disabled:R,disableTransforms:y,items:h,overIndex:b,useDragOverlay:v,sortedRects:Ds(h,l),strategy:o}),[m,f,R.draggable,R.droppable,y,h,b,l,v,o]);return I.createElement(jn.Provider,{value:D},e)}const As=t=>{let{id:e,items:n,activeIndex:r,overIndex:o}=t;return In(n,r,o).indexOf(e)},Ts=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:o,items:s,newIndex:a,previousItems:i,previousContainerId:l,transition:u}=t;return!u||!r||i!==s&&o===a?!1:n?!0:a!==o&&e===l},Is={duration:200,easing:"ease"},Pn="transform",Os=ge.Transition.toString({property:Pn,duration:0,easing:"linear"}),ks={roleDescription:"sortable"};function js(t){let{disabled:e,index:n,node:r,rect:o}=t;const[s,a]=c.useState(null),i=c.useRef(n);return V(()=>{if(!e&&n!==i.current&&r.current){const l=o.current;if(l){const u=Me(r.current,{ignoreTransform:!0}),d={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(d.x||d.y)&&a(d)}}n!==i.current&&(i.current=n)},[e,n,r,o]),c.useEffect(()=>{s&&a(null)},[s]),s}function Xa(t){let{animateLayoutChanges:e=Ts,attributes:n,disabled:r,data:o,getNewIndex:s=As,id:a,strategy:i,resizeObserverConfig:l,transition:u=Is}=t;const{items:d,containerId:f,activeIndex:v,disabled:h,disableTransforms:g,sortedRects:m,overIndex:b,useDragOverlay:x,strategy:w}=c.useContext(jn),y=Ps(r,h),R=d.indexOf(a),D=c.useMemo(()=>({sortable:{containerId:f,index:R,items:d},...o}),[f,o,R,d]),E=c.useMemo(()=>d.slice(d.indexOf(a)),[d,a]),{rect:C,node:S,isOver:T,setNodeRef:O}=ls({id:a,data:D,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...l}}),{active:A,activatorEvent:q,activeNodeRect:H,attributes:Q,setNodeRef:Ee,listeners:He,isDragging:B,over:Ve,setActivatorNodeRef:ne,transform:Ne}=as({id:a,data:D,attributes:{...ks,...n},disabled:y.draggable}),Je=Yr(O,Ee),z=!!A,re=z&&!g&&tt(v)&&tt(b),he=!x&&B,Ae=he&&re?Ne:null,Qe=re?Ae??(i??w)({rects:m,activeNodeRect:H,activeIndex:v,overIndex:b,index:R}):null,ie=tt(v)&&tt(b)?s({id:a,items:d,activeIndex:v,overIndex:b}):R,oe=A?.id,N=c.useRef({activeId:oe,items:d,newIndex:ie,containerId:f}),Te=d!==N.current.items,Z=e({active:A,containerId:f,isDragging:B,isSorting:z,id:a,index:R,items:d,newIndex:N.current.newIndex,previousItems:N.current.items,previousContainerId:N.current.containerId,transition:u,wasDragging:N.current.activeId!=null}),ve=js({disabled:!Z,index:R,node:S,rect:C});return c.useEffect(()=>{z&&N.current.newIndex!==ie&&(N.current.newIndex=ie),f!==N.current.containerId&&(N.current.containerId=f),d!==N.current.items&&(N.current.items=d)},[z,ie,f,d]),c.useEffect(()=>{if(oe===N.current.activeId)return;if(oe!=null&&N.current.activeId==null){N.current.activeId=oe;return}const me=setTimeout(()=>{N.current.activeId=oe},50);return()=>clearTimeout(me)},[oe]),{active:A,activeIndex:v,attributes:Q,data:D,rect:C,index:R,newIndex:ie,items:d,isOver:T,isSorting:z,isDragging:B,listeners:He,node:S,overIndex:b,over:Ve,setNodeRef:Je,setActivatorNodeRef:ne,setDroppableNodeRef:O,setDraggableNodeRef:Ee,transform:ve??Qe,transition:se()};function se(){if(ve||Te&&N.current.newIndex===R)return Os;if(!(he&&!vt(q)||!u)&&(z||Z))return ge.Transition.toString({...u,property:Pn})}}function Ps(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}M.Down,M.Right,M.Up,M.Left;async function Ls(t){const e=await Tt.task[":id"].$delete({param:{id:t}});if(!e.ok){const r=await e.text();throw new Error(r)}return await e.json()}function Ka(){const t=K.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={mutationFn:Ls},t[0]=e):e=t[0],cn(e)}var _t="ContextMenu",[_s]=ur(_t,[ln]),_=ln(),[$s,Ln]=_s(_t),_n=t=>{const{__scopeContextMenu:e,children:n,onOpenChange:r,dir:o,modal:s=!0}=t,[a,i]=c.useState(!1),l=_(e),u=Ar(r),d=c.useCallback(f=>{i(f),u(f)},[u]);return p.jsx($s,{scope:e,open:a,onOpenChange:d,modal:s,children:p.jsx(pr,{...l,dir:o,open:a,onOpenChange:d,modal:s,children:n})})};_n.displayName=_t;var $n="ContextMenuTrigger",zn=c.forwardRef((t,e)=>{const{__scopeContextMenu:n,disabled:r=!1,...o}=t,s=Ln($n,n),a=_(n),i=c.useRef({x:0,y:0}),l=c.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...i.current})}),u=c.useRef(0),d=c.useCallback(()=>window.clearTimeout(u.current),[]),f=v=>{i.current={x:v.clientX,y:v.clientY},s.onOpenChange(!0)};return c.useEffect(()=>d,[d]),c.useEffect(()=>void(r&&d()),[r,d]),p.jsxs(p.Fragment,{children:[p.jsx(hr,{...a,virtualRef:l}),p.jsx(dr.span,{"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,...o,ref:e,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:r?t.onContextMenu:Le(t.onContextMenu,v=>{d(),f(v),v.preventDefault()}),onPointerDown:r?t.onPointerDown:Le(t.onPointerDown,rt(v=>{d(),u.current=window.setTimeout(()=>f(v),700)})),onPointerMove:r?t.onPointerMove:Le(t.onPointerMove,rt(d)),onPointerCancel:r?t.onPointerCancel:Le(t.onPointerCancel,rt(d)),onPointerUp:r?t.onPointerUp:Le(t.onPointerUp,rt(d))})]})});zn.displayName=$n;var zs="ContextMenuPortal",Bn=t=>{const{__scopeContextMenu:e,...n}=t,r=_(e);return p.jsx(gr,{...r,...n})};Bn.displayName=zs;var Fn="ContextMenuContent",Un=c.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=Ln(Fn,n),s=_(n),a=c.useRef(!1);return p.jsx(vr,{...s,...r,ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),!i.defaultPrevented&&a.current&&i.preventDefault(),a.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),!i.defaultPrevented&&!o.modal&&(a.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Un.displayName=Fn;var Bs="ContextMenuGroup",Fs=c.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=_(n);return p.jsx(Sr,{...o,...r,ref:e})});Fs.displayName=Bs;var Us="ContextMenuLabel",Xs=c.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=_(n);return p.jsx(Rr,{...o,...r,ref:e})});Xs.displayName=Us;var Ks="ContextMenuItem",Xn=c.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=_(n);return p.jsx(mr,{...o,...r,ref:e})});Xn.displayName=Ks;var Ys="ContextMenuCheckboxItem",Kn=c.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=_(n);return p.jsx(Cr,{...o,...r,ref:e})});Kn.displayName=Ys;var Gs="ContextMenuRadioGroup",Ws=c.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=_(n);return p.jsx(Dr,{...o,...r,ref:e})});Ws.displayName=Gs;var qs="ContextMenuRadioItem",Hs=c.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=_(n);return p.jsx(Mr,{...o,...r,ref:e})});Hs.displayName=qs;var Vs="ContextMenuItemIndicator",Yn=c.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=_(n);return p.jsx(Er,{...o,...r,ref:e})});Yn.displayName=Vs;var Js="ContextMenuSeparator",Gn=c.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=_(n);return p.jsx(br,{...o,...r,ref:e})});Gn.displayName=Js;var Qs="ContextMenuArrow",Zs=c.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=_(n);return p.jsx(Nr,{...o,...r,ref:e})});Zs.displayName=Qs;var Wn="ContextMenuSub",qn=t=>{const{__scopeContextMenu:e,children:n,onOpenChange:r,open:o,defaultOpen:s}=t,a=_(e),[i,l]=fr({prop:o,defaultProp:s??!1,onChange:r,caller:Wn});return p.jsx(xr,{...a,open:i,onOpenChange:l,children:n})};qn.displayName=Wn;var ea="ContextMenuSubTrigger",Hn=c.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=_(n);return p.jsx(yr,{...o,...r,ref:e})});Hn.displayName=ea;var ta="ContextMenuSubContent",Vn=c.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=_(n);return p.jsx(wr,{...o,...r,ref:e,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Vn.displayName=ta;function rt(t){return e=>e.pointerType!=="mouse"?t(e):void 0}var na=_n,ra=zn,oa=Bn,sa=Un,aa=Xn,ia=Kn,ca=Yn,la=Gn,ua=qn,da=Hn,fa=Vn;function Ya(t){const e=K.c(8);let n,r;e[0]!==t?({onOpenChange:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let o;e[3]!==n?(o=a=>{a||setTimeout(pa,100),n?.(a)},e[3]=n,e[4]=o):o=e[4];let s;return e[5]!==r||e[6]!==o?(s=p.jsx(na,{"data-slot":"context-menu",onOpenChange:o,...r}),e[5]=r,e[6]=o,e[7]=s):s=e[7],s}function pa(){document.body.style.pointerEvents=""}function Ga(t){const e=K.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=p.jsx(ra,{"data-slot":"context-menu-trigger",...n}),e[2]=n,e[3]=r):r=e[3],r}function ot(t){const e=K.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=p.jsx(ua,{"data-slot":"context-menu-sub",...n}),e[2]=n,e[3]=r):r=e[3],r}function st(t){const e=K.c(13);let n,r,o,s;e[0]!==t?({className:r,inset:o,children:n,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=o,e[4]=s):(n=e[1],r=e[2],o=e[3],s=e[4]);let a;e[5]!==r?(a=Se("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),e[5]=r,e[6]=a):a=e[6];let i;e[7]===Symbol.for("react.memo_cache_sentinel")?(i=p.jsx(Tr,{className:"ml-auto"}),e[7]=i):i=e[7];let l;return e[8]!==n||e[9]!==o||e[10]!==s||e[11]!==a?(l=p.jsxs(da,{"data-slot":"context-menu-sub-trigger","data-inset":o,className:a,...s,children:[n,i]}),e[8]=n,e[9]=o,e[10]=s,e[11]=a,e[12]=l):l=e[12],l}function at(t){const e=K.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let o;e[3]!==n?(o=Se("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",n),e[3]=n,e[4]=o):o=e[4];let s;return e[5]!==r||e[6]!==o?(s=p.jsx(fa,{"data-slot":"context-menu-sub-content",className:o,...r}),e[5]=r,e[6]=o,e[7]=s):s=e[7],s}function ha(t){const e=K.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let o;e[3]!==n?(o=Se("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),e[3]=n,e[4]=o):o=e[4];let s;return e[5]!==r||e[6]!==o?(s=p.jsx(oa,{children:p.jsx(sa,{"data-slot":"context-menu-content",className:o,...r})}),e[5]=r,e[6]=o,e[7]=s):s=e[7],s}function it(t){const e=K.c(12);let n,r,o,s;e[0]!==t?({className:n,inset:r,variant:s,...o}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=o,e[4]=s):(n=e[1],r=e[2],o=e[3],s=e[4]);const a=s===void 0?"default":s;let i;e[5]!==n?(i=Se("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),e[5]=n,e[6]=i):i=e[6];let l;return e[7]!==r||e[8]!==o||e[9]!==i||e[10]!==a?(l=p.jsx(aa,{"data-slot":"context-menu-item","data-inset":r,"data-variant":a,className:i,...o}),e[7]=r,e[8]=o,e[9]=i,e[10]=a,e[11]=l):l=e[11],l}function _e(t){const e=K.c(13);let n,r,o,s;e[0]!==t?({className:o,children:r,checked:n,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=o,e[4]=s):(n=e[1],r=e[2],o=e[3],s=e[4]);let a;e[5]!==o?(a=Se("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",o),e[5]=o,e[6]=a):a=e[6];let i;e[7]===Symbol.for("react.memo_cache_sentinel")?(i=p.jsx("span",{className:"pointer-events-none absolute right-2 flex size-3.5 items-center justify-center",children:p.jsx(ca,{children:p.jsx(Ir,{className:"size-4"})})}),e[7]=i):i=e[7];let l;return e[8]!==n||e[9]!==r||e[10]!==s||e[11]!==a?(l=p.jsxs(ia,{"data-slot":"context-menu-checkbox-item",className:a,checked:n,...s,children:[r,i]}),e[8]=n,e[9]=r,e[10]=s,e[11]=a,e[12]=l):l=e[12],l}function Mt(t){const e=K.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let o;e[3]!==n?(o=Se("bg-border -mx-1 my-1 h-px",n),e[3]=n,e[4]=o):o=e[4];let s;return e[5]!==r||e[6]!==o?(s=p.jsx(la,{"data-slot":"context-menu-separator",className:o,...r}),e[5]=r,e[6]=o,e[7]=s):s=e[7],s}function ga(t=""){return`${`${window.location.protocol}//${window.location.host}`}${t}`}function Wa({task:t,taskCardContext:e,onDeleteClick:n}){const{data:r}=Or(e.worskpaceId),{mutateAsync:o}=Ss(),{mutateAsync:s}=kr(),{mutateAsync:a}=jr(),{mutateAsync:i}=Pr(),{mutateAsync:l}=Lr(),{mutateAsync:u}=_r(),{mutateAsync:d}=$r(),f=c.useMemo(()=>r?.members?.map(g=>({label:g?.user?.name??g.userId,value:g.userId,image:g?.user?.image??"",name:g?.user?.name??""})),[r]),v=()=>{const g=`/dashboard/workspace/${e.worskpaceId}/project/${e.projectId}/task/${t.id}`,m=ga(g);navigator.clipboard.writeText(m),Pe.success("Task link copied!")},h=async(g,m)=>{try{switch(g){case"priority":await s({...t,priority:m});break;case"status":await a({...t,status:m});break;case"userId":await i({...t,userId:m});break;case"title":await l({...t,title:m});break;case"description":await u({...t,description:m});break;default:await o({...t,[g]:m})}}catch(b){Pe.error(b instanceof Error?b.message:"Failed to update task")}finally{Pe.success("Task updated successfully")}};return p.jsxs(ha,{className:"w-46",children:[p.jsx(it,{onClick:v,children:p.jsx("span",{children:"Copy link"})}),p.jsx(Mt,{}),p.jsxs(ot,{children:[p.jsx(st,{className:"gap-2",children:p.jsx("span",{children:"Priority"})}),p.jsxs(at,{className:"w-48",children:[p.jsxs(_e,{checked:t.priority==="no-priority",onCheckedChange:()=>h("priority","no-priority"),className:"[&_svg]:text-muted-foreground",children:[Gt("no-priority"),p.jsx("span",{children:"No Priority"})]},"no-priority"),["low","medium","high","urgent"].map(g=>p.jsxs(_e,{checked:t.priority===g,onCheckedChange:()=>h("priority",g),className:"[&_svg]:text-muted-foreground",children:[Gt(g),p.jsx("span",{className:"capitalize",children:g})]},g))]})]}),p.jsxs(ot,{children:[p.jsx(st,{children:p.jsx("span",{children:"Status"})}),p.jsx(at,{className:"w-48",children:["to-do","in-progress","in-review","done"].map(g=>p.jsxs(_e,{checked:t.status===g,onCheckedChange:()=>h("status",g),className:"[&_svg]:text-muted-foreground",children:[zr(g),p.jsx("span",{className:"capitalize",children:g})]},g))})]}),p.jsxs(ot,{children:[p.jsx(st,{children:p.jsx("span",{children:"Due date"})}),p.jsx(at,{className:"w-64 p-2",children:p.jsx(lr,{mode:"single",selected:t.dueDate?new Date(t.dueDate):void 0,onSelect:async g=>{try{await d({...t,dueDate:g?.toISOString()||null}),Pe.success("Task due date updated successfully")}catch(m){Pe.error(m instanceof Error?m.message:"Failed to update task due date")}},className:"w-full !bg-popover"})})]}),f&&p.jsxs(ot,{children:[p.jsx(st,{children:p.jsx("span",{children:"Assignee"})}),p.jsxs(at,{className:"w-48",children:[p.jsxs(_e,{checked:!t.userId,onCheckedChange:()=>h("userId",""),children:[p.jsxs("div",{className:"w-6 h-6 rounded-full bg-muted border border-border flex items-center justify-center",title:"Unassigned",children:[p.jsx("span",{className:"text-[10px] font-medium text-muted-foreground",children:"?"})," "]}),"Unassigned"]}),f.map(g=>p.jsxs(_e,{checked:t.userId===g.value,onCheckedChange:()=>h("userId",g.value??""),children:[p.jsxs(ar,{className:"h-6 w-6",children:[p.jsx(ir,{src:g.image??"",alt:g.name||""}),p.jsx(cr,{className:"text-xs font-medium border border-border/30",children:g.name?.charAt(0).toUpperCase()})]}),g.label]},g.value))]})]}),p.jsx(Mt,{}),p.jsx(it,{onClick:()=>h("status","archived"),children:p.jsx("span",{children:"Archive"})}),p.jsx(it,{onClick:()=>h("status","planned"),children:p.jsx("span",{children:"Mark as planned"})}),p.jsx(Mt,{}),p.jsx(it,{className:"text-destructive",onClick:g=>{g.preventDefault(),setTimeout(()=>{n()},0)},children:p.jsx("span",{children:"Delete..."})})]})}const va=[{value:"gray",label:"Stone",color:"#78716c"},{value:"dark-gray",label:"Slate",color:"#64748b"},{value:"purple",label:"Lavender",color:"#8b5cf6"},{value:"teal",label:"Sage",color:"#059669"},{value:"green",label:"Forest",color:"#16a34a"},{value:"yellow",label:"Amber",color:"#d97706"},{value:"orange",label:"Terracotta",color:"#ea580c"},{value:"pink",label:"Rose",color:"#e11d48"},{value:"red",label:"Crimson",color:"#dc2626"}];function qa(t){const e=K.c(6),{taskId:n}=t,{data:r}=Br(n);let o;e[0]!==r?(o=r===void 0?[]:r,e[0]=r,e[1]=o):o=e[1];const s=o;if(!s.length)return null;let a;e[2]!==s?(a=s.map(ma),e[2]=s,e[3]=a):a=e[3];let i;return e[4]!==a?(i=p.jsx("div",{className:"flex flex-wrap gap-1",children:a}),e[4]=a,e[5]=i):i=e[5],i}function ma(t){return p.jsxs(Fr,{color:t.color,variant:"outline",className:"px-2 py-0.5 text-[10px] flex items-center",children:[p.jsx("span",{className:"inline-block w-1.5 h-1.5 mr-1 rounded-full",style:{backgroundColor:va.find(e=>e.value===t.color)?.color||"#94a3b8"}}),p.jsx("span",{className:"truncate max-w-[80px]",children:t.name})]},t.id)}const Ha=t=>{let{activatorEvent:e,draggingNodeRect:n,transform:r}=t;if(n&&e){const o=Xe(e);if(!o)return r;const s=o.x-n.left,a=o.y-n.top;return{...r,x:r.x+s-n.width/2,y:r.y+a-n.height/2}}return r};async function ba(t){const e=await Tt.task.tasks[":projectId"].$get({param:{projectId:t}});if(!e.ok){const r=await e.text();throw new Error(r)}return await e.json()}function Va(t){const e=K.c(7);let n,r;e[0]!==t?(n=["tasks",t],r=()=>ba(t),e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);const o=!!t;let s;return e[3]!==n||e[4]!==r||e[5]!==o?(s={queryKey:n,queryFn:r,refetchInterval:5e3,enabled:o},e[3]=n,e[4]=r,e[5]=o,e[6]=s):s=e[6],Ur(s)}export{ka as A,ge as C,za as D,ja as F,Sn as K,Oo as M,Ua as S,qa as T,Ka as a,Ya as b,Ga as c,Wa as d,ls as e,Ss as f,La as g,Pa as h,ko as i,vs as j,$a as k,_a as l,Va as m,Ha as s,Ba as t,Xa as u,Fa as v};
