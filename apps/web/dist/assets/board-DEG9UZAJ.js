import{a as zs,u as ms,r as _,j as t,v as Ss,t as ee,c as Pe,n as Is,d as ts,A as dt}from"./index-D6_JMR29.js";import{P as mt}from"./project-layout-Dfroj-0i.js";import{u as Ts,a as As,C as Ms,b as $s,c as Ps,T as Ls,d as Os,e as _s,S as Es,v as Fs,f as us,A as Us,t as Ws,g as Ks,h as $e,K as Rs,i as Bs,M as qs,j as ut,D as Gs,k as Qs,l as Hs,s as ht,m as xt,F as ft}from"./use-get-tasks-D5QZfgCj.js";import{p as as,C as hs}from"./create-task-modal-BiimqmcX.js";import{u as Le}from"./project-Bb0wcCkA.js";import{A as Vs,a as Xs,b as Ys,c as Js,d as Zs,e as et,f as st,g as tt}from"./alert-dialog-Df-VbuAQ.js";import{A as xs,b as fs,a as ps}from"./avatar-BVGO6hTJ.js";import{u as at}from"./use-active-workspace-DO0oIQWU.js";import{u as gs,g as ns,l as js}from"./label-colors-8UuYiFqu.js";import{d as nt,g as q,b as rt,c as it}from"./due-date-status-C9IOja7g.js";import{g as rs,f as lt,s as ks}from"./priority-Bhdual4o.js";import{C as bs,a as pt,P as gt}from"./project-icons-C5t--tF0.js";import{P as ot}from"./create-project-modal-Cne2zI5Z.js";import{p as bt}from"./priority-colors-6ek9MFmG.js";import{C as jt}from"./chevron-right-Dbn00CNb.js";import{P as kt}from"./page-title-D2qfPOLM.js";import{B as K}from"./button-EC3LtV52.js";import{D as Oe,a as _e,b as Ee,c as vs,d as Ns,e as ws,f as cs,g as vt,h as Fe}from"./layout-CW2eFLdS.js";import{a as ys,e as Ds,u as Nt}from"./use-get-labels-by-workspace-C9xMoTEH.js";import{t as ds}from"./en-US-DIdCsyf3.js";import{X as Ue}from"./x-BiMo91W-.js";import{U as wt}from"./user-G-k1XeFN.js";import{c as yt}from"./createLucideIcon-CRcKb1Ol.js";import{L as Dt}from"./list-gjk-xblB.js";import"./useLocation-D8sQn3ZG.js";import"./notification-dropdown-CZcG6wot.js";import"./badge-DgtRj8pM.js";import"./index-J3ygd6UU.js";import"./index-BlCpMXjl.js";import"./index-D2z6sO9D.js";import"./index-Dtyx9z7_.js";import"./index-sjf38YVm.js";import"./index-DlhLTHW_.js";import"./index-Bkpo5cC8.js";import"./index-BnceiTS-.js";import"./index-BrfIpMvE.js";import"./tooltip-CdvJmOJg.js";import"./index-IN0mQVXW.js";import"./index-DomteP0B.js";import"./index-J_fMdZqQ.js";import"./useMutation-B_C6xvhR.js";import"./useQuery-BDxn_D7I.js";import"./separator-Cv6BfWof.js";import"./index-Xyhz7DHc.js";import"./sidebar-C6zCFglj.js";import"./use-get-project-BeZMn5W-.js";import"./check-IjCBnfdg.js";import"./input-BncAdNhM.js";import"./popover-1qwL5cRb.js";import"./search-BHoHnvlf.js";import"./circle-check-CrDXoG6g.js";import"./chevron-down-BSVZ8qIu.js";import"./chevron-up-CaCzMnzW.js";import"./users-DuQM-a9l.js";import"./settings-8jW1THm0.js";import"./building-2-DuX-XVkM.js";import"./index-6HzwgF_f.js";import"./index-BMwPMg65.js";import"./use-create-workspace-DP7ePvTH.js";import"./create-slug-VE8e1keW.js";import"./loader-circle-DwAUW7-I.js";import"./collapsible-BzsgDJ0n.js";import"./use-delete-project-WU8lx2qP.js";import"./use-get-projects-CoJzRJjM.js";import"./index.esm-C6Qxl6lY.js";import"./index-MjJcs9DE.js";import"./index-CdGl6-Bn.js";import"./index-DoArV3ca.js";import"./index-xgW0SxxU.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],zt=yt("settings-2",Ct);function Cs(e,s,a){const u=+ds(e,a?.in),[i,N]=[+ds(s.start,a?.in),+ds(s.end,a?.in)].sort((c,h)=>c-h);return u>=i&&u<=N}function ct({task:e}){const{attributes:s,listeners:a,setNodeRef:u,transform:i,transition:N,isDragging:c}=Ts({id:e.id}),{project:h}=Le(),{data:g}=at(),b=zs(),{showAssignees:p,showPriority:j,showDueDates:k,showLabels:x,showTaskNumbers:D}=ms(),[C,r]=_.useState(!1),{mutateAsync:f}=As(),S={transform:Ms.Transform.toString(i),transition:N||"transform 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94)",opacity:c?.6:1,touchAction:"none",zIndex:c?999:"auto"},{data:I}=gs(g?.id??""),y=_.useMemo(()=>I?.members?.find(d=>d.userId===e.userId),[I,e.userId]);function n(){!h||!e||!g||b({to:"/dashboard/workspace/$workspaceId/project/$projectId/task/$taskId",params:{workspaceId:g.id,projectId:h.id,taskId:e.id}})}const o=async()=>{try{await f(e.id),Ss.invalidateQueries({queryKey:["tasks",h?.id]})}catch(d){ee.error(d instanceof Error?d.message:"Failed to delete task")}finally{ee.success("Task deleted successfully")}};return t.jsxs("div",{ref:u,style:S,...s,...a,children:[t.jsxs($s,{children:[t.jsx(Ps,{asChild:!0,children:t.jsxs("div",{onClick:n,className:`group bg-card border border-border rounded-lg p-3 cursor-move transition-all duration-200 ease-out relative ${c?"border-primary/30 shadow-lg shadow-primary/10 bg-card/90":"hover:border-border/70 hover:shadow-sm"}`,onKeyDown:d=>{d.key==="Enter"&&n()},children:[D&&t.jsxs("div",{className:"text-[10px] font-mono text-muted-foreground mb-2",children:[h?.slug,"-",e.number]}),p&&t.jsx("div",{className:"absolute top-3 right-3",children:e.userId?t.jsxs(xs,{className:"h-6 w-6",children:[t.jsx(fs,{src:y?.user?.image??"",alt:y?.user?.name||""}),t.jsx(ps,{className:"text-xs font-medium border border-border/30",children:y?.user?.name?.charAt(0).toUpperCase()})]}):t.jsx("div",{className:"w-6 h-6 rounded-full bg-muted border border-border flex items-center justify-center",title:"Unassigned",children:t.jsx("span",{className:"text-[10px] font-medium text-muted-foreground",children:"?"})})}),t.jsx("div",{className:"mb-3 pr-7",children:t.jsx("h3",{className:"font-medium text-foreground text-sm leading-relaxed overflow-hidden break-words",style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",wordBreak:"break-word",hyphens:"auto"},children:e.title})}),x&&t.jsx("div",{className:"mb-3",children:t.jsx(Ls,{taskId:e.id})}),t.jsxs("div",{className:"flex items-center gap-2",children:[j&&t.jsx("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded border border-border bg-sidebar text-[10px] font-medium text-muted-foreground",children:rs(e.priority??"")}),k&&e.dueDate&&t.jsxs("div",{className:`flex items-center gap-1 text-[10px] px-2 py-1 rounded ${nt[q(e.dueDate)]}`,children:[q(e.dueDate)==="overdue"&&t.jsx(rt,{className:"w-3 h-3"}),q(e.dueDate)==="due-soon"&&t.jsx(it,{className:"w-3 h-3"}),(q(e.dueDate)==="far-future"||q(e.dueDate)==="no-due-date")&&t.jsx(bs,{className:"w-3 h-3"}),t.jsx("span",{children:lt(new Date(e.dueDate),"MMM d")})]})]})]})}),h&&g&&t.jsx(Os,{task:e,taskCardContext:{projectId:h.id,worskpaceId:g.id},onDeleteClick:()=>r(!0)})]}),t.jsx(Vs,{open:C,onOpenChange:r,children:t.jsxs(Xs,{children:[t.jsxs(Ys,{children:[t.jsx(Js,{children:"Delete Task?"}),t.jsx(Zs,{children:"This will permanently remove the task and all its data. You can't undo this action."})]}),t.jsxs(et,{children:[t.jsx(st,{children:"Cancel"}),t.jsx(tt,{onClick:o,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Task"})]})]})})]})}function St(e){const s=Pe.c(19),{column:a,onIsOverChange:u}=e;let i;s[0]!==a?(i={type:"column",column:a},s[0]=a,s[1]=i):i=s[1];let N;s[2]!==a.id||s[3]!==i?(N={id:a.id,data:i},s[2]=a.id,s[3]=i,s[4]=N):N=s[4];const{setNodeRef:c,isOver:h}=_s(N);let g,b;s[5]!==h||s[6]!==u?(g=()=>{u?.(h)},b=[h,u],s[5]=h,s[6]=u,s[7]=g,s[8]=b):(g=s[7],b=s[8]),_.useEffect(g,b);const p=a.tasks;let j;s[9]!==a.tasks?(j=a.tasks.map(It),s[9]=a.tasks,s[10]=j):j=s[10];let k;s[11]!==j?(k=t.jsx("div",{className:"flex flex-col gap-1.5",children:j}),s[11]=j,s[12]=k):k=s[12];let x;s[13]!==a.tasks||s[14]!==k?(x=t.jsx(Es,{items:p,strategy:Fs,children:k}),s[13]=a.tasks,s[14]=k,s[15]=x):x=s[15];let D;return s[16]!==c||s[17]!==x?(D=t.jsx("div",{ref:c,className:"flex-1 min-h-0",children:x}),s[16]=c,s[17]=x,s[18]=D):D=s[18],D}function It(e){return t.jsx(ct,{task:e},e.id)}function Tt(e){const s=Pe.c(23),{column:a}=e,{project:u,setProject:i}=Le(),{mutate:N}=us();let c;s[0]!==a.id||s[1]!==a.tasks.length||s[2]!==u||s[3]!==i||s[4]!==N?(c=()=>{if(a.id!=="done")return;if(a.tasks.length===0){ee.info("No tasks to archive");return}if(!confirm(`Archive all ${a.tasks.length} completed tasks?`))return;const D=as(u,C=>{const r=C?.columns?.find(At);if(r){for(const f of r.tasks)N({...f,status:"archived"});r.tasks=[]}});i(D),ee.success(`Archived ${a.tasks.length} tasks`)},s[0]=a.id,s[1]=a.tasks.length,s[2]=u,s[3]=i,s[4]=N,s[5]=c):c=s[5];const h=c;let g;s[6]!==a.id?(g=ns(a.id),s[6]=a.id,s[7]=g):g=s[7];let b;s[8]!==a.name?(b=t.jsx("h3",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:a.name}),s[8]=a.name,s[9]=b):b=s[9];let p;s[10]!==a.tasks.length?(p=t.jsx("span",{className:"text-sm text-zinc-500 dark:text-zinc-500",children:a.tasks.length}),s[10]=a.tasks.length,s[11]=p):p=s[11];let j;s[12]!==g||s[13]!==b||s[14]!==p?(j=t.jsxs("div",{className:"flex items-center gap-2",children:[g,b,p]}),s[12]=g,s[13]=b,s[14]=p,s[15]=j):j=s[15];let k;s[16]!==a.id||s[17]!==a.tasks.length||s[18]!==h?(k=a.id==="done"&&a.tasks.length>0&&t.jsx("button",{type:"button",onClick:h,className:"text-left px-2 py-1.5 text-zinc-600 hover:bg-zinc-100 dark:text-zinc-400 dark:hover:bg-zinc-800/50 rounded-md flex items-center transition-all group",title:"Archive all completed tasks",children:t.jsx(Us,{className:"w-4 h-4 text-zinc-500 dark:text-zinc-400"})}),s[16]=a.id,s[17]=a.tasks.length,s[18]=h,s[19]=k):k=s[19];let x;return s[20]!==j||s[21]!==k?(x=t.jsxs("div",{className:"flex items-center justify-between",children:[j,k]}),s[20]=j,s[21]=k,s[22]=x):x=s[22],x}function At(e){return e.id==="done"}function Mt(e){const s=Pe.c(17),{column:a}=e,[u,i]=_.useState(!1),[N,c]=_.useState(!1),h=`flex flex-col h-full w-full min-h-0 backdrop-blur-xs rounded-lg relative group transition-all duration-300 ease-out ${N?"bg-indigo-50/60 dark:bg-indigo-950/40 ring-1 ring-indigo-200 dark:ring-indigo-800/50 shadow-md shadow-indigo-500/10":"bg-sidebar border border-border/50 dark:bg-zinc-900/30 hover:bg-zinc-50/40 dark:hover:bg-zinc-900/40 hover:shadow-sm"}`;let g;s[0]===Symbol.for("react.memo_cache_sentinel")?(g=()=>i(!1),s[0]=g):g=s[0];let b;s[1]!==a.name?(b=Ws(a.name),s[1]=a.name,s[2]=b):b=s[2];let p;s[3]!==u||s[4]!==b?(p=t.jsx(hs,{open:u,onClose:g,status:b}),s[3]=u,s[4]=b,s[5]=p):p=s[5];let j;s[6]!==a?(j=t.jsx("div",{className:"p-2 shrink-0",children:t.jsx(Tt,{column:a})}),s[6]=a,s[7]=j):j=s[7];let k;s[8]!==a?(k=t.jsx("div",{className:"p-2 overflow-y-auto overflow-x-hidden flex-1 min-h-0",children:t.jsx(St,{column:a,onIsOverChange:c})}),s[8]=a,s[9]=k):k=s[9];let x;s[10]===Symbol.for("react.memo_cache_sentinel")?(x=()=>i(!0),s[10]=x):x=s[10];let D;s[11]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("div",{className:"p-1.5 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:t.jsxs("button",{type:"button",onClick:x,className:"w-full text-left px-2 py-1 text-sm text-zinc-500 hover:text-zinc-700 dark:text-zinc-500 dark:hover:text-zinc-300 hover:bg-zinc-50 dark:hover:bg-zinc-800/30 rounded-md flex items-center gap-2 transition-all",children:[t.jsx(ot,{className:"w-4 h-4"}),t.jsx("span",{children:"Add task"})]})}),s[11]=D):D=s[11];let C;return s[12]!==h||s[13]!==p||s[14]!==j||s[15]!==k?(C=t.jsxs("div",{className:h,children:[p,j,k,D]}),s[12]=h,s[13]=p,s[14]=j,s[15]=k,s[16]=C):C=s[16],C}function $t(e){const s=Pe.c(27),{project:a}=e,u=Is(),{setProject:i}=Le(),[N,c]=_.useState(null),{mutate:h}=us();let g;s[0]===Symbol.for("react.memo_cache_sentinel")?(g={activationConstraint:{distance:8}},s[0]=g):g=s[0];let b;s[1]===Symbol.for("react.memo_cache_sentinel")?(b={activationConstraint:{delay:200,tolerance:8}},s[1]=b):b=s[1];const p=Ks($e(qs,g),$e(Bs,b),$e(Rs));let j;s[2]===Symbol.for("react.memo_cache_sentinel")?(j={sideEffects:ut({styles:{active:{opacity:"0.8"}}}),duration:300,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"},s[2]=j):j=s[2];const k=j;let x;s[3]===Symbol.for("react.memo_cache_sentinel")?(x=v=>{c(v.active.id)},s[3]=x):x=s[3];const D=x;let C;s[4]!==a||s[5]!==u||s[6]!==i||s[7]!==h?(C=v=>{const{active:m,over:A}=v;if(c(null),!A||!a?.columns)return;const F=m.id.toString(),M=A.id.toString(),$=as(a,W=>{const O=W?.columns?.find(z=>z.tasks.some(L=>L.id===F)),w=W?.columns?.find(z=>z.id===M||z.tasks.some(L=>L.id===M));if(!O||!w)return;const T=O.tasks.findIndex(z=>z.id===F),U=O.tasks[T];if(O.tasks=O.tasks.filter(z=>z.id!==F),O.id===w.id){let z=w.tasks.findIndex(L=>L.id===M);T<=z&&(z=z+1),w.tasks.splice(z,0,U),w.tasks.forEach((L,E)=>{h({...L,position:E+1})}),u.invalidateQueries({queryKey:["projects",a.workspaceId]})}else{const z={...U,status:w.id},L=M===w.id?w.tasks.length:w.tasks.findIndex(E=>E.id===M);w.tasks.splice(L+1,0,z),w.tasks.forEach((E,R)=>{h({...E,position:R+1})})}});i($),c(null)},s[4]=a,s[5]=u,s[6]=i,s[7]=h,s[8]=C):C=s[8];const r=C;if(!a||!a?.columns){let v;s[9]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx("header",{className:"mb-6 mt-6 space-y-6 shrink-0 px-6",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("div",{className:"w-48 h-8 bg-zinc-100 dark:bg-zinc-800/50 rounded-md animate-pulse"})})}),s[9]=v):v=s[9];let m;return s[10]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsxs("div",{className:"h-full flex flex-col w-full",children:[v,t.jsx("div",{className:"flex-1 relative min-h-0",children:t.jsx("div",{className:"flex gap-6 flex-1 overflow-x-auto pb-4 px-4 md:px-6 h-full",children:[...Array(4)].map(Ot)})})]}),s[10]=m):m=s[10],m}let f;s[11]!==N||s[12]!==a.columns?(f=N?a.columns.flatMap(Lt).find(v=>v.id===N):null,s[11]=N,s[12]=a.columns,s[13]=f):f=s[13];const S=f;let I;s[14]!==a.columns?(I=a.columns?.map(Pt),s[14]=a.columns,s[15]=I):I=s[15];let y;s[16]!==I?(y=t.jsx("div",{className:"h-full flex flex-col w-full",children:t.jsx("div",{className:"flex-1 min-h-0 overflow-x-auto",children:t.jsx("div",{className:"flex gap-3 p-3 h-full min-w-max transition-all duration-200 ease-out",children:I})})}),s[16]=I,s[17]=y):y=s[17];let n;s[18]!==S?(n=S?t.jsx("div",{className:"transform rotate-1 scale-[1.03] shadow-xl shadow-indigo-500/20 dark:shadow-indigo-400/10",children:t.jsx("div",{className:"ring-2 ring-indigo-500/30 dark:ring-indigo-400/40 rounded-lg",children:t.jsx(ct,{task:S})})}):null,s[18]=S,s[19]=n):n=s[19];let o;s[20]!==n?(o=t.jsx(Gs,{dropAnimation:k,children:n}),s[20]=n,s[21]=o):o=s[21];let d;return s[22]!==r||s[23]!==p||s[24]!==o||s[25]!==y?(d=t.jsxs(Qs,{sensors:p,collisionDetection:Hs,onDragStart:D,onDragEnd:r,children:[y,o]}),s[22]=r,s[23]=p,s[24]=o,s[25]=y,s[26]=d):d=s[26],d}function Pt(e){return t.jsx("div",{className:"h-full flex-1 min-w-80 max-w-96 flex-shrink-0",children:t.jsx(Mt,{column:e})},e.id)}function Lt(e){return e.tasks}function Ot(e,s){return t.jsxs("div",{className:"flex-1 w-full min-w-80 flex flex-col bg-zinc-50 dark:bg-zinc-900 rounded-lg h-full",children:[t.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[t.jsx("div",{className:"w-24 h-5 bg-zinc-100 dark:bg-zinc-800/50 rounded animate-pulse"}),t.jsx("div",{className:"w-8 h-5 bg-zinc-100 dark:bg-zinc-800/50 rounded animate-pulse"})]}),t.jsx("div",{className:"px-2 pb-4 flex flex-col gap-3 flex-1",children:[...Array(3)].map(_t)})]},`kanban-column-skeleton-${s}`)}function _t(e,s){return t.jsx("div",{className:"p-4 bg-white dark:bg-zinc-800 rounded-lg border border-zinc-200 dark:border-zinc-800/50 animate-pulse",children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"w-2/3 h-4 bg-zinc-200 dark:bg-zinc-700/50 rounded"}),t.jsx("div",{className:"w-1/2 h-3 bg-zinc-200 dark:bg-zinc-700/50 rounded"})]})},`kanban-task-skeleton-${s}`)}function Et({task:e,projectSlug:s}){const a=zs(),{attributes:u,listeners:i,setNodeRef:N,transform:c,transition:h,isDragging:g}=Ts({id:e.id}),{project:b}=Le(),{data:p}=at(),{showAssignees:j,showPriority:k,showDueDates:x,showLabels:D,showTaskNumbers:C}=ms(),[r,f]=_.useState(!1),{mutateAsync:S}=As(),{data:I}=gs(p?.id??""),y=_.useMemo(()=>I?.members?.find(m=>m.userId===e.userId),[I,e.userId]),n={transform:Ms.Transform.toString(c),transition:h||"transform 200ms cubic-bezier(0.25, 0.46, 0.45, 0.94)",touchAction:"none"},o=m=>{!b||!e||m.defaultPrevented||a({to:"/dashboard/workspace/$workspaceId/project/$projectId/task/$taskId",params:{workspaceId:b.workspaceId,projectId:b.id,taskId:e.id}})},d=m=>{m.key==="Enter"&&o(m)},v=async()=>{try{await S(e.id),Ss.invalidateQueries({queryKey:["tasks",b?.id]})}catch(m){ee.error(m instanceof Error?m.message:"Failed to delete task")}finally{ee.success("Task deleted successfully")}};return t.jsxs("div",{ref:N,style:n,className:ts("border-b border-zinc-200/50 dark:border-zinc-800/50 transition-all duration-200",g&&"opacity-50"),children:[t.jsxs($s,{children:[t.jsx(Ps,{asChild:!0,children:t.jsxs("div",{onClick:o,onKeyDown:d,className:"group relative flex items-center gap-3 px-4 py-1.5 hover:bg-zinc-100/60 dark:hover:bg-zinc-800/20 transition-colors cursor-pointer",...u,...i,children:[k&&t.jsx("div",{className:"flex-shrink-0 first:[&_svg]:h-4 first:[&_svg]:w-4",children:rs(e.priority??"")}),C&&t.jsxs("div",{className:"text-xs font-mono text-zinc-400 dark:text-zinc-500 flex-shrink-0",children:[s,"-",e.number]}),t.jsx("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:t.jsxs("div",{className:"flex items-center gap-2 justify-between w-full",children:[t.jsx("span",{className:"text-sm text-zinc-900 dark:text-zinc-100 truncate",children:e.title}),D&&t.jsx("div",{className:"flex items-center gap-1",children:t.jsx(Ls,{taskId:e.id})})]})}),x&&e.dueDate&&t.jsxs("div",{className:`flex items-center gap-1 text-[10px] px-2 py-1 rounded flex-shrink-0 ${nt[q(e.dueDate)]}`,children:[q(e.dueDate)==="overdue"&&t.jsx(rt,{className:"w-3 h-3"}),q(e.dueDate)==="due-soon"&&t.jsx(it,{className:"w-3 h-3"}),(q(e.dueDate)==="far-future"||q(e.dueDate)==="no-due-date")&&t.jsx(bs,{className:"w-3 h-3"}),t.jsx("span",{children:lt(new Date(e.dueDate),"MMM d")})]}),j&&t.jsx("div",{className:"flex-shrink-0",children:e.userId?t.jsxs(xs,{className:"h-6 w-6",children:[t.jsx(fs,{src:y?.user?.image??"",alt:y?.user?.name||""}),t.jsx(ps,{className:"text-xs font-medium border border-border/30",children:y?.user?.name?.charAt(0).toUpperCase()})]}):t.jsx("div",{className:"w-6 h-6 rounded-full bg-muted border border-border flex items-center justify-center",title:"Unassigned",children:t.jsx("span",{className:"text-[10px] font-medium text-muted-foreground",children:"?"})})})]})}),b&&p&&t.jsx(Os,{task:e,taskCardContext:{projectId:b.id,worskpaceId:p.id},onDeleteClick:()=>f(!0)})]}),t.jsx(Vs,{open:r,onOpenChange:f,children:t.jsxs(Xs,{children:[t.jsxs(Ys,{children:[t.jsx(Js,{children:"Delete Task?"}),t.jsx(Zs,{children:"This will permanently remove the task and all its data. You can't undo this action."})]}),t.jsxs(et,{children:[t.jsx(st,{children:"Cancel"}),t.jsx(tt,{onClick:v,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Task"})]})]})})]})}function Ft({project:e}){const{setProject:s}=Le(),{mutate:a}=us(),[u,i]=_.useState(null),[N,c]=_.useState(null),[h,g]=_.useState({"to-do":!0,"in-progress":!0,"in-review":!0,done:!0}),[b,p]=_.useState(!1),[j,k]=_.useState(null),x=Ks($e(qs,{activationConstraint:{distance:8}}),$e(Bs,{activationConstraint:{delay:200,tolerance:8}}),$e(Rs)),D=n=>{i(n.active.id)},C=n=>{const{over:o}=n;if(!o||!u){c(null);return}if(e?.columns?.some(m=>m.id===o.id)){c(o.id.toString());return}const d=o.id.toString(),v=e?.columns?.find(m=>m.tasks.some(A=>A.id===d));c(v?v.id:null)},r=n=>{const{active:o,over:d}=n;if(i(null),c(null),!d||!e?.columns)return;const v=o.id.toString(),m=d.id.toString(),A=as(e,F=>{const M=F?.columns?.find(w=>w.tasks.some(T=>T.id===v)),$=F?.columns?.find(w=>w.id===m||w.tasks.some(T=>T.id===m));if(!M||!$)return;const W=M.tasks.findIndex(w=>w.id===v),O=M.tasks[W];if(M.tasks=M.tasks.filter(w=>w.id!==v),M.id===$.id){let w=$.tasks.findIndex(T=>T.id===m);W<=w&&(w+=1),$.tasks.splice(w,0,O),$.tasks.forEach((T,U)=>{a({...T,status:$.id,position:U+1})})}else O.status=$.id,$.tasks.push(O),$.tasks.forEach((w,T)=>{a({...w,status:$.id,position:T+1})})});s(A)},f=n=>{g(o=>({...o,[n]:!o[n]}))},S=n=>{if(n.id!=="done"||n.tasks.length===0||!confirm(`Archive all ${n.tasks.length} completed tasks?`))return;const o=as(e,d=>{const v=d?.columns?.find(m=>m.id==="done");if(v){for(const m of v.tasks)a({...m,status:"archived"});v.tasks=[]}});s(o),ee.success(`Archived ${n.tasks.length} tasks`)};function I({column:n}){const{setNodeRef:o}=_s({id:n.id,data:{type:"column",column:n}}),d=u&&N===n.id;return t.jsxs("div",{className:ts("border-b border-zinc-200 dark:border-zinc-800/50 transition-all duration-200 overflow-auto",d&&"border-l-4 border-l-indigo-500 dark:border-l-indigo-400 bg-indigo-50/30 dark:bg-indigo-950/10"),children:[t.jsxs("div",{className:"flex items-center justify-between py-2 px-4 bg-zinc-100/60 dark:bg-zinc-800/20 border-b border-zinc-200/50 dark:border-zinc-800/30",children:[t.jsxs("button",{type:"button",onClick:()=>f(n.id),className:"flex items-center gap-2 text-sm font-medium text-zinc-800 dark:text-zinc-300 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",children:[t.jsx(jt,{className:ts("w-3 h-3 transition-transform",h[n.id]&&"rotate-90")}),t.jsxs("div",{className:"flex items-center gap-2 h-4",children:[ns(n.id),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"mt-1 mr-1",children:n.name}),t.jsx("span",{className:"text-xs text-zinc-400 dark:text-zinc-500 mt-0.5",children:n.tasks.length})]})]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{type:"button",onClick:()=>{p(!0),k(n.id)},className:"p-1 hover:bg-zinc-200/70 dark:hover:bg-zinc-700 rounded text-zinc-600 hover:text-zinc-800 dark:text-zinc-500 dark:hover:text-zinc-300 transition-colors",title:"Add task",children:t.jsx(ot,{className:"w-3 h-3"})}),n.id==="done"&&n.tasks.length>0&&t.jsx("button",{type:"button",onClick:()=>S(n),className:"p-1 hover:bg-zinc-200/70 dark:hover:bg-zinc-700 rounded text-zinc-600 hover:text-zinc-800 dark:text-zinc-500 dark:hover:text-zinc-300 transition-colors",title:"Archive all completed tasks",children:t.jsx(Us,{className:"w-3 h-3"})})]})]}),h[n.id]&&t.jsxs("div",{ref:o,className:"bg-white dark:bg-transparent",children:[t.jsx(Es,{items:n.tasks,strategy:Fs,children:n.tasks.map(v=>t.jsx(Et,{task:v,projectSlug:e?.slug??""},v.id))}),n.tasks.length===0&&t.jsx("div",{className:"py-6 px-4 text-center text-xs text-zinc-400 dark:text-zinc-500",children:"No tasks"})]})]})}if(!e?.columns)return null;const y=u?e.columns?.flatMap(n=>n.tasks).find(n=>n.id===u):null;return t.jsxs(Qs,{sensors:x,collisionDetection:Hs,onDragStart:D,onDragOver:C,onDragEnd:r,modifiers:[ht],children:[t.jsx("div",{className:"w-full h-full overflow-auto bg-zinc-50/30 dark:bg-transparent",children:t.jsx("div",{className:"divide-y divide-zinc-200 dark:divide-zinc-800/50",children:e.columns.map(n=>t.jsx(I,{column:n},n.id))})}),t.jsx(Gs,{children:y&&t.jsx("div",{className:"bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg shadow-lg p-2 max-w-[200px] cursor-grabbing",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(pt,{className:ts("w-3 h-3",bt[y.priority])})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsxs("span",{className:"text-[10px] font-mono text-zinc-400 dark:text-zinc-500",children:[e?.slug,"-",y.number]}),t.jsx("span",{className:"text-xs text-zinc-900 dark:text-zinc-100 truncate",children:y.title})]})})]})})}),t.jsx(hs,{open:b,onClose:()=>p(!1),status:Ws(j??"done")})]})}function Ut(e){const s=Pe.c(21),a=Is();let u;s[0]===Symbol.for("react.memo_cache_sentinel")?(u={status:null,priority:null,assignee:null,dueDate:null,labels:null},s[0]=u):u=s[0];const[i,N]=_.useState(u);let c;s[1]!==a?(c=n=>{const o=["labels",n];return a.getQueryData(o)||[]},s[1]=a,s[2]=c):c=s[2];const h=c;let g;s[3]!==i||s[4]!==h?(g=n=>n.filter(o=>{if(i.status&&o.status!==i.status||i.priority&&o.priority!==i.priority||i.assignee&&o.userId!==i.assignee)return!1;if(i.dueDate&&o.dueDate){const d=new Date,v=new Date(o.dueDate);e:switch(i.dueDate){case"Due this week":{const m=ks(d),A=Ds(d);if(!Cs(v,{start:m,end:A}))return!1;break e}case"Due next week":{const m=ks(ys(d,1)),A=Ds(ys(d,1));if(!Cs(v,{start:m,end:A}))return!1;break e}case"No due date":return!1}}if(i.dueDate==="No due date"&&o.dueDate)return!1;if(i.labels&&i.labels.length>0){const v=h(o.id).map(Kt);if(!i.labels.some(A=>v.includes(A)))return!1}return!0}),s[3]=i,s[4]=h,s[5]=g):g=s[5];const b=g;let p;e:{if(!e){p=null;break e}let n;s[6]!==b||s[7]!==e.columns?(n=e.columns?.map(d=>({...d,tasks:b(d.tasks)}))??[],s[6]=b,s[7]=e.columns,s[8]=n):n=s[8];let o;s[9]!==e||s[10]!==n?(o={...e,columns:n},s[9]=e,s[10]=n,s[11]=o):o=s[11],p=o}const j=p;let k;s[12]!==i?(k=Object.values(i).some(Wt),s[12]=i,s[13]=k):k=s[13];const x=k;let D;s[14]===Symbol.for("react.memo_cache_sentinel")?(D=()=>{N({status:null,priority:null,assignee:null,dueDate:null,labels:null})},s[14]=D):D=s[14];const C=D;let r;s[15]===Symbol.for("react.memo_cache_sentinel")?(r=(n,o)=>{N(d=>({...d,[n]:o}))},s[15]=r):r=s[15];const f=r;let S;s[16]===Symbol.for("react.memo_cache_sentinel")?(S=n=>{N(o=>{const d=o.labels||[],v=d.includes(n);let m;return v?(m=d.filter(A=>A!==n),m.length===0&&(m=null)):m=[...d,n],{...o,labels:m}})},s[16]=S):S=s[16];const I=S;let y;return s[17]!==j||s[18]!==i||s[19]!==x?(y={filters:i,setFilters:N,updateFilter:f,updateLabelFilter:I,filteredProject:j,hasActiveFilters:x,clearFilters:C},s[17]=j,s[18]=i,s[19]=x,s[20]=y):y=s[20],y}function Wt(e){return e!==null}function Kt(e){return e.id}function on(){const e=Pe.c(192),{projectId:s,workspaceId:a}=dt.useParams(),{data:u}=xt(s),{project:i,setProject:N}=Le(),{viewMode:c,setViewMode:h}=ms(),[g,b]=_.useState(!1),{data:p}=gs(a),{data:j}=Nt(a);let k;e[0]!==j?(k=j===void 0?[]:j,e[0]=j,e[1]=k):k=e[1];const x=k;let D,C;e[2]!==u||e[3]!==N?(D=()=>{u&&N(u)},C=[u,N],e[2]=u,e[3]=N,e[4]=D,e[5]=C):(D=e[4],C=e[5]),_.useEffect(D,C);const{filters:r,updateFilter:f,updateLabelFilter:S,filteredProject:I,hasActiveFilters:y,clearFilters:n}=Ut(i);let o;e[6]!==i?.columns?(o=J=>i?.columns?.find(Z=>Z.id===J)?.name||J,e[6]=i?.columns,e[7]=o):o=e[7];const d=o,v=Bt;let m;e[8]!==p?.members?(m=J=>p?.members?.find(Z=>Z.userId===J)?.user?.name||"Unknown",e[8]=p?.members,e[9]=m):m=e[9];const A=m;let F,M,$,W,O,w,T,U,z,L,E,R,se,G,Q,H,V,te,ae,ne,re,ie,le,oe,X,ce,de,Y,me;if(e[10]!==n||e[11]!==r.assignee||e[12]!==r.dueDate||e[13]!==r.labels||e[14]!==r.priority||e[15]!==r.status||e[16]!==A||e[17]!==d||e[18]!==y||e[19]!==i?.columns||e[20]!==i?.name||e[21]!==s||e[22]!==f||e[23]!==S||e[24]!==p?.members||e[25]!==c||e[26]!==a||e[27]!==x){const J=x.reduce(Rt,[]);let Te;e[57]!==r.labels||e[58]!==x?(Te=l=>x.filter(P=>P.name===l.name&&P.color===l.color).some(P=>r.labels?.includes(P.id)),e[57]=r.labels,e[58]=x,e[59]=Te):Te=e[59];const Z=Te;let He;e[60]!==r.labels||e[61]!==S||e[62]!==x?(He=l=>{const P=x.filter(B=>B.name===l.name&&B.color===l.color);if(P.some(B=>r.labels?.includes(B.id)))for(const B of P)r.labels?.includes(B.id)&&S(B.id);else for(const B of P)r.labels?.includes(B.id)||S(B.id)},e[60]=r.labels,e[61]=S,e[62]=x,e[63]=He):He=e[63];const Ve=He;O=mt,le=s,oe=a;const os=`${i?.name} âŽ¯ ${c==="board"?"Board":"List"}`;e[64]!==os?(X=t.jsx(kt,{title:os,hideAppName:!0}),e[64]=os,e[65]=X):X=e[65],ie="flex flex-col h-full min-h-0",re="bg-card border-b border-border",ne="h-10 flex items-center px-4",ae="flex items-center justify-between w-full",se="flex items-center gap-2",e[66]!==r.status||e[67]!==d||e[68]!==f?(G=r.status&&t.jsxs(K,{variant:"secondary",size:"sm",className:"h-6 px-2 text-xs gap-1.5",children:[ns(r.status),t.jsxs("span",{children:["Status is ",d(r.status)]}),t.jsx(K,{variant:"ghost",size:"icon",className:"h-3 w-3 p-0 ml-1 hover:bg-destructive hover:text-destructive-foreground",onClick:l=>{l.stopPropagation(),f("status",null)},children:t.jsx(Ue,{className:"h-2.5 w-2.5"})})]}),e[66]=r.status,e[67]=d,e[68]=f,e[69]=G):G=e[69],e[70]!==r.priority||e[71]!==f?(Q=r.priority&&t.jsxs(K,{variant:"secondary",size:"sm",className:"h-6 px-2 text-xs gap-1.5",children:[rs(r.priority),t.jsxs("span",{children:["Priority is ",v(r.priority)]}),t.jsx(K,{variant:"ghost",size:"icon",className:"h-3 w-3 p-0 ml-1 hover:bg-destructive hover:text-destructive-foreground",onClick:l=>{l.stopPropagation(),f("priority",null)},children:t.jsx(Ue,{className:"h-2.5 w-2.5"})})]}),e[70]=r.priority,e[71]=f,e[72]=Q):Q=e[72],e[73]!==r.assignee||e[74]!==A||e[75]!==f?(H=r.assignee&&t.jsxs(K,{variant:"secondary",size:"sm",className:"h-6 px-2 text-xs gap-1.5",children:[t.jsx(wt,{className:"h-3 w-3"}),t.jsxs("span",{children:["Assignee is ",A(r.assignee)]}),t.jsx(K,{variant:"ghost",size:"icon",className:"h-3 w-3 p-0 ml-1 hover:bg-destructive hover:text-destructive-foreground",onClick:l=>{l.stopPropagation(),f("assignee",null)},children:t.jsx(Ue,{className:"h-2.5 w-2.5"})})]}),e[73]=r.assignee,e[74]=A,e[75]=f,e[76]=H):H=e[76],e[77]!==r.dueDate||e[78]!==f?(V=r.dueDate&&t.jsxs(K,{variant:"secondary",size:"sm",className:"h-6 px-2 text-xs gap-1.5",children:[t.jsx(bs,{className:"h-3 w-3"}),t.jsxs("span",{children:["Due date is ",r.dueDate]}),t.jsx(K,{variant:"ghost",size:"icon",className:"h-3 w-3 p-0 ml-1 hover:bg-destructive hover:text-destructive-foreground",onClick:l=>{l.stopPropagation(),f("dueDate",null)},children:t.jsx(Ue,{className:"h-2.5 w-2.5"})})]}),e[77]=r.dueDate,e[78]=f,e[79]=V):V=e[79],te=r.labels&&r.labels.length>0&&J.filter(l=>x.filter(P=>P.name===l.name&&P.color===l.color).some(P=>r.labels?.includes(P.id))).map(l=>t.jsxs(K,{variant:"secondary",size:"sm",className:"h-6 px-2 text-xs gap-1.5",children:[t.jsx("span",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0",style:{backgroundColor:js.find(P=>P.value===l.color)?.color||"#94a3b8"}}),t.jsxs("span",{children:["Label is ",l.name]}),t.jsx(K,{variant:"ghost",size:"icon",className:"h-3 w-3 p-0 ml-1 hover:bg-destructive hover:text-destructive-foreground",onClick:P=>{P.stopPropagation(),Ve(l)},children:t.jsx(Ue,{className:"h-2.5 w-2.5"})})]},`${l.name}-${l.color}`)),W=vs,e[80]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(Ns,{asChild:!0,children:t.jsxs(K,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs text-muted-foreground",children:[t.jsx(ft,{className:"h-3 w-3 mr-1"}),"Filter"]})}),e[80]=R):R=e[80],$=ws,me="w-46",w="start",e[81]!==n||e[82]!==y?(T=y&&t.jsxs(t.Fragment,{children:[t.jsx(cs,{onClick:n,children:t.jsx("span",{children:"Clear all filters"})}),t.jsx(vt,{})]}),e[81]=n,e[82]=y,e[83]=T):T=e[83];let Xe;e[84]===Symbol.for("react.memo_cache_sentinel")?(Xe=t.jsx(Fe,{className:"gap-2",children:t.jsx("span",{children:"Status"})}),e[84]=Xe):Xe=e[84];let Ae;e[85]!==r.status||e[86]!==i?.columns||e[87]!==f?(Ae=i?.columns?.map(l=>t.jsxs(Oe,{checked:r.status===l.id,onCheckedChange:()=>f("status",l.id),children:[ns(l.id),t.jsx("span",{children:l.name})]},l.id)),e[85]=r.status,e[86]=i?.columns,e[87]=f,e[88]=Ae):Ae=e[88],e[89]!==Ae?(U=t.jsxs(_e,{children:[Xe,t.jsx(Ee,{className:"w-48",children:Ae})]}),e[89]=Ae,e[90]=U):U=e[90];let Ye;e[91]===Symbol.for("react.memo_cache_sentinel")?(Ye=t.jsx(Fe,{className:"gap-2",children:t.jsx("span",{children:"Priority"})}),e[91]=Ye):Ye=e[91],e[92]!==r.priority||e[93]!==f?(z=t.jsxs(_e,{children:[Ye,t.jsx(Ee,{className:"w-48",children:["urgent","high","medium","low"].map(l=>t.jsxs(Oe,{checked:r.priority===l,onCheckedChange:()=>f("priority",l),className:"[&_svg]:text-muted-foreground",children:[rs(l),t.jsx("span",{className:"capitalize",children:l})]},l))})]}),e[92]=r.priority,e[93]=f,e[94]=z):z=e[94];let Je;e[95]===Symbol.for("react.memo_cache_sentinel")?(Je=t.jsx(Fe,{className:"gap-2",children:t.jsx("span",{children:"Assignee"})}),e[95]=Je):Je=e[95];let Me;e[96]!==r.assignee||e[97]!==f||e[98]!==p?.members?(Me=p?.members?.map(l=>t.jsxs(Oe,{checked:r.assignee===l.userId,onCheckedChange:()=>f("assignee",l.userId),children:[t.jsxs(xs,{className:"h-6 w-6",children:[t.jsx(fs,{src:l.user?.image??"",alt:l.user?.name||""}),t.jsx(ps,{className:"text-xs font-medium border border-border/30",children:l.user?.name?.charAt(0).toUpperCase()})]}),t.jsx("span",{children:l.user?.name})]},l.userId)),e[96]=r.assignee,e[97]=f,e[98]=p?.members,e[99]=Me):Me=e[99],e[100]!==Me?(L=t.jsxs(_e,{children:[Je,t.jsx(Ee,{className:"w-48",children:Me})]}),e[100]=Me,e[101]=L):L=e[101];let Ze;e[102]===Symbol.for("react.memo_cache_sentinel")?(Ze=t.jsx(Fe,{className:"gap-2",children:t.jsx("span",{children:"Due Date"})}),e[102]=Ze):Ze=e[102];let es;e[103]===Symbol.for("react.memo_cache_sentinel")?(es=["Due this week","Due next week","No due date"],e[103]=es):es=e[103],e[104]!==r.dueDate||e[105]!==f?(E=t.jsxs(_e,{children:[Ze,t.jsx(Ee,{className:"w-48",children:es.map(l=>t.jsx(Oe,{checked:r.dueDate===l,onCheckedChange:()=>f("dueDate",l),children:t.jsx("span",{children:l})},l))})]}),e[104]=r.dueDate,e[105]=f,e[106]=E):E=e[106],M=_e,e[107]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(Fe,{className:"gap-2",children:t.jsx("span",{children:"Labels"})}),e[107]=Y):Y=e[107],F=Ee,ce="w-48";let ss;e[108]!==Z||e[109]!==Ve?(ss=l=>t.jsxs(Oe,{checked:Z(l),onCheckedChange:()=>Ve(l),children:[t.jsx("span",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:js.find(P=>P.value===l.color)?.color||"#94a3b8"}}),t.jsx("span",{children:l.name})]},l.id),e[108]=Z,e[109]=Ve,e[110]=ss):ss=e[110],de=J.map(ss),e[10]=n,e[11]=r.assignee,e[12]=r.dueDate,e[13]=r.labels,e[14]=r.priority,e[15]=r.status,e[16]=A,e[17]=d,e[18]=y,e[19]=i?.columns,e[20]=i?.name,e[21]=s,e[22]=f,e[23]=S,e[24]=p?.members,e[25]=c,e[26]=a,e[27]=x,e[28]=F,e[29]=M,e[30]=$,e[31]=W,e[32]=O,e[33]=w,e[34]=T,e[35]=U,e[36]=z,e[37]=L,e[38]=E,e[39]=R,e[40]=se,e[41]=G,e[42]=Q,e[43]=H,e[44]=V,e[45]=te,e[46]=ae,e[47]=ne,e[48]=re,e[49]=ie,e[50]=le,e[51]=oe,e[52]=X,e[53]=ce,e[54]=de,e[55]=Y,e[56]=me}else F=e[28],M=e[29],$=e[30],W=e[31],O=e[32],w=e[33],T=e[34],U=e[35],z=e[36],L=e[37],E=e[38],R=e[39],se=e[40],G=e[41],Q=e[42],H=e[43],V=e[44],te=e[45],ae=e[46],ne=e[47],re=e[48],ie=e[49],le=e[50],oe=e[51],X=e[52],ce=e[53],de=e[54],Y=e[55],me=e[56];let ue;e[111]!==F||e[112]!==ce||e[113]!==de?(ue=t.jsx(F,{className:ce,children:de}),e[111]=F,e[112]=ce,e[113]=de,e[114]=ue):ue=e[114];let he;e[115]!==M||e[116]!==ue||e[117]!==Y?(he=t.jsxs(M,{children:[Y,ue]}),e[115]=M,e[116]=ue,e[117]=Y,e[118]=he):he=e[118];let xe;e[119]!==$||e[120]!==w||e[121]!==T||e[122]!==U||e[123]!==z||e[124]!==L||e[125]!==E||e[126]!==he||e[127]!==me?(xe=t.jsxs($,{className:me,align:w,children:[T,U,z,L,E,he]}),e[119]=$,e[120]=w,e[121]=T,e[122]=U,e[123]=z,e[124]=L,e[125]=E,e[126]=he,e[127]=me,e[128]=xe):xe=e[128];let fe;e[129]!==W||e[130]!==R||e[131]!==xe?(fe=t.jsxs(W,{children:[R,xe]}),e[129]=W,e[130]=R,e[131]=xe,e[132]=fe):fe=e[132];let We;e[133]===Symbol.for("react.memo_cache_sentinel")?(We=t.jsx(Ns,{asChild:!0,children:t.jsxs(K,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs text-muted-foreground",children:[t.jsx(zt,{className:"h-3 w-3 mr-1"}),"Display"]})}),e[133]=We):We=e[133];let pe;e[134]!==h?(pe=()=>h("board"),e[134]=h,e[135]=pe):pe=e[135];const is=`gap-2 ${c==="board"?"bg-accent":""}`;let Ke,Re;e[136]===Symbol.for("react.memo_cache_sentinel")?(Ke=t.jsx(gt,{className:"h-3 w-3"}),Re=t.jsx("span",{children:"Board"}),e[136]=Ke,e[137]=Re):(Ke=e[136],Re=e[137]);let ge;e[138]!==c?(ge=c==="board"&&t.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-primary"}),e[138]=c,e[139]=ge):ge=e[139];let be;e[140]!==pe||e[141]!==is||e[142]!==ge?(be=t.jsxs(cs,{onClick:pe,className:is,children:[Ke,Re,ge]}),e[140]=pe,e[141]=is,e[142]=ge,e[143]=be):be=e[143];let je;e[144]!==h?(je=()=>h("list"),e[144]=h,e[145]=je):je=e[145];const ls=`gap-2 ${c==="list"?"bg-accent":""}`;let Be,qe;e[146]===Symbol.for("react.memo_cache_sentinel")?(Be=t.jsx(Dt,{className:"h-3 w-3"}),qe=t.jsx("span",{children:"List"}),e[146]=Be,e[147]=qe):(Be=e[146],qe=e[147]);let ke;e[148]!==c?(ke=c==="list"&&t.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-primary"}),e[148]=c,e[149]=ke):ke=e[149];let ve;e[150]!==je||e[151]!==ls||e[152]!==ke?(ve=t.jsxs(cs,{onClick:je,className:ls,children:[Be,qe,ke]}),e[150]=je,e[151]=ls,e[152]=ke,e[153]=ve):ve=e[153];let Ne;e[154]!==be||e[155]!==ve?(Ne=t.jsxs(vs,{children:[We,t.jsxs(ws,{className:"w-40",align:"start",children:[be,ve]})]}),e[154]=be,e[155]=ve,e[156]=Ne):Ne=e[156];let we;e[157]!==se||e[158]!==G||e[159]!==Q||e[160]!==H||e[161]!==V||e[162]!==te||e[163]!==fe||e[164]!==Ne?(we=t.jsxs("div",{className:se,children:[G,Q,H,V,te,fe,Ne]}),e[157]=se,e[158]=G,e[159]=Q,e[160]=H,e[161]=V,e[162]=te,e[163]=fe,e[164]=Ne,e[165]=we):we=e[165];let ye;e[166]!==ae||e[167]!==we?(ye=t.jsx("div",{className:ae,children:we}),e[166]=ae,e[167]=we,e[168]=ye):ye=e[168];let De;e[169]!==ne||e[170]!==ye?(De=t.jsx("div",{className:ne,children:ye}),e[169]=ne,e[170]=ye,e[171]=De):De=e[171];let Ce;e[172]!==re||e[173]!==De?(Ce=t.jsx("div",{className:re,children:De}),e[172]=re,e[173]=De,e[174]=Ce):Ce=e[174];let ze;e[175]!==I||e[176]!==c?(ze=t.jsx("div",{className:"flex-1 overflow-hidden bg-card h-full",children:I?c==="board"?t.jsx($t,{project:I}):t.jsx(Ft,{project:I}):t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-zinc-300 border-t-zinc-600 dark:border-zinc-700 dark:border-t-zinc-300"})})}),e[175]=I,e[176]=c,e[177]=ze):ze=e[177];let Ge;e[178]===Symbol.for("react.memo_cache_sentinel")?(Ge=()=>b(!1),e[178]=Ge):Ge=e[178];let Se;e[179]!==g?(Se=t.jsx(hs,{open:g,onClose:Ge}),e[179]=g,e[180]=Se):Se=e[180];let Ie;e[181]!==ie||e[182]!==Ce||e[183]!==ze||e[184]!==Se?(Ie=t.jsxs("div",{className:ie,children:[Ce,ze,Se]}),e[181]=ie,e[182]=Ce,e[183]=ze,e[184]=Se,e[185]=Ie):Ie=e[185];let Qe;return e[186]!==O||e[187]!==le||e[188]!==oe||e[189]!==X||e[190]!==Ie?(Qe=t.jsxs(O,{projectId:le,workspaceId:oe,children:[X,Ie]}),e[186]=O,e[187]=le,e[188]=oe,e[189]=X,e[190]=Ie,e[191]=Qe):Qe=e[191],Qe}function Rt(e,s){return e.find(u=>u.name===s.name&&u.color===s.color)||e.push(s),e}function Bt(e){return e.charAt(0).toUpperCase()+e.slice(1)}export{on as component};
