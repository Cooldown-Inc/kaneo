import{f as y,c as s,e as n,n as o,j as c}from"./index-D6_JMR29.js";import{u as l}from"./useQuery-BDxn_D7I.js";import{u}from"./useMutation-B_C6xvhR.js";import{C as p}from"./check-IjCBnfdg.js";import{C as f}from"./circle-check-CrDXoG6g.js";import{S as m}from"./search-BHoHnvlf.js";import{a as w,C as q}from"./due-date-status-C9IOja7g.js";async function v({workspaceId:t}){const{data:e,error:a}=await y.organization.listMembers({query:{organizationId:t}});if(a)throw new Error(a.message||"Failed to fetch workspace users");return e||[]}function L(t){const e=s.c(7);let a,i;e[0]!==t?(a=["active-workspace-users",t],i=()=>v({workspaceId:t}),e[0]=t,e[1]=a,e[2]=i):(a=e[1],i=e[2]);const r=!!t;let d;return e[3]!==a||e[4]!==i||e[5]!==r?(d={queryKey:a,queryFn:i,enabled:r},e[3]=a,e[4]=i,e[5]=r,e[6]=d):d=e[6],l(d)}async function k(t,e){const a=await n.task.assignee[":id"].$put({param:{id:t},json:{userId:e.userId||""}});if(!a.ok){const r=await a.text();throw new Error(r)}return await a.json()}function R(){const t=s.c(2),e=o();let a;return t[0]!==e?(a={mutationFn:j,onSuccess:(i,r)=>{e.invalidateQueries({queryKey:["task",r.id]}),e.invalidateQueries({queryKey:["tasks",r.projectId]}),e.invalidateQueries({queryKey:["notifications"]}),e.invalidateQueries({queryKey:["projects"]}),e.invalidateQueries({queryKey:["activities",r.id]})}},t[0]=e,t[1]=a):a=t[1],u(a)}function j(t){return k(t.id,t)}async function K(t,e){const a=await n.task.description[":id"].$put({param:{id:t},json:{description:e.description||""}});if(!a.ok){const r=await a.text();throw new Error(r)}return await a.json()}function z(){const t=s.c(2),e=o();let a;return t[0]!==e?(a={mutationFn:Q,onSuccess:(i,r)=>{e.invalidateQueries({queryKey:["task",r.id]}),e.invalidateQueries({queryKey:["tasks",r.projectId]}),e.invalidateQueries({queryKey:["notifications"]}),e.invalidateQueries({queryKey:["projects"]}),e.invalidateQueries({queryKey:["activities",r.id]})}},t[0]=e,t[1]=a):a=t[1],u(a)}function Q(t){return K(t.id,t)}async function g(t,e){const a=await n.task["due-date"][":id"].$put({param:{id:t},json:{dueDate:e.dueDate||""}});if(!a.ok){const r=await a.text();throw new Error(r)}return await a.json()}function B(){const t=s.c(2),e=o();let a;return t[0]!==e?(a={mutationFn:x,onSuccess:(i,r)=>{e.invalidateQueries({queryKey:["task",r.id]}),e.invalidateQueries({queryKey:["tasks",r.projectId]}),e.invalidateQueries({queryKey:["notifications"]}),e.invalidateQueries({queryKey:["projects"]}),e.invalidateQueries({queryKey:["activities",r.id]})}},t[0]=e,t[1]=a):a=t[1],u(a)}function x(t){return g(t.id,t)}async function h(t,e){const a=await n.task.status[":id"].$put({param:{id:t},json:{status:e.status||""}});if(!a.ok){const r=await a.text();throw new Error(r)}return await a.json()}function G(){const t=s.c(2),e=o();let a;return t[0]!==e?(a={mutationFn:$,onSuccess:(i,r)=>{e.invalidateQueries({queryKey:["task",r.id]}),e.invalidateQueries({queryKey:["tasks",r.projectId]}),e.invalidateQueries({queryKey:["notifications"]}),e.invalidateQueries({queryKey:["projects"]}),e.invalidateQueries({queryKey:["activities",r.id]})}},t[0]=e,t[1]=a):a=t[1],u(a)}function $(t){return h(t.id,t)}async function C(t,e){const a=await n.task.priority[":id"].$put({param:{id:t},json:{priority:e.priority||""}});if(!a.ok){const r=await a.text();throw new Error(r)}return await a.json()}function M(){const t=s.c(2),e=o();let a;return t[0]!==e?(a={mutationFn:T,onSuccess:(i,r)=>{e.invalidateQueries({queryKey:["task",r.id]}),e.invalidateQueries({queryKey:["tasks",r.projectId]}),e.invalidateQueries({queryKey:["notifications"]}),e.invalidateQueries({queryKey:["projects"]}),e.invalidateQueries({queryKey:["activities",r.id]})}},t[0]=e,t[1]=a):a=t[1],u(a)}function T(t){return C(t.id,t)}async function S(t,e){const a=await n.task.title[":id"].$put({param:{id:t},json:{title:e.title||""}});if(!a.ok){const r=await a.text();throw new Error(r)}return await a.json()}function P(){const t=s.c(2),e=o();let a;return t[0]!==e?(a={mutationFn:_,onSuccess:(i,r)=>{e.invalidateQueries({queryKey:["task",r.id]}),e.invalidateQueries({queryKey:["tasks",r.projectId]}),e.invalidateQueries({queryKey:["notifications"]}),e.invalidateQueries({queryKey:["projects"]}),e.invalidateQueries({queryKey:["activities",r.id]})}},t[0]=e,t[1]=a):a=t[1],u(a)}function _(t){return S(t.id,t)}const W=t=>{switch(t){case"to-do":return c.jsx(q,{className:"w-4 h-4 text-muted-foreground"});case"in-progress":return c.jsx(w,{className:"w-4 h-4 text-muted-foreground"});case"in-review":return c.jsx(m,{className:"w-4 h-4 text-muted-foreground"});case"done":return c.jsx(f,{className:"w-4 h-4 text-muted-foreground"});default:return c.jsx(p,{className:"w-4 h-4 text-muted-foreground"})}};async function E({taskId:t}){const e=await n.label.task[":taskId"].$get({param:{taskId:t}});if(!e.ok){const i=await e.text();throw new Error(i)}return await e.json()}function H(t){const e=s.c(2);let a;return e[0]!==t?(a={queryKey:["labels",t],queryFn:()=>E({taskId:t})},e[0]=t,e[1]=a):a=e[1],l(a)}const J=[{value:"gray",label:"Stone",color:"#78716c"},{value:"dark-gray",label:"Slate",color:"#64748b"},{value:"purple",label:"Lavender",color:"#8b5cf6"},{value:"teal",label:"Sage",color:"#059669"},{value:"green",label:"Forest",color:"#16a34a"},{value:"yellow",label:"Amber",color:"#d97706"},{value:"orange",label:"Terracotta",color:"#ea580c"},{value:"pink",label:"Rose",color:"#e11d48"},{value:"red",label:"Crimson",color:"#dc2626"}];export{M as a,G as b,R as c,P as d,z as e,B as f,W as g,H as h,J as l,L as u};
