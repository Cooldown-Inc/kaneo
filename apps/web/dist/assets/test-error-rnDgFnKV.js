import{c as S,j as t}from"./index-D6_JMR29.js";import{B as _}from"./button-EC3LtV52.js";import{C as z,a as I,b as $,c as O,d as L}from"./card-B27ScNG8.js";import{E as U}from"./external-link-3k5nfLUc.js";import{T as V,R as P}from"./triangle-alert-B0KfKaVO.js";import"./index-Dtyx9z7_.js";import"./index-BrfIpMvE.js";import"./createLucideIcon-CRcKb1Ol.js";function D(s){return s instanceof Error?s.message.includes("Failed to fetch")||s.message.includes("NetworkError")||s.message.includes("CORS")?{message:"Unable to connect to the server. This might be due to CORS configuration issues.",type:"cors",originalError:s}:s.message.includes("fetch")||s.message.includes("network")||s.message.includes("connection")?{message:"Network error. Please check your internet connection and try again.",type:"network",originalError:s}:s.message.includes("401")||s.message.includes("unauthorized")||s.message.includes("authentication")?{message:"Authentication failed. Please sign in again.",type:"auth",status:401,originalError:s}:s.message.includes("500")||s.message.includes("server error")||s.message.includes("internal")?{message:"Server error. Please try again later.",type:"server",status:500,originalError:s}:{message:s.message||"An unexpected error occurred.",type:"unknown",originalError:s}:{message:"An unexpected error occurred.",type:"unknown"}}function B(){return["Make sure your API server is running","Check that VITE_API_URL in your frontend .env matches your API server URL","Verify CORS_ORIGINS in your API .env includes your frontend URL","Ensure both frontend and API are using the same protocol (http/https)","Check that your API server is accessible from your browser"]}function F(){return["Check your internet connection","Verify the API server is running and accessible","Try refreshing the page","Check if there are any firewall or proxy issues"]}function G(s){const e=S.c(44),{error:j,onRetry:r,title:A,className:C}=s,w=A===void 0?"Something went wrong":A;let N;e[0]!==j?(N=D(j),e[0]=j,e[1]=N):N=e[1];const n=N;let b;e[2]!==n.type?(b=()=>{switch(n.type){case"cors":return B();case"network":return F();default:return[]}},e[2]=n.type,e[3]=b):b=e[3];const T=b;let a,l,o,c,m,i,u;if(e[4]!==C||e[5]!==T||e[6]!==n.message||e[7]!==w){const R=T();u=`flex items-center justify-center min-h-[400px] p-6 ${C}`,l=I,m="w-full max-w-md";let E;e[15]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center mb-4",children:t.jsx(V,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),e[15]=E):E=e[15];let x;e[16]!==w?(x=t.jsx($,{className:"text-lg",children:w}),e[16]=w,e[17]=x):x=e[17];let y;e[18]!==n.message?(y=t.jsx(z,{className:"text-sm",children:n.message}),e[18]=n.message,e[19]=y):y=e[19],e[20]!==x||e[21]!==y?(i=t.jsxs(O,{className:"text-center",children:[E,x,y]}),e[20]=x,e[21]=y,e[22]=i):i=e[22],a=L,o="space-y-4",c=R.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Troubleshooting steps:"}),t.jsx("ul",{className:"text-xs text-zinc-600 dark:text-zinc-400 space-y-1",children:R.map(q)})]}),e[4]=C,e[5]=T,e[6]=n.message,e[7]=w,e[8]=a,e[9]=l,e[10]=o,e[11]=c,e[12]=m,e[13]=i,e[14]=u}else a=e[8],l=e[9],o=e[10],c=e[11],m=e[12],i=e[13],u=e[14];let d;e[23]!==r?(d=r&&t.jsxs(_,{onClick:r,variant:"outline",size:"sm",className:"w-full",children:[t.jsx(P,{className:"w-4 h-4 mr-2"}),"Try Again"]}),e[23]=r,e[24]=d):d=e[24];let h;e[25]!==n.type?(h=n.type==="cors"&&t.jsxs(_,{onClick:M,variant:"outline",size:"icon",className:"w-full",children:[t.jsx(U,{className:"w-4 h-4 mr-2"}),"View Deployment Guide"]}),e[25]=n.type,e[26]=h):h=e[26];let k;e[27]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsxs(_,{onClick:H,variant:"outline",size:"icon",className:"w-full",children:[t.jsx(P,{className:"w-4 h-4 mr-2"}),"Refresh Page"]}),e[27]=k):k=e[27];let f;e[28]!==h||e[29]!==d?(f=t.jsxs("div",{className:"flex flex-col gap-2 pt-2",children:[d,h,k]}),e[28]=h,e[29]=d,e[30]=f):f=e[30];let g;e[31]!==a||e[32]!==f||e[33]!==o||e[34]!==c?(g=t.jsxs(a,{className:o,children:[c,f]}),e[31]=a,e[32]=f,e[33]=o,e[34]=c,e[35]=g):g=e[35];let p;e[36]!==l||e[37]!==g||e[38]!==m||e[39]!==i?(p=t.jsxs(l,{className:m,children:[i,g]}),e[36]=l,e[37]=g,e[38]=m,e[39]=i,e[40]=p):p=e[40];let v;return e[41]!==p||e[42]!==u?(v=t.jsx("div",{className:u,children:p}),e[41]=p,e[42]=u,e[43]=v):v=e[43],v}function H(){return window.location.reload()}function M(){return window.open("https://kaneo.app/docs","_blank")}function q(s,e){return t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-zinc-400 dark:text-zinc-500 mt-0.5",children:"â€¢"}),t.jsx("span",{children:s})]},`step-${e}-${s.slice(0,10)}`)}function J(){const s=S.c(2);let e;s[0]===Symbol.for("react.memo_cache_sentinel")?(e=new Error("Failed to connect to API server at https://api.andrej.com. This might be due to CORS configuration issues or the server not running. Please check your environment variables and server status."),s[0]=e):e=s[0];const j=e;let r;return s[1]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsxs("div",{className:"p-4",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Error Handling Test"}),t.jsx(G,{error:j,title:"Test Error",className:"min-h-[300px]"})]}),s[1]=r):r=s[1],r}function te(){const s=S.c(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx("div",{className:"min-h-screen bg-zinc-50 dark:bg-zinc-900",children:t.jsx(J,{})}),s[0]=e):e=s[0],e}export{te as component};
