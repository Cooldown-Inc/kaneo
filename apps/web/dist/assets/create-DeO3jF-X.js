import{c as Q,r as f,n as T,a as $,u as H,j as t,t as q,f as K}from"./index-D6_JMR29.js";import{P as U}from"./page-title-D2qfPOLM.js";import{B as G}from"./button-EC3LtV52.js";import{a as J,d as L}from"./card-B27ScNG8.js";import{I as B}from"./input-BncAdNhM.js";import{u as M}from"./use-create-workspace-DP7ePvTH.js";import{B as O}from"./building-2-DuX-XVkM.js";import"./index-Dtyx9z7_.js";import"./index-BrfIpMvE.js";import"./useMutation-B_C6xvhR.js";import"./create-slug-VE8e1keW.js";import"./createLucideIcon-CRcKb1Ol.js";function ne(){const e=Q.c(38),[s,F]=f.useState(""),[r,P]=f.useState(""),[N,D]=f.useState(!1),S=f.useRef(null),C=T(),_=$(),{setActiveWorkspaceId:W}=H(),{mutateAsync:A,isPending:p}=M();let x,h;e[0]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{S.current&&setTimeout(()=>{S.current?.focus()},100)},h=[],e[0]=x,e[1]=h):(x=e[0],h=e[1]),f.useEffect(x,h);let b;e[2]!==r||e[3]!==A||e[4]!==s||e[5]!==_||e[6]!==C||e[7]!==W?(b=async m=>{if(m.preventDefault(),D(!0),!!s.trim())try{const u=await A({name:s,description:r});q.success("Workspace created successfully"),await C.invalidateQueries({queryKey:["workspaces"]}),await K.organization.setActive({organizationId:u.id}),W(u.id),_({to:"/dashboard/workspace/$workspaceId",params:{workspaceId:u.id},replace:!0})}catch(u){const R=u;q.error(R instanceof Error?R.message:"Failed to create workspace")}},e[2]=r,e[3]=A,e[4]=s,e[5]=_,e[6]=C,e[7]=W,e[8]=b):b=e[8];const E=b;let g;e[9]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx(U,{title:"Create Workspace"}),e[9]=g):g=e[9];let k;e[10]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-zinc-100 dark:bg-zinc-700 rounded-lg flex items-center justify-center",children:t.jsx(O,{className:"h-6 w-6 text-zinc-600 dark:text-zinc-400"})})}),t.jsx("h1",{className:"text-2xl font-semibold text-zinc-900 dark:text-white mb-2",children:"Create a new workspace"}),t.jsx("p",{className:"text-zinc-600 dark:text-zinc-400 text-sm",children:"Workspaces are shared environments where teams can work on projects, cycles and issues."})]}),e[10]=k):k=e[10];let w;e[11]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx("label",{htmlFor:"workspace-name",className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Workspace Name"}),e[11]=w):w=e[11];let j;e[12]===Symbol.for("react.memo_cache_sentinel")?(j=m=>F(m.target.value),e[12]=j):j=e[12];let a;e[13]!==s?(a=t.jsx(B,{ref:S,id:"workspace-name",value:s,onChange:j,placeholder:"Enter workspace name",className:"h-12 text-lg font-medium border-zinc-300 dark:border-zinc-600 focus:border-indigo-500 dark:focus:border-indigo-400 focus:ring-indigo-500 dark:focus:ring-indigo-400",required:!0}),e[13]=s,e[14]=a):a=e[14];let i;e[15]!==N||e[16]!==s?(i=N&&!s.trim()&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Required"}),e[15]=N,e[16]=s,e[17]=i):i=e[17];let c;e[18]!==a||e[19]!==i?(c=t.jsxs("div",{children:[w,a,i]}),e[18]=a,e[19]=i,e[20]=c):c=e[20];let y;e[21]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx("label",{htmlFor:"workspace-description",className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Description (optional)"}),e[21]=y):y=e[21];let v;e[22]===Symbol.for("react.memo_cache_sentinel")?(v=m=>P(m.target.value),e[22]=v):v=e[22];let o;e[23]!==r?(o=t.jsxs("div",{children:[y,t.jsx(B,{id:"workspace-description",value:r,onChange:v,placeholder:"Add a description for your workspace",className:"h-10 border-zinc-300 dark:border-zinc-600 focus:border-indigo-500 dark:focus:border-indigo-400 focus:ring-indigo-500 dark:focus:ring-indigo-400"})]}),e[23]=r,e[24]=o):o=e[24];let n;e[25]!==o||e[26]!==c?(n=t.jsxs("div",{className:"space-y-4",children:[c,o]}),e[25]=o,e[26]=c,e[27]=n):n=e[27];let l;e[28]!==p||e[29]!==s?(l=!s.trim()||p,e[28]=p,e[29]=s,e[30]=l):l=e[30];const I=p?"Creating...":"Create workspace";let d;e[31]!==l||e[32]!==I?(d=t.jsx("div",{className:"pt-4",children:t.jsx(G,{type:"submit",disabled:l,className:"w-full h-12 bg-indigo-600 hover:bg-indigo-500 text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:I})}),e[31]=l,e[32]=I,e[33]=d):d=e[33];let z;return e[34]!==E||e[35]!==n||e[36]!==d?(z=t.jsxs(t.Fragment,{children:[g,t.jsx("div",{className:"min-h-screen w-full bg-zinc-50 dark:bg-zinc-900 flex items-center justify-center p-4 overflow-y-auto",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsx(J,{className:"border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 shadow-sm",children:t.jsxs(L,{className:"p-8",children:[k,t.jsxs("form",{onSubmit:E,className:"space-y-6",children:[n,d]})]})})})})]}),e[34]=E,e[35]=n,e[36]=d,e[37]=z):z=e[37],z}export{ne as component};
