import{t as q,c as Ie,n as ve,a as fe,g as $e,e as ze,d as pe,f as Z}from"./en-US-DIdCsyf3.js";import{O as Ae,N as Pe,J as Te,z as Le,y as Ue,K as Fe,T as We,Q as Ke,H as Re,M as Be,F as He,D as Xe,x as qe,P as ye,g as Ge,f as Ye,S as Qe}from"./create-project-modal-Cne2zI5Z.js";import{c as _,r as O,d as A,j as s,M as he,N as Ve,e as G,t as K,P as Je,Q as Ze,a as V,n as Ne,m as et,f as le,o as tt,b as ie,D as st,u as Se}from"./index-D6_JMR29.js";import{a as te,b as se,P as oe,A as ot,c as rt,C as at,R as nt}from"./popover-1qwL5cRb.js";import{c as J}from"./createLucideIcon-CRcKb1Ol.js";import{S as H}from"./separator-Cv6BfWof.js";import{b as re,c as Y,d as Q,e as ce,f as ke,u as Ce,g as lt,h as it,i as ct,j as dt,k as ut,S as mt}from"./sidebar-C6zCFglj.js";import{B}from"./button-EC3LtV52.js";import{b as ft,c as pt,d as ht,a as xt,D as bt}from"./badge-DgtRj8pM.js";import{L as gt}from"./loader-circle-DwAUW7-I.js";import{u as wt}from"./useQuery-BDxn_D7I.js";import{C as De}from"./chevron-down-BSVZ8qIu.js";import{C as _e,a as Me,b as Ee}from"./collapsible-BzsgDJ0n.js";import{u as de}from"./use-active-workspace-DO0oIQWU.js";import{F as jt,i as xe,c as vt,T as yt}from"./project-icons-C5t--tF0.js";import{U as Nt}from"./users-DuQM-a9l.js";import{C as ue}from"./chevron-right-Dbn00CNb.js";import{C as St}from"./check-IjCBnfdg.js";import{T as kt,a as Ct,b as Dt,c as _t,K as Mt,s as R,e as Et}from"./tooltip-CdvJmOJg.js";import{u as Ot}from"./use-delete-project-WU8lx2qP.js";import{u as It}from"./use-get-projects-CoJzRJjM.js";import{b as $t,c as zt,d as At,f as Pt,a as Tt,e as Lt,g as Ut,A as Ft}from"./alert-dialog-Df-VbuAQ.js";import{b as be,a as ge,A as we}from"./avatar-BVGO6hTJ.js";import{u as Wt}from"./useMutation-B_C6xvhR.js";import{u as Kt}from"./project-Bb0wcCkA.js";import{S as Rt}from"./settings-8jW1THm0.js";import{I as Bt}from"./input-BncAdNhM.js";import{S as Ht}from"./search-BHoHnvlf.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],qt=J("ellipsis",Xt);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["path",{d:"m15 17 5-5-5-5",key:"nf172w"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]],Yt=J("forward",Gt);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],Vt=J("hammer",Qt);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Zt=J("info",Jt);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ts=J("log-out",es);function ee(e,t){const o=+q(e)-+q(t);return o<0?-1:o>0?1:o}function ss(e){return Ie(e,Date.now())}function os(e){return t=>{const a=(e?Math[e]:Math.trunc)(t);return a===0?0:a}}function rs(e,t){return+q(e)-+q(t)}function as(e,t){const o=q(e,t?.in);return o.setHours(23,59,59,999),o}function ns(e,t){const o=q(e,t?.in);return+as(o,t)==+Ae(o,t)}function ls(e,t,o){const[a,r,n]=ve(o?.in,e,e,t),i=ee(r,n),l=Math.abs(Pe(r,n));if(l<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*l);let c=ee(r,n)===-i;ns(a)&&l===1&&ee(a,n)===1&&(c=!1);const m=i*(l-+c);return m===0?0:m}function is(e,t,o){const a=rs(e,t)/1e3;return os(o?.roundingMethod)(a)}function cs(e,t,o){const a=$e(),r=o?.locale??a.locale??ze,n=2520,i=ee(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},o,{addSuffix:o?.addSuffix,comparison:i}),[c,m]=ve(o?.in,...i>0?[t,e]:[e,t]),p=is(m,c),j=(fe(m)-fe(c))/1e3,h=Math.round((p-j)/60);let b;if(h<2)return o?.includeSeconds?p<5?r.formatDistance("lessThanXSeconds",5,l):p<10?r.formatDistance("lessThanXSeconds",10,l):p<20?r.formatDistance("lessThanXSeconds",20,l):p<40?r.formatDistance("halfAMinute",0,l):p<60?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",1,l):h===0?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",h,l);if(h<45)return r.formatDistance("xMinutes",h,l);if(h<90)return r.formatDistance("aboutXHours",1,l);if(h<pe){const x=Math.round(h/60);return r.formatDistance("aboutXHours",x,l)}else{if(h<n)return r.formatDistance("xDays",1,l);if(h<Z){const x=Math.round(h/pe);return r.formatDistance("xDays",x,l)}else if(h<Z*2)return b=Math.round(h/Z),r.formatDistance("aboutXMonths",b,l)}if(b=ls(m,c),b<12){const x=Math.round(h/Z);return r.formatDistance("xMonths",x,l)}else{const x=b%12,v=Math.trunc(b/12);return x<3?r.formatDistance("aboutXYears",v,l):x<9?r.formatDistance("overXYears",v,l):r.formatDistance("almostXYears",v+1,l)}}function po(e,t){return cs(e,ss(e),t)}function ds(e){const t=_.c(24),{children:o,title:a,side:r,align:n,className:i,iconClassName:l}=e,c=r===void 0?"right":r,m=n===void 0?"start":n,[p,j]=O.useState(!1);let h;t[0]!==l?(h=A("inline-flex items-center justify-center rounded-full hover:bg-secondary/80 transition-colors","size-5 shrink-0",l),t[0]=l,t[1]=h):h=t[1];let b;t[2]!==p?(b=E=>{E.stopPropagation(),j(!p)},t[2]=p,t[3]=b):b=t[3];let x;t[4]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx(Zt,{className:"size-3.5 text-muted-foreground/70 hover:text-muted-foreground"}),t[4]=x):x=t[4];let v;t[5]!==h||t[6]!==b?(v=s.jsx(te,{asChild:!0,children:s.jsx("button",{type:"button",className:h,onClick:b,children:x})}),t[5]=h,t[6]=b,t[7]=v):v=t[7];let y;t[8]!==i?(y=A("w-80 p-4",i),t[8]=i,t[9]=y):y=t[9];let d;t[10]!==a?(d=a&&s.jsx("div",{className:"font-semibold text-sm mb-2 text-foreground",children:a}),t[10]=a,t[11]=d):d=t[11];let u;t[12]!==o?(u=s.jsx("div",{className:"text-sm text-muted-foreground leading-relaxed",children:o}),t[12]=o,t[13]=u):u=t[13];let f;t[14]!==m||t[15]!==c||t[16]!==y||t[17]!==d||t[18]!==u?(f=s.jsxs(se,{className:y,align:m,side:c,sideOffset:8,onClick:us,children:[d,u]}),t[14]=m,t[15]=c,t[16]=y,t[17]=d,t[18]=u,t[19]=f):f=t[19];let g;return t[20]!==p||t[21]!==f||t[22]!==v?(g=s.jsxs(oe,{open:p,onOpenChange:j,children:[v,f]}),t[20]=p,t[21]=f,t[22]=v,t[23]=g):g=t[23],g}function us(e){return e.stopPropagation()}function ms(e,t){const o=_.c(13);let a;o[0]!==t||o[1]!==e?(a=he(e,t),o[0]=t,o[1]=e,o[2]=a):a=o[2];const[r,n]=O.useState(a);let i,l;o[3]!==t||o[4]!==e?(i=()=>{const j=()=>{n(he(e,t))};return window.addEventListener("tutorial-state-changed",j),()=>{window.removeEventListener("tutorial-state-changed",j)}},l=[e,t],o[3]=t,o[4]=e,o[5]=i,o[6]=l):(i=o[5],l=o[6]),O.useEffect(i,l);let c;o[7]!==t||o[8]!==e?(c=()=>{Ve(e,t),window.dispatchEvent(new CustomEvent("tutorial-state-changed"))},o[7]=t,o[8]=e,o[9]=c):c=o[9];const m=c;let p;return o[10]!==m||o[11]!==r?(p={shouldShow:r,complete:m},o[10]=m,o[11]=r,o[12]=p):p=o[12],p}function fs(e){const t=_.c(29),{tutorial:o,step:a,children:r,title:n,side:i,align:l,className:c,buttonText:m,showArrow:p,arrowPosition:j,onComplete:h}=e,b=i===void 0?"right":i,x=l===void 0?"start":l,v=m===void 0?"Got it":m,y=p===void 0?!1:p,d=j===void 0?"top-left":j,{shouldShow:u,complete:f}=ms(o,a);let g;t[0]!==f||t[1]!==h?(g=()=>{f(),h?.()},t[0]=f,t[1]=h,t[2]=g):g=t[2];const E=g;if(!u)return null;let w;t[3]!==d?(w=()=>{switch(d){case"top-left":return{container:"absolute top-2 -left-2",border:A("absolute w-0 h-0 border-solid","border-t-[8px] border-t-transparent","border-r-[8px] border-r-border","border-b-[8px] border-b-transparent"),fill:A("absolute w-0 h-0 border-solid left-[1px]","border-t-[8px] border-t-transparent","border-r-[8px] border-r-popover","border-b-[8px] border-b-transparent")};case"top-right":return{container:"absolute top-2 -right-2",border:A("absolute w-0 h-0 border-solid","border-t-[8px] border-t-transparent","border-l-[8px] border-l-border","border-b-[8px] border-b-transparent"),fill:A("absolute w-0 h-0 border-solid right-[1px]","border-t-[8px] border-t-transparent","border-l-[8px] border-l-popover","border-b-[8px] border-b-transparent")};case"bottom-left":return{container:"absolute bottom-4 -left-2",border:A("absolute w-0 h-0 border-solid","border-t-[8px] border-t-transparent","border-r-[8px] border-r-border","border-b-[8px] border-b-transparent"),fill:A("absolute w-0 h-0 border-solid left-[1px]","border-t-[8px] border-t-transparent","border-r-[8px] border-r-popover","border-b-[8px] border-b-transparent")};case"bottom-right":return{container:"absolute bottom-4 -right-2",border:A("absolute w-0 h-0 border-solid","border-t-[8px] border-t-transparent","border-l-[8px] border-l-border","border-b-[8px] border-b-transparent"),fill:A("absolute w-0 h-0 border-solid right-[1px]","border-t-[8px] border-t-transparent","border-l-[8px] border-l-popover","border-b-[8px] border-b-transparent")};default:return{container:"",border:"",fill:""}}},t[3]=d,t[4]=w):w=t[4];const N=w;let I;t[5]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(ot,{className:"absolute inset-0 pointer-events-none"}),t[5]=I):I=t[5];let C;t[6]!==c?(C=A("z-50 w-80 rounded-md border bg-popover p-4 text-sm text-popover-foreground shadow-md outline-none","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","origin-[--radix-popover-content-transform-origin]",c),t[6]=c,t[7]=C):C=t[7];let S;t[8]!==N||t[9]!==y?(S=y&&s.jsxs("div",{className:N().container,children:[s.jsx("div",{className:N().border}),s.jsx("div",{className:N().fill})]}),t[8]=N,t[9]=y,t[10]=S):S=t[10];let k;t[11]!==n?(k=n&&s.jsx("div",{className:"font-semibold text-sm mb-2 text-foreground",children:n}),t[11]=n,t[12]=k):k=t[12];let D;t[13]!==r?(D=s.jsx("div",{className:"text-sm text-muted-foreground leading-relaxed mb-4",children:r}),t[13]=r,t[14]=D):D=t[14];let M;t[15]!==v||t[16]!==E?(M=s.jsx("div",{className:"flex justify-end",children:s.jsx(B,{size:"sm",onClick:E,children:v})}),t[15]=v,t[16]=E,t[17]=M):M=t[17];let $;t[18]!==x||t[19]!==b||t[20]!==S||t[21]!==k||t[22]!==D||t[23]!==M||t[24]!==C?($=s.jsx(rt,{children:s.jsxs(at,{side:b,align:x,sideOffset:8,className:C,onClick:ps,children:[S,k,D,M]})}),t[18]=x,t[19]=b,t[20]=S,t[21]=k,t[22]=D,t[23]=M,t[24]=C,t[25]=$):$=t[25];let P;return t[26]!==u||t[27]!==$?(P=s.jsxs(nt,{open:u,children:[I,$]}),t[26]=u,t[27]=$,t[28]=P):P=t[28],P}function ps(e){return e.stopPropagation()}function hs(e){const t=_.c(5),{isOpen:o,onOpenChange:a}=e;let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsxs(ft,{className:"space-y-3",children:[s.jsx(pt,{className:"text-xl font-semibold",children:"Opening Else Workspace"}),s.jsx(ht,{className:"text-base",children:"We're setting up your development workspace. This may take a moment..."})]}),t[0]=r):r=t[0];let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsxs(xt,{className:"sm:max-w-md border-border/50",children:[r,s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-6",children:[s.jsx("div",{className:"relative",children:s.jsx(gt,{className:"h-16 w-16 animate-spin text-primary"})}),s.jsx("p",{className:"text-sm text-muted-foreground/80 text-center font-medium",children:"Preparing your workspace"})]})]}),t[1]=n):n=t[1];let i;return t[2]!==o||t[3]!==a?(i=s.jsx(bt,{open:o,onOpenChange:a,children:n}),t[2]=o,t[3]=a,t[4]=i):i=t[4],i}async function je(e){const t=await G.mods[":modId"].bundle.$get({param:{modId:e}});if(!t.ok){const a=await t.text();throw new Error(a)}return await t.json()}async function xs(){const e=await G.mods.available.$get();if(!e.ok){const o=await e.text();throw new Error(o)}return await e.json()}function bs(){const e=_.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryFn:gs,queryKey:["mods","available"]},e[0]=t):t=e[0],wt(t)}function gs(){return xs()}function ws(){const{data:e}=bs(),[t,o]=O.useState(!1),[a,r]=O.useState(!1),[n,i]=O.useState(!1),[l,c]=O.useState(null),[m,p]=O.useState(!1),[j,h]=O.useState(!1);O.useEffect(()=>{if(!m)return;(async()=>{try{console.log("ðŸš€ Initializing user extension...");const u=await G.else.user.extension.initialize.$post();if(!u.ok)throw new Error("Failed to initialize extension");const f=await u.json();if(console.log("âœ… Extension initialized:",f),console.log("ðŸ Starting workspace..."),!(await G.else.user.workspace.start.$post()).ok)throw new Error("Failed to start workspace");console.log("âœ… Workspace start requested"),await(async()=>{let N=0;const I=async()=>{if(N>=60)throw new Error("Workspace did not become ready in time");N++,console.log(`ðŸ“Š Polling workspace status (attempt ${N})...`);const C=await G.else.user.workspace.status.$get();if(!C.ok)throw new Error("Failed to get workspace status");const S=await C.json();if(console.log("ðŸ“Š Workspace status:",S),S.isRunning&&S.workspaceUrl){console.log("âœ… Workspace is ready!"),p(!1);const k=new URL(S.workspaceUrl);k.searchParams.set("url_on_done",window.location.href),window.open(k.toString(),"_blank");return}return await new Promise(k=>setTimeout(k,5e3)),I()};return I()})()}catch(u){console.error("âŒ Error opening workspace:",u),p(!1),K.error(u instanceof Error?u.message:"Failed to open workspace")}})()},[m]),O.useEffect(()=>{console.log("ðŸ” Checking for Else SDK..."),console.log("window.else:",window.else);const d=()=>{if(window.else&&typeof window.else.setCustomBundle=="function"&&typeof window.else.reloadWithBundle=="function"){console.log("âœ… Else SDK loaded successfully"),console.log("SDK Version:",window.else.bundleLoaderVersion);const g=window.else.inElseDevEnvironment();return console.log("ðŸ”§ In Else Dev Environment:",g),h(g),i(!0),!0}return!1};if(d())return;console.log("â³ Waiting for Else SDK to load...");const u=setInterval(()=>{d()&&clearInterval(u)},100),f=setTimeout(()=>{clearInterval(u),console.error("âŒ Else SDK failed to load within 10 seconds"),console.log("Final check - window.else:",window.else),K.error("Failed to initialize mod system. Please refresh the page.")},1e4);return()=>{clearInterval(u),clearTimeout(f)}},[]),O.useEffect(()=>{Je("welcome")||(Ze("welcome"),window.dispatchEvent(new CustomEvent("tutorial-state-changed")))},[]),O.useEffect(()=>{if(!n||window.else?.inElseDevEnvironment())return;const d=window.else?.getCustomBundle()||null;c(d),console.log("ðŸ“¦ Current bundle from Else SDK:",d)},[n]);const b=async d=>{if(console.log("ðŸŽ¯ handleModSelect called with:",d),console.log("Current bundle URL:",l),!n){K.error("Else SDK is still loading. Please wait...");return}if(window.else?.inElseDevEnvironment()){console.log("ðŸ”§ In Else dev environment, mod loading disabled"),K.error("Mod loading is disabled in Else dev environment");return}if(d===null){if(!l){console.log("âœ… Already on Original Site, no action needed");return}console.log("ðŸ—‘ï¸ Clearing bundle and reloading to Original Site");try{window.else&&window.else.clearCustomBundle()}catch(f){console.error("Failed to unload mod:",f),K.error("Failed to switch to Original Site")}return}const u=x[d];if(u&&u===l){console.log("âœ… Mod already loaded, no action needed");return}console.log("ðŸ“¥ Loading mod:",d),r(!0);try{const f=await je(d);if(!f.bundleUrl)throw new Error("No bundle URL returned");if(window.else)window.else.reloadWithBundle(f.bundleUrl);else throw new Error("Else SDK not loaded")}catch(f){console.error("Failed to load mod:",f),K.error(f instanceof Error?f.message:"Failed to load mod"),r(!1)}},[x,v]=O.useState({});O.useEffect(()=>{if(!e||e.length===0||!n||window.else?.inElseDevEnvironment())return;(async()=>{const u={};for(const f of e)try{const g=await je(f.id);g.bundleUrl&&(u[f.id]=g.bundleUrl)}catch{console.log(`Mod ${f.id} is not available (no bundle)`)}console.log("ðŸ“‹ All fetched mod bundle URLs:",u),v(u)})()},[e,n]);const y=()=>{if(!l)return"Original Site";const d=Object.entries(x).find(([,u])=>u===l)?.[0];return d&&e?.find(f=>f.id===d)?.title||"Loaded Mod"};return s.jsxs("div",{className:"flex items-center gap-2 w-full",children:[s.jsx(re,{className:"flex-1",children:s.jsx(Y,{children:s.jsxs(oe,{open:t,onOpenChange:o,children:[s.jsx(te,{asChild:!0,children:s.jsxs(Q,{size:"sm",className:"h-8 py-0 w-auto w-full group/mod",disabled:a||!n||j,children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0 w-full",children:[s.jsx("img",{src:"/else-icon.png",alt:"Else",className:"size-5 rounded-sm"}),s.jsx("span",{className:"truncate text-sm text-foreground/90 font-medium",children:a?"Loading...":n?j?"Disabled":y():"Initializing..."})]}),s.jsx(De,{className:"ml-1 size-3 text-muted-foreground/50 opacity-0 group-hover/mod:opacity-100 data-[state=open]:opacity-100 data-[state=open]:rotate-180 transition-all duration-500 ease-out","data-state":t?"open":"closed"})]})}),s.jsxs(se,{className:"w-fit min-w-48 p-0 rounded-lg",align:"start",side:"bottom",sideOffset:4,children:[s.jsx("div",{className:"p-3",children:s.jsx("div",{className:"text-muted-foreground/60 text-xs",children:"EXAMPLES"})}),s.jsx(H,{}),s.jsxs("div",{className:"p-1",children:[s.jsxs("button",{type:"button",onClick:()=>b(null),className:`w-full flex items-center gap-2 px-2 py-1.5 hover:bg-secondary/80 focus:bg-secondary/80 rounded-sm transition-colors text-sm font-normal ${l?"":"bg-secondary/50"}`,children:[s.jsx("img",{src:"/else-icon.png",alt:"Else",className:"size-5 rounded-sm"}),s.jsx("span",{className:"text-foreground/90 flex-1 text-left",children:"Original Site"})]}),e?.filter(d=>x[d.id]).map(d=>{const u=l&&x[d.id]===l;return s.jsxs("button",{type:"button",onClick:()=>b(d.id),className:`w-full flex items-center gap-2 px-2 py-1.5 hover:bg-secondary/80 focus:bg-secondary/80 rounded-sm transition-colors text-sm font-normal ${u?"bg-secondary/50":""}`,children:[s.jsx("div",{className:"bg-purple-600/20 border border-purple-600/30 flex size-5 items-center justify-center rounded-sm",children:s.jsx("span",{className:"text-xs font-medium text-purple-600",children:d.title.charAt(0).toUpperCase()})}),s.jsx("span",{className:"text-foreground/90 flex-1 text-left",children:d.title})]},d.id)}),s.jsx(H,{className:"my-1"}),s.jsxs("button",{type:"button",onClick:()=>{o(!1),p(!0)},className:"w-full flex items-center gap-2 px-2 py-1.5 hover:bg-secondary/80 focus:bg-secondary/80 rounded-sm transition-colors text-sm font-normal",children:[s.jsx("div",{className:"bg-blue-600/20 border border-blue-600/30 flex size-5 items-center justify-center rounded-sm",children:s.jsx(Vt,{className:"size-3 text-blue-600"})}),s.jsx("span",{className:"text-foreground/90 flex-1 text-left",children:"Build your own"})]})]})]})]})})}),s.jsxs("div",{className:"relative",children:[s.jsx(ds,{title:"Toggle between prototypes",side:"right",align:"start",children:s.jsxs("p",{children:["These were built with Else. Once you have tried the examples select ",s.jsx("b",{children:"Build your own"})," to try out the Else development environment."]})}),s.jsx(fs,{tutorial:"welcome",step:"intro",title:"This is the original Kaneo product",side:"right",align:"start",showArrow:!0,arrowPosition:"top-left",className:"-translate-y-2",children:s.jsxs("p",{children:["You can toggle between the ",s.jsx("b",{children:"Original Site"})," and prototypes built with ",s.jsx("b",{children:"Else"}),". When you're ready, select ",s.jsx("b",{children:"Build your own"}),"."]})})]}),s.jsx(hs,{isOpen:m,onOpenChange:p})]})}function js(){const e=_.c(34),{data:t}=de(),o=V();if(!t)return null;const a=`/dashboard/workspace/${t.id}`,r=window.location.pathname===`/dashboard/workspace/${t.id}`;let n,i,l,c,m,p,j,h,b,x,v;if(e[0]!==o||e[1]!==a||e[2]!==r||e[3]!==t.id){const g=[{title:"Projects",url:a,icon:jt,isActive:r,isDisabled:!1},{title:"Members",url:`/dashboard/workspace/${t.id}/members`,icon:Nt,isActive:window.location.pathname===`/dashboard/workspace/${t.id}/members`,isDisabled:!1}],E=w=>{o({to:w})};c=_e,x=!0,v="group/collapsible",l=ce,h="pt-2 pb-0",e[15]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(Me,{asChild:!0,children:s.jsxs(ke,{className:"px-2 text-xs text-muted-foreground/70 font-medium cursor-pointer hover:text-muted-foreground transition-colors duration-200 flex items-center justify-between",children:["Workspace",s.jsx(ue,{className:"ml-auto h-3 w-3 transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90"})]})}),e[15]=b):b=e[15],i=Ee,j="data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:slide-out-to-bottom-2 data-[state=open]:slide-in-from-bottom-2 duration-200",n=re,m="space-y-0.5",p=g.map((w,N)=>s.jsx(Y,{className:"data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:slide-in-from-bottom-2 duration-200",style:{animationDelay:`${N*50}ms`},children:s.jsx(Q,{asChild:!0,tooltip:w.title,disabled:w.isDisabled,isActive:w.isActive,size:"sm",className:"h-7 px-2 text-xs rounded-sm group text-foreground/60",children:s.jsxs(B,{onClick:()=>{w.url&&E(w.url)},variant:"ghost",className:A("w-full h-7 justify-start items-center gap-2 px-2 text-sm transition-all duration-200 relative",w.isActive&&"!bg-neutral-200 dark:!bg-neutral-800"),children:[w.icon&&s.jsx(w.icon,{className:"w-3.5 h-3.5 transition-colors duration-200 relative z-10"}),s.jsx("span",{className:"transition-colors duration-200 relative z-10",children:w.title})]})})},w.title)),e[0]=o,e[1]=a,e[2]=r,e[3]=t.id,e[4]=n,e[5]=i,e[6]=l,e[7]=c,e[8]=m,e[9]=p,e[10]=j,e[11]=h,e[12]=b,e[13]=x,e[14]=v}else n=e[4],i=e[5],l=e[6],c=e[7],m=e[8],p=e[9],j=e[10],h=e[11],b=e[12],x=e[13],v=e[14];let y;e[16]!==n||e[17]!==m||e[18]!==p?(y=s.jsx(n,{className:m,children:p}),e[16]=n,e[17]=m,e[18]=p,e[19]=y):y=e[19];let d;e[20]!==i||e[21]!==j||e[22]!==y?(d=s.jsx(i,{className:j,children:y}),e[20]=i,e[21]=j,e[22]=y,e[23]=d):d=e[23];let u;e[24]!==l||e[25]!==d||e[26]!==h||e[27]!==b?(u=s.jsxs(l,{className:h,children:[b,d]}),e[24]=l,e[25]=d,e[26]=h,e[27]=b,e[28]=u):u=e[28];let f;return e[29]!==c||e[30]!==u||e[31]!==x||e[32]!==v?(f=s.jsx(c,{defaultOpen:x,className:v,children:u}),e[29]=c,e[30]=u,e[31]=x,e[32]=v,e[33]=f):f=e[33],f}function vs(e){const t=_.c(4);let o;t[0]!==e?({...o}=e,t[0]=e,t[1]=o):o=t[1];let a;return t[2]!==o?(a=s.jsx(Be,{"data-slot":"dropdown-menu",...o}),t[2]=o,t[3]=a):a=t[3],a}function ys(e){const t=_.c(4);let o;t[0]!==e?({...o}=e,t[0]=e,t[1]=o):o=t[1];let a;return t[2]!==o?(a=s.jsx(We,{"data-slot":"dropdown-menu-trigger",...o}),t[2]=o,t[3]=a):a=t[3],a}function Ns(e){const t=_.c(10);let o,a,r;t[0]!==e?({className:o,sideOffset:r,...a}=e,t[0]=e,t[1]=o,t[2]=a,t[3]=r):(o=t[1],a=t[2],r=t[3]);const n=r===void 0?4:r;let i;t[4]!==o?(i=A("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",o),t[4]=o,t[5]=i):i=t[5];let l;return t[6]!==a||t[7]!==n||t[8]!==i?(l=s.jsx(Ke,{children:s.jsx(Re,{"data-slot":"dropdown-menu-content",sideOffset:n,className:i,...a})}),t[6]=a,t[7]=n,t[8]=i,t[9]=l):l=t[9],l}function ne(e){const t=_.c(12);let o,a,r,n;t[0]!==e?({className:o,inset:a,variant:n,...r}=e,t[0]=e,t[1]=o,t[2]=a,t[3]=r,t[4]=n):(o=t[1],a=t[2],r=t[3],n=t[4]);const i=n===void 0?"default":n;let l;t[5]!==o?(l=A("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",o),t[5]=o,t[6]=l):l=t[6];let c;return t[7]!==a||t[8]!==r||t[9]!==l||t[10]!==i?(c=s.jsx(He,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":i,className:l,...r}),t[7]=a,t[8]=r,t[9]=l,t[10]=i,t[11]=c):c=t[11],c}function ho(e){const t=_.c(13);let o,a,r,n;t[0]!==e?({className:r,children:a,checked:o,...n}=e,t[0]=e,t[1]=o,t[2]=a,t[3]=r,t[4]=n):(o=t[1],a=t[2],r=t[3],n=t[4]);let i;t[5]!==r?(i=A("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),t[5]=r,t[6]=i):i=t[6];let l;t[7]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx("span",{className:"pointer-events-none absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(Fe,{children:s.jsx(St,{className:"size-4"})})}),t[7]=l):l=t[7];let c;return t[8]!==o||t[9]!==a||t[10]!==n||t[11]!==i?(c=s.jsxs(Te,{"data-slot":"dropdown-menu-checkbox-item",className:i,checked:o,...n,children:[a,l]}),t[8]=o,t[9]=a,t[10]=n,t[11]=i,t[12]=c):c=t[12],c}function Ss(e){const t=_.c(8);let o,a;t[0]!==e?({className:o,...a}=e,t[0]=e,t[1]=o,t[2]=a):(o=t[1],a=t[2]);let r;t[3]!==o?(r=A("bg-border -mx-1 my-1 h-px",o),t[3]=o,t[4]=r):r=t[4];let n;return t[5]!==a||t[6]!==r?(n=s.jsx(Xe,{"data-slot":"dropdown-menu-separator",className:r,...a}),t[5]=a,t[6]=r,t[7]=n):n=t[7],n}function xo(e){const t=_.c(4);let o;t[0]!==e?({...o}=e,t[0]=e,t[1]=o):o=t[1];let a;return t[2]!==o?(a=s.jsx(Le,{"data-slot":"dropdown-menu-sub",...o}),t[2]=o,t[3]=a):a=t[3],a}function bo(e){const t=_.c(13);let o,a,r,n;t[0]!==e?({className:a,inset:r,children:o,...n}=e,t[0]=e,t[1]=o,t[2]=a,t[3]=r,t[4]=n):(o=t[1],a=t[2],r=t[3],n=t[4]);let i;t[5]!==a?(i=A("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8",a),t[5]=a,t[6]=i):i=t[6];let l;t[7]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(ue,{className:"ml-auto size-4"}),t[7]=l):l=t[7];let c;return t[8]!==o||t[9]!==r||t[10]!==n||t[11]!==i?(c=s.jsxs(qe,{"data-slot":"dropdown-menu-sub-trigger","data-inset":r,className:i,...n,children:[o,l]}),t[8]=o,t[9]=r,t[10]=n,t[11]=i,t[12]=c):c=t[12],c}function go(e){const t=_.c(8);let o,a;t[0]!==e?({className:o,...a}=e,t[0]=e,t[1]=o,t[2]=a):(o=t[1],a=t[2]);let r;t[3]!==o?(r=A("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",o),t[3]=o,t[4]=r):r=t[4];let n;return t[5]!==a||t[6]!==r?(n=s.jsx(Ue,{"data-slot":"dropdown-menu-sub-content",className:r,...a}),t[5]=a,t[6]=r,t[7]=n):n=t[7],n}function ks(){const e=_.c(44),{isMobile:t}=Ce(),{data:o}=de(),a=o?.id||"";let r;e[0]!==a?(r={workspaceId:a},e[0]=a,e[1]=r):r=e[1];const{data:n}=It(r),i=Ne(),{mutateAsync:l}=Ot(),c=V();let m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m={strict:!1},e[2]=m):m=e[2];const{workspaceId:p,projectId:j}=et(m),[h,b]=O.useState(!1),[x,v]=O.useState(!1),[y,d]=O.useState(null);let u;e[3]!==j||e[4]!==p||e[5]!==o?.id?(u=L=>j===L&&p===o?.id,e[3]=j,e[4]=p,e[5]=o?.id,e[6]=u):u=e[6];const f=u;let g;e[7]!==c||e[8]!==o?.id?(g=L=>{c({to:"/dashboard/workspace/$workspaceId/project/$projectId/board",params:{workspaceId:o?.id||"",projectId:L.id}})},e[7]=c,e[8]=o?.id,e[9]=g):g=e[9];const E=g;if(!o)return null;let w;e[10]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(Me,{asChild:!0,children:s.jsxs(ke,{className:"px-2 text-xs text-muted-foreground/70 font-medium cursor-pointer hover:text-muted-foreground transition-colors duration-200 flex items-center justify-between",children:["Projects",s.jsx(ue,{className:"ml-auto h-3 w-3 transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90"})]})}),e[10]=w):w=e[10];let N;e[11]!==E||e[12]!==f||e[13]!==t||e[14]!==n||e[15]!==o?.id?(N=n?.map((L,X)=>{const ae=xe[L.icon]||xe.Layout;return s.jsxs(Y,{className:"data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:slide-in-from-bottom-2 duration-200",style:{animationDelay:`${X*50}ms`},children:[s.jsx(Q,{asChild:!0,isActive:f(L.id),size:"sm",className:"h-7 px-2 text-xs rounded-sm group text-foreground/60",children:s.jsxs(B,{onClick:()=>E(L),variant:"ghost",className:A("w-full h-7 justify-start items-center gap-2 px-2 text-sm transition-all duration-200 relative",f(L.id)&&"!bg-neutral-200 dark:!bg-neutral-800"),children:[s.jsx(ae,{className:"w-3.5 h-3.5 transition-colors duration-200 relative z-10"}),s.jsx("span",{className:A(`transition-colors duration-200 relative z-10 font-normal ${f(L.id)?"font-medium":""}`),children:L.name})]})}),s.jsxs(vs,{children:[s.jsx(ys,{asChild:!0,children:s.jsxs(lt,{showOnHover:!0,children:[s.jsx(qt,{}),s.jsx("span",{className:"sr-only",children:"More"})]})}),s.jsxs(Ns,{className:"w-48 rounded-lg",side:t?"bottom":"right",align:t?"end":"start",children:[s.jsxs(ne,{className:"items-start cursor-pointer",onClick:()=>E(L),children:[s.jsx(vt,{className:"text-muted-foreground"}),s.jsx("span",{children:"View Project"})]}),s.jsxs(ne,{className:"items-start cursor-pointer",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/dashboard/workspace/${o?.id}/project/${L.id}`),K.success("Project link copied to clipboard")},children:[s.jsx(Yt,{className:"text-muted-foreground"}),s.jsx("span",{children:"Share Project"})]}),s.jsx(Ss,{}),s.jsxs(ne,{className:"items-start text-destructive cursor-pointer",onClick:()=>{d(L.id),v(!0)},children:[s.jsx(yt,{className:"text-destructive"}),s.jsx("span",{children:"Delete Project"})]})]})]})]},L.id)}),e[11]=E,e[12]=f,e[13]=t,e[14]=n,e[15]=o?.id,e[16]=N):N=e[16];const I=`${(n?.length||0)*50}ms`;let C;e[17]!==I?(C={animationDelay:I},e[17]=I,e[18]=C):C=e[18];let S;e[19]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(kt,{asChild:!0,children:s.jsxs(Q,{size:"sm",className:"h-7 px-2 text-xs text-sidebar-foreground/70",onClick:()=>b(!0),children:[s.jsx(ye,{className:"w-3.5 h-3.5 text-sidebar-foreground/70"}),s.jsx("span",{className:"text-sm text-sidebar-foreground/70",children:"Add project"})]})}),e[19]=S):S=e[19];let k;e[20]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(Ct,{children:s.jsxs(Dt,{children:[S,s.jsx(_t,{children:s.jsx(Mt,{keys:[R.project.prefix,R.project.create],className:"ml-auto",description:"Add project"})})]})}),e[20]=k):k=e[20];let D;e[21]!==C?(D=s.jsx(Y,{className:"data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:slide-in-from-bottom-2 duration-200",style:C,children:k}),e[21]=C,e[22]=D):D=e[22];let M;e[23]!==D||e[24]!==N?(M=s.jsxs(ce,{className:"group-data-[collapsible=icon]:hidden pt-0",children:[w,s.jsx(Ee,{className:"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:slide-out-to-bottom-2 data-[state=open]:slide-in-from-bottom-2 duration-200",children:s.jsxs(re,{className:"space-y-0.5",children:[N,D]})})]}),e[23]=D,e[24]=N,e[25]=M):M=e[25];let $;e[26]===Symbol.for("react.memo_cache_sentinel")?($=()=>b(!1),e[26]=$):$=e[26];let P;e[27]!==h?(P=s.jsx(Ge,{open:h,onClose:$}),e[27]=h,e[28]=P):P=e[28];let z;e[29]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsxs($t,{children:[s.jsx(zt,{children:"Delete Project?"}),s.jsx(At,{children:"This will permanently remove the project and all its data. You can't undo this action."})]}),e[29]=z):z=e[29];let T;e[30]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(Pt,{children:"Cancel"}),e[30]=T):T=e[30];let U;e[31]!==l||e[32]!==c||e[33]!==y||e[34]!==i||e[35]!==o?.id?(U=s.jsxs(Tt,{children:[z,s.jsxs(Lt,{children:[T,s.jsx(Ut,{onClick:async()=>{await l({id:y||""}),K.success("Project deleted"),i.invalidateQueries({queryKey:["projects"]}),c({to:"/dashboard/workspace/$workspaceId",params:{workspaceId:o?.id||""}})},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Project"})]})]}),e[31]=l,e[32]=c,e[33]=y,e[34]=i,e[35]=o?.id,e[36]=U):U=e[36];let W;e[37]!==x||e[38]!==U?(W=s.jsx(Ft,{open:x,onOpenChange:v,children:U}),e[37]=x,e[38]=U,e[39]=W):W=e[39];let F;return e[40]!==M||e[41]!==P||e[42]!==W?(F=s.jsxs(_e,{defaultOpen:!0,className:"group/collapsible",children:[M,P,W]}),e[40]=M,e[41]=P,e[42]=W,e[43]=F):F=e[43],F}function Cs(){const e=_.c(2),t=V();let o;return e[0]!==t?(o={mutationFn:async()=>{const a=await le.signOut({fetchOptions:{onSuccess:()=>{t({to:"/auth/sign-up"})}}});if(a.error)throw new Error(a.error.message);return a.data}},e[0]=t,e[1]=o):o=e[1],Wt(o)}function Ds(){const e=_.c(53),{user:t}=tt(),{mutateAsync:o,isPending:a}=Cs(),r=Ne(),{setProject:n}=Kt(),i=V(),[l,c]=O.useState(!1);if(!t)return null;let m;e[0]!==r||e[1]!==n||e[2]!==o?(m=async()=>{try{await o(),r.clear(),n(void 0),c(!1),K.success("Signed out successfully")}catch(ae){const me=ae;K.error(me instanceof Error?me.message:"Failed to sign out")}},e[0]=r,e[1]=n,e[2]=o,e[3]=m):m=e[3];const p=m;let j;e[4]!==i?(j=()=>{i({to:"/dashboard/settings/account/information"}),c(!1)},e[4]=i,e[5]=j):j=e[5];const h=j;let b;e[6]!==t.email||e[7]!==t.name?(b=t.name?t.name.split(" ").map(_s).join("").toUpperCase():t.email?.substring(0,2).toUpperCase()||"U",e[6]=t.email,e[7]=t.name,e[8]=b):b=e[8];const x=b,v=t.image??"",y=t.name||"";let d;e[9]!==v||e[10]!==y?(d=s.jsx(be,{src:v,alt:y}),e[9]=v,e[10]=y,e[11]=d):d=e[11];let u;e[12]!==x?(u=s.jsx(ge,{className:"text-xs font-medium border border-border/30",children:x}),e[12]=x,e[13]=u):u=e[13];let f;e[14]!==d||e[15]!==u?(f=s.jsx(te,{asChild:!0,children:s.jsx(B,{variant:"ghost",size:"sm",className:"h-6 w-6 rounded-full p-0 hover:bg-secondary/50",children:s.jsxs(we,{className:"h-6 w-6",children:[d,u]})})}),e[14]=d,e[15]=u,e[16]=f):f=e[16];const g=t.image??"",E=t.name||"";let w;e[17]!==g||e[18]!==E?(w=s.jsx(be,{src:g,alt:E}),e[17]=g,e[18]=E,e[19]=w):w=e[19];let N;e[20]!==x?(N=s.jsx(ge,{className:"rounded-full border border-border/30",children:x}),e[20]=x,e[21]=N):N=e[21];let I;e[22]!==w||e[23]!==N?(I=s.jsxs(we,{className:"h-8 w-8 rounded-full",children:[w,N]}),e[22]=w,e[23]=N,e[24]=I):I=e[24];const C=t.name||"User";let S;e[25]!==C?(S=s.jsx("span",{className:"truncate font-medium",children:C}),e[25]=C,e[26]=S):S=e[26];let k;e[27]!==t.email?(k=t.email&&s.jsx("span",{className:"truncate text-xs text-muted-foreground",children:t.email}),e[27]=t.email,e[28]=k):k=e[28];let D;e[29]!==S||e[30]!==k?(D=s.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[S,k]}),e[29]=S,e[30]=k,e[31]=D):D=e[31];let M;e[32]!==I||e[33]!==D?(M=s.jsx("div",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-2 text-left text-sm",children:[I,D]})}),e[32]=I,e[33]=D,e[34]=M):M=e[34];let $;e[35]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx(H,{}),e[35]=$):$=e[35];let P;e[36]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx(Rt,{className:"size-3"}),e[36]=P):P=e[36];let z;e[37]!==h?(z=s.jsx("div",{className:"p-1",children:s.jsxs(B,{variant:"ghost",onClick:h,className:"w-full justify-start gap-2 px-2 py-1.5 text-sm font-normal text-muted-foreground hover:bg-secondary/80",children:[P,"Settings"]})}),e[37]=h,e[38]=z):z=e[38];let T;e[39]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(H,{}),e[39]=T):T=e[39];let U;e[40]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx(ts,{className:"size-3"}),e[40]=U):U=e[40];const W=a?"Signing out...":"Log out";let F;e[41]!==p||e[42]!==a||e[43]!==W?(F=s.jsx("div",{className:"p-1",children:s.jsxs(B,{variant:"ghost",onClick:p,disabled:a,className:"w-full justify-start gap-2 px-2 py-1.5 text-sm font-normal text-muted-foreground hover:bg-secondary/80",children:[U,W]})}),e[41]=p,e[42]=a,e[43]=W,e[44]=F):F=e[44];let L;e[45]!==M||e[46]!==z||e[47]!==F?(L=s.jsxs(se,{className:"w-56 p-0 rounded-lg",side:"bottom",align:"start",sideOffset:4,children:[M,$,z,T,F]}),e[45]=M,e[46]=z,e[47]=F,e[48]=L):L=e[48];let X;return e[49]!==l||e[50]!==L||e[51]!==f?(X=s.jsxs(oe,{open:l,onOpenChange:c,children:[f,L]}),e[49]=l,e[50]=L,e[51]=f,e[52]=X):X=e[52],X}function _s(e){return e[0]}function Ms(){const{data:e,error:t,isPending:o}=le.useListOrganizations();return{data:e,error:t,isLoading:o,isError:!!t}}function Es(){const e=_.c(42),{data:t}=de(),{data:o}=Ms(),a=V(),[r,n]=O.useState(!1),[i,l]=O.useState(!1);let c;e[0]!==a?(c=async z=>{try{await le.organization.setActive({organizationId:z.id}),a({to:"/dashboard/workspace/$workspaceId",params:{workspaceId:z.id}})}catch(T){console.error("Failed to switch workspace:",T)}},e[0]=a,e[1]=c):c=e[1];const m=c;let p,j;e[2]!==m||e[3]!==r||e[4]!==o?(p=()=>{if(!r)return;const z=T=>{if(!(!o||o.length===0)&&(T.metaKey||T.ctrlKey)&&T.key>="1"&&T.key<="9"){T.preventDefault();const U=Number.parseInt(T.key)-1;U<o.length&&(m(o[U]),n(!1))}};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},j=[r,o,m],e[2]=m,e[3]=r,e[4]=o,e[5]=p,e[6]=j):(p=e[5],j=e[6]),O.useEffect(p,j);let h;e[7]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{n(!0)},e[7]=h):h=e[7];let b;e[8]===Symbol.for("react.memo_cache_sentinel")?(b={sequentialShortcuts:{[R.workspace.prefix]:{[R.workspace.switch]:h,[R.workspace.create]:()=>{l(!0)}}}},e[8]=b):b=e[8],ie(b);let x;e[9]!==t?(x=s.jsx("div",{className:"flex items-end gap-2 min-w-0 w-full",children:t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-primary flex aspect-square size-5 items-end justify-center rounded-sm",children:s.jsx("span",{className:"text-xs font-medium text-white",children:t.name.charAt(0).toUpperCase()})}),s.jsx("span",{className:"truncate text-sm text-foreground/90 font-medium",children:t.name})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-muted/20 border border-border/30 flex aspect-square size-5 items-end justify-center rounded-sm",children:s.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"?"})}),s.jsx("span",{className:"truncate text-sm text-muted-foreground font-medium",children:"Select workspace"})]})}),e[9]=t,e[10]=x):x=e[10];const v=r?"open":"closed";let y;e[11]!==v?(y=s.jsx(De,{className:"ml-1 size-3 text-muted-foreground/50 opacity-0 group-hover/workspace:opacity-100 data-[state=open]:opacity-100 data-[state=open]:rotate-180 transition-all duration-500 ease-out","data-state":v}),e[11]=v,e[12]=y):y=e[12];let d;e[13]!==x||e[14]!==y?(d=s.jsx(te,{asChild:!0,children:s.jsxs(Q,{size:"sm",className:"h-8 py-0 w-auto w-full group/workspace",children:[x,y]})}),e[13]=x,e[14]=y,e[15]=d):d=e[15];let u,f;e[16]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx("div",{className:"p-3",children:s.jsx("div",{className:"text-muted-foreground/60 text-xs",children:"Workspaces"})}),u=s.jsx(H,{}),e[16]=u,e[17]=f):(u=e[16],f=e[17]);let g;e[18]!==m||e[19]!==t?.id||e[20]!==o?(g=o&&o.length>0?o.map((z,T)=>s.jsxs("button",{type:"button",onClick:()=>{m(z),n(!1)},className:`w-full flex items-center gap-2 px-2 py-1.5 hover:bg-secondary/80 focus:bg-secondary/80 rounded-sm transition-colors text-sm font-normal ${t?.id===z.id?"bg-secondary/50":""}`,children:[s.jsx("div",{className:"bg-muted/20 border border-border/30 flex size-5 items-center justify-center rounded-sm",children:s.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:z.name.charAt(0).toUpperCase()})}),s.jsx("span",{className:"text-foreground/90 flex-1 text-left",children:z.name}),s.jsxs("span",{className:"text-xs text-muted-foreground/50",children:[st()," ",T>8?"0":T+1]})]},z.id)):s.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:"No workspaces available"}),e[18]=m,e[19]=t?.id,e[20]=o,e[21]=g):g=e[21];let E;e[22]!==g?(E=s.jsx("div",{className:"p-1",children:g}),e[22]=g,e[23]=E):E=e[23];let w;e[24]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(H,{}),e[24]=w):w=e[24];let N;e[25]===Symbol.for("react.memo_cache_sentinel")?(N=()=>{l(!0),n(!1)},e[25]=N):N=e[25];let I;e[26]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx("div",{className:"p-1",children:s.jsxs("button",{type:"button",className:"w-full flex items-center gap-2 px-2 py-1.5 hover:bg-secondary/80 focus:bg-secondary/80 rounded-sm transition-colors text-sm font-normal",onClick:N,children:[s.jsx("div",{className:"bg-muted/20 border border-border/30 flex size-5 items-center justify-center rounded-sm",children:s.jsx(ye,{className:"size-3 text-muted-foreground"})}),s.jsx("span",{className:"text-muted-foreground flex-1 text-left",children:"Add workspace"})]})}),e[26]=I):I=e[26];let C;e[27]!==E?(C=s.jsxs(se,{className:"w-fit min-w-48 p-0 rounded-lg",align:"start",side:"bottom",sideOffset:4,children:[f,u,E,w,I]}),e[27]=E,e[28]=C):C=e[28];let S;e[29]!==r||e[30]!==C||e[31]!==d?(S=s.jsx(re,{children:s.jsx(Y,{children:s.jsxs(oe,{open:r,onOpenChange:n,children:[d,C]})})}),e[29]=r,e[30]=C,e[31]=d,e[32]=S):S=e[32];let k;e[33]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(Ds,{}),e[33]=k):k=e[33];let D;e[34]!==S?(D=s.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[S,k]}),e[34]=S,e[35]=D):D=e[35];let M;e[36]===Symbol.for("react.memo_cache_sentinel")?(M=()=>l(!1),e[36]=M):M=e[36];let $;e[37]!==i?($=s.jsx(Ye,{open:i,onClose:M}),e[37]=i,e[38]=$):$=e[38];let P;return e[39]!==D||e[40]!==$?(P=s.jsxs(s.Fragment,{children:[D,$]}),e[39]=D,e[40]=$,e[41]=P):P=e[41],P}function Os(){const e=_.c(4),[t,o]=O.useState(!1);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={shortcuts:{[R.search.prefix]:()=>{o(!0)}}},e[0]=a):a=e[0],ie(a);let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsxs("div",{className:"relative",children:[s.jsx(Bt,{name:"search",type:"text",placeholder:"Search",className:"peer shadow-none block w-full rounded-sm py-1 pl-8 pr-10 text-sm h-8 cursor-pointer focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:border-ring-0 focus-visible:outline-none",onClick:()=>o(!0),readOnly:!0,tabIndex:-1}),s.jsx(Ht,{className:"pointer-events-none absolute left-2.5 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-muted-foreground"}),s.jsx(Et,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 text-[9px] bg-muted",children:R.search.prefix})]}),e[1]=r):r=e[1];let n;return e[2]!==t?(n=s.jsxs(ce,{className:"pb-0",children:[r,s.jsx(Qe,{open:t,setOpen:o})]}),e[2]=t,e[3]=n):n=e[3],n}function Is(e){const t=_.c(9);let o;t[0]!==e?({...o}=e,t[0]=e,t[1]=o):o=t[1];const{toggleSidebar:a}=Ce();let r;t[2]!==a?(r={modifierShortcuts:{[R.sidebar.prefix]:{[R.sidebar.toggle]:a}}},t[2]=a,t[3]=r):r=t[3],ie(r);let n;t[4]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(ws,{}),t[4]=n):n=t[4];let i;t[5]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsxs(ct,{className:"pt-0 gap-2",children:[n,s.jsx("div",{className:"px-2 py-2",children:s.jsx(H,{className:"w-3/4 mx-auto"})}),s.jsx(Es,{})]}),t[5]=i):i=t[5];let l;t[6]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsxs(dt,{className:"overflow-hidden",children:[s.jsx(Os,{}),s.jsx(js,{}),s.jsx(ks,{})]}),t[6]=l):l=t[6];let c;return t[7]!==o?(c=s.jsxs(it,{collapsible:"offcanvas",className:"border-none pt-3",...o,children:[i,l]}),t[7]=o,t[8]=c):c=t[8],c}function $s(){const e=_.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx("div",{className:"flex sticky top-0 left-0 right-0 flex-col bg-amber-500/10 border-b border-amber-500/20 px-4 py-3 text-center",children:s.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 text-sm text-amber-900 dark:text-amber-300",children:s.jsxs("p",{className:"flex flex-col sm:flex-row items-center gap-2",children:["This is a demo environment. All data will be automatically purged every hour.",s.jsx(B,{onClick:zs,className:"text-xs bg-amber-500/10 hover:bg-amber-500/20 text-amber-900 dark:text-amber-300 h-7 sm:h-6 px-3 sm:px-2 whitespace-nowrap",children:"Deploy your own"})]})})}),e[0]=t):t=e[0],t}function zs(){return window.open("https://github.com/usekaneo/kaneo","_blank")}const As=window.location.hostname==="demo.kaneo.app";function Ps(){const e=_.c(5),{compactMode:t}=Se();let o,a;e[0]!==t?(o=()=>{const n=document.documentElement;return t?n.classList.add("compact-mode"):n.classList.remove("compact-mode"),()=>{n.classList.remove("compact-mode")}},a=[t],e[0]=t,e[1]=o,e[2]=a):(o=e[1],a=e[2]),O.useEffect(o,a);let r;return e[3]!==t?(r={compactMode:t},e[3]=t,e[4]=r):r=e[4],r}function Ts(e){const t=_.c(5),{children:o,className:a}=e;let r;t[0]!==a?(r=A("flex h-10 shrink-0 gap-2 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-8 border-b border-border bg-card p-2",a),t[0]=a,t[1]=r):r=t[1];let n;return t[2]!==o||t[3]!==r?(n=s.jsx("header",{className:r,children:o}),t[2]=o,t[3]=r,t[4]=n):n=t[4],n}function Ls(e){const t=_.c(7),{children:o,className:a}=e;let r;t[0]!==a?(r=A("flex-1 min-h-0",a),t[0]=a,t[1]=r):r=t[1];let n;t[2]!==o?(n=s.jsx("div",{className:"h-full",children:o}),t[2]=o,t[3]=n):n=t[3];let i;return t[4]!==r||t[5]!==n?(i=s.jsx("div",{className:r,children:n}),t[4]=r,t[5]=n,t[6]=i):i=t[6],i}function Oe(e){const t=_.c(11),{children:o,className:a}=e,{sidebarDefaultOpen:r}=Se();Ps();let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={"--sidebar-width":"calc(var(--spacing) * 60)","--header-height":"calc(var(--spacing) * 12)"},t[0]=n):n=t[0];let i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(Is,{}),t[1]=i):i=t[1];let l;t[2]!==a?(l=A("flex-1 flex flex-col overflow-auto bg-card border border-border rounded-md m-2",a),t[2]=a,t[3]=l):l=t[3];let c;t[4]===Symbol.for("react.memo_cache_sentinel")?(c=As&&s.jsx($s,{}),t[4]=c):c=t[4];let m;t[5]!==o||t[6]!==l?(m=s.jsxs(ut,{className:l,children:[c,o]}),t[5]=o,t[6]=l,t[7]=m):m=t[7];let p;return t[8]!==r||t[9]!==m?(p=s.jsx("div",{className:"flex w-full bg-sidebar",children:s.jsxs(mt,{defaultOpen:r,style:n,children:[i,m]})}),t[8]=r,t[9]=m,t[10]=p):p=t[10],p}Oe.Header=Ts;Oe.Content=Ls;export{ho as D,Oe as L,xo as a,go as b,vs as c,ys as d,Ns as e,ne as f,Ss as g,bo as h,po as i};
