import{r as u,j as d,T as k,c as S,d as A}from"./index-D6_JMR29.js";import{u as M}from"./index-Bkpo5cC8.js";import{u as g}from"./index-D2z6sO9D.js";import{P as h}from"./index-Xyhz7DHc.js";function F(a,n=[]){let e=[];function s(t,o){const c=u.createContext(o);c.displayName=t+"Context";const i=e.length;e=[...e,o];const l=f=>{const{scope:v,children:x,...m}=f,$=v?.[a]?.[i]||c,P=u.useMemo(()=>m,Object.values(m));return d.jsx($.Provider,{value:P,children:x})};l.displayName=t+"Provider";function p(f,v){const x=v?.[a]?.[i]||c,m=u.useContext(x);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${t}\``)}return[l,p]}const r=()=>{const t=e.map(o=>u.createContext(o));return function(c){const i=c?.[a]||t;return u.useMemo(()=>({[`__scope${a}`]:{...c,[a]:i}}),[c,i])}};return r.scopeName=a,[s,T(r,...n)]}function T(...a){const n=a[0];if(a.length===1)return n;const e=()=>{const s=a.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(t){const o=s.reduce((c,{useScope:i,scopeName:l})=>{const f=i(t)[`__scope${l}`];return{...c,...f}},{});return u.useMemo(()=>({[`__scope${n.scopeName}`]:o}),[o])}};return e.scopeName=n.scopeName,e}var H=k();function q(){return H.useSyncExternalStore(B,()=>!0,()=>!1)}function B(){return()=>{}}var w="Avatar",[G]=F(w),[K,N]=G(w),C=u.forwardRef((a,n)=>{const{__scopeAvatar:e,...s}=a,[r,t]=u.useState("idle");return d.jsx(K,{scope:e,imageLoadingStatus:r,onImageLoadingStatusChange:t,children:d.jsx(h.span,{...s,ref:n})})});C.displayName=w;var y="AvatarImage",E=u.forwardRef((a,n)=>{const{__scopeAvatar:e,src:s,onLoadingStatusChange:r=()=>{},...t}=a,o=N(y,e),c=V(s,t),i=M(l=>{r(l),o.onImageLoadingStatusChange(l)});return g(()=>{c!=="idle"&&i(c)},[c,i]),c==="loaded"?d.jsx(h.img,{...t,ref:n,src:s}):null});E.displayName=y;var R="AvatarFallback",_=u.forwardRef((a,n)=>{const{__scopeAvatar:e,delayMs:s,...r}=a,t=N(R,e),[o,c]=u.useState(s===void 0);return u.useEffect(()=>{if(s!==void 0){const i=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(i)}},[s]),o&&t.imageLoadingStatus!=="loaded"?d.jsx(h.span,{...r,ref:n}):null});_.displayName=R;function L(a,n){return a?n?(a.src!==n&&(a.src=n),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function V(a,{referrerPolicy:n,crossOrigin:e}){const s=q(),r=u.useRef(null),t=s?(r.current||(r.current=new window.Image),r.current):null,[o,c]=u.useState(()=>L(t,a));return g(()=>{c(L(t,a))},[t,a]),g(()=>{const i=f=>()=>{c(f)};if(!t)return;const l=i("loaded"),p=i("error");return t.addEventListener("load",l),t.addEventListener("error",p),n&&(t.referrerPolicy=n),typeof e=="string"&&(t.crossOrigin=e),()=>{t.removeEventListener("load",l),t.removeEventListener("error",p)}},[t,e,n]),o}var b=C,I=E,j=_;const W=u.forwardRef((a,n)=>{const e=S.c(9);let s,r;e[0]!==a?({className:s,...r}=a,e[0]=a,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let t;e[3]!==s?(t=A("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),e[3]=s,e[4]=t):t=e[4];let o;return e[5]!==r||e[6]!==n||e[7]!==t?(o=d.jsx(b,{ref:n,className:t,...r}),e[5]=r,e[6]=n,e[7]=t,e[8]=o):o=e[8],o});W.displayName=b.displayName;const z=u.forwardRef((a,n)=>{const e=S.c(9);let s,r;e[0]!==a?({className:s,...r}=a,e[0]=a,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let t;e[3]!==s?(t=A("aspect-square h-full w-full",s),e[3]=s,e[4]=t):t=e[4];let o;return e[5]!==r||e[6]!==n||e[7]!==t?(o=d.jsx(I,{ref:n,className:t,...r}),e[5]=r,e[6]=n,e[7]=t,e[8]=o):o=e[8],o});z.displayName=I.displayName;const D=u.forwardRef((a,n)=>{const e=S.c(9);let s,r;e[0]!==a?({className:s,...r}=a,e[0]=a,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let t;e[3]!==s?(t=A("flex h-full w-full items-center justify-center rounded-full bg-muted border",s),e[3]=s,e[4]=t):t=e[4];let o;return e[5]!==r||e[6]!==n||e[7]!==t?(o=d.jsx(j,{ref:n,className:t,...r}),e[5]=r,e[6]=n,e[7]=t,e[8]=o):o=e[8],o});D.displayName=j.displayName;export{W as A,j as F,I,b as R,D as a,z as b,F as c};
