import{c as nt}from"./createLucideIcon-CRcKb1Ol.js";import{r as c,c as B,j as s,d as X,e as ot,a as Te,b as ur,n as at,u as dr,t as be,f as pr}from"./index-D6_JMR29.js";import{R as fr,P as mr,O as hr,a as gr}from"./index-J3ygd6UU.js";import{P as te}from"./index-Xyhz7DHc.js";import{u as Z}from"./index-sjf38YVm.js";import{c as ne,u as me,S as vr}from"./index-Dtyx9z7_.js";import{D as $e,c as ze,d as Fe,b as Le,a as Ke,e as st}from"./badge-DgtRj8pM.js";import{S as ct}from"./search-BHoHnvlf.js";import{s as xr}from"./tooltip-CdvJmOJg.js";import{u as wr}from"./useQuery-BDxn_D7I.js";import{u as it}from"./use-active-workspace-DO0oIQWU.js";import{d as br,Z as yr,M as Cr,F as Mr,i as Ze}from"./project-icons-C5t--tF0.js";import{U as kr}from"./users-DuQM-a9l.js";import{n as jr,t as Ir}from"./en-US-DIdCsyf3.js";import{c as lt,a as D,b as Sr,P as ie,d as _r,u as ut}from"./index-BlCpMXjl.js";import{c as Rr,u as Er}from"./index-6HzwgF_f.js";import{u as Nr,R as Dr,F as Pr,D as Ar,h as Or,P as Tr}from"./index-DlhLTHW_.js";import{c as dt,R as pt,C as $r,A as zr,a as Fr}from"./index-IN0mQVXW.js";import{P as Ie}from"./index-BnceiTS-.js";import{c as ft,R as Lr,I as Kr}from"./index-BMwPMg65.js";import{u as Ge}from"./index-Bkpo5cC8.js";import{B as ye}from"./button-EC3LtV52.js";import{I as Ce}from"./input-BncAdNhM.js";import{u as Gr}from"./use-create-workspace-DP7ePvTH.js";import{C as Br}from"./chevron-right-Dbn00CNb.js";import{P as Ur,a as qr,b as Vr}from"./popover-1qwL5cRb.js";import{u as Wr}from"./useMutation-B_C6xvhR.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Hr=nt("hash",Yr);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wa=nt("plus",Xr);var Je=1,Qr=.9,Zr=.8,Jr=.17,Ee=.1,Ne=.999,en=.9999,tn=.99,rn=/[\\\/_+.#"@\[\(\{&]/,nn=/[\\\/_+.#"@\[\(\{&]/g,on=/[\s-]/,mt=/[\s-]/g;function Pe(r,e,t,n,o,a,i){if(a===e.length)return o===r.length?Je:tn;var l=`${o},${a}`;if(i[l]!==void 0)return i[l];for(var m=n.charAt(a),p=t.indexOf(m,o),f=0,u,h,x,v;p>=0;)u=Pe(r,e,t,n,p+1,a+1,i),u>f&&(p===o?u*=Je:rn.test(r.charAt(p-1))?(u*=Zr,x=r.slice(o,p-1).match(nn),x&&o>0&&(u*=Math.pow(Ne,x.length))):on.test(r.charAt(p-1))?(u*=Qr,v=r.slice(o,p-1).match(mt),v&&o>0&&(u*=Math.pow(Ne,v.length))):(u*=Jr,o>0&&(u*=Math.pow(Ne,p-o))),r.charAt(p)!==e.charAt(a)&&(u*=en)),(u<Ee&&t.charAt(p-1)===n.charAt(a+1)||n.charAt(a+1)===n.charAt(a)&&t.charAt(p-1)!==n.charAt(a))&&(h=Pe(r,e,t,n,p+1,a+2,i),h*Ee>u&&(u=h*Ee)),u>f&&(f=u),p=t.indexOf(m,p+1);return i[l]=f,f}function et(r){return r.toLowerCase().replace(mt," ")}function an(r,e,t){return r=t&&t.length>0?`${r+" "+t.join(" ")}`:r,Pe(r,e,et(r),et(e),0,0,{})}var ue='[cmdk-group=""]',De='[cmdk-group-items=""]',sn='[cmdk-group-heading=""]',ht='[cmdk-item=""]',tt=`${ht}:not([aria-disabled="true"])`,Ae="cmdk-item-select",se="data-value",cn=(r,e,t)=>an(r,e,t),gt=c.createContext(void 0),he=()=>c.useContext(gt),vt=c.createContext(void 0),Be=()=>c.useContext(vt),xt=c.createContext(void 0),wt=c.forwardRef((r,e)=>{let t=ce(()=>{var d,w;return{search:"",value:(w=(d=r.value)!=null?d:r.defaultValue)!=null?w:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=ce(()=>new Set),o=ce(()=>new Map),a=ce(()=>new Map),i=ce(()=>new Set),l=bt(r),{label:m,children:p,value:f,onValueChange:u,filter:h,shouldFilter:x,loop:v,disablePointerSelection:_=!1,vimBindings:j=!0,...R}=r,E=Z(),N=Z(),z=Z(),P=c.useRef(null),y=wn();oe(()=>{if(f!==void 0){let d=f.trim();t.current.value=d,k.emit()}},[f]),oe(()=>{y(6,V)},[]);let k=c.useMemo(()=>({subscribe:d=>(i.current.add(d),()=>i.current.delete(d)),snapshot:()=>t.current,setState:(d,w,M)=>{var g,I,C,G;if(!Object.is(t.current[d],w)){if(t.current[d]=w,d==="search")S(),$(),y(1,F);else if(d==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let q=document.getElementById(z);q?q.focus():(g=document.getElementById(E))==null||g.focus()}if(y(7,()=>{var q;t.current.selectedItemId=(q=L())==null?void 0:q.id,k.emit()}),M||y(5,V),((I=l.current)==null?void 0:I.value)!==void 0){let q=w??"";(G=(C=l.current).onValueChange)==null||G.call(C,q);return}}k.emit()}},emit:()=>{i.current.forEach(d=>d())}}),[]),T=c.useMemo(()=>({value:(d,w,M)=>{var g;w!==((g=a.current.get(d))==null?void 0:g.value)&&(a.current.set(d,{value:w,keywords:M}),t.current.filtered.items.set(d,O(w,M)),y(2,()=>{$(),k.emit()}))},item:(d,w)=>(n.current.add(d),w&&(o.current.has(w)?o.current.get(w).add(d):o.current.set(w,new Set([d]))),y(3,()=>{S(),$(),t.current.value||F(),k.emit()}),()=>{a.current.delete(d),n.current.delete(d),t.current.filtered.items.delete(d);let M=L();y(4,()=>{S(),M?.getAttribute("id")===d&&F(),k.emit()})}),group:d=>(o.current.has(d)||o.current.set(d,new Set),()=>{a.current.delete(d),o.current.delete(d)}),filter:()=>l.current.shouldFilter,label:m||r["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:E,inputId:z,labelId:N,listInnerRef:P}),[]);function O(d,w){var M,g;let I=(g=(M=l.current)==null?void 0:M.filter)!=null?g:cn;return d?I(d,t.current.search,w):0}function $(){if(!t.current.search||l.current.shouldFilter===!1)return;let d=t.current.filtered.items,w=[];t.current.filtered.groups.forEach(g=>{let I=o.current.get(g),C=0;I.forEach(G=>{let q=d.get(G);C=Math.max(q,C)}),w.push([g,C])});let M=P.current;K().sort((g,I)=>{var C,G;let q=g.getAttribute("id"),we=I.getAttribute("id");return((C=d.get(we))!=null?C:0)-((G=d.get(q))!=null?G:0)}).forEach(g=>{let I=g.closest(De);I?I.appendChild(g.parentElement===I?g:g.closest(`${De} > *`)):M.appendChild(g.parentElement===M?g:g.closest(`${De} > *`))}),w.sort((g,I)=>I[1]-g[1]).forEach(g=>{var I;let C=(I=P.current)==null?void 0:I.querySelector(`${ue}[${se}="${encodeURIComponent(g[0])}"]`);C?.parentElement.appendChild(C)})}function F(){let d=K().find(M=>M.getAttribute("aria-disabled")!=="true"),w=d?.getAttribute(se);k.setState("value",w||void 0)}function S(){var d,w,M,g;if(!t.current.search||l.current.shouldFilter===!1){t.current.filtered.count=n.current.size;return}t.current.filtered.groups=new Set;let I=0;for(let C of n.current){let G=(w=(d=a.current.get(C))==null?void 0:d.value)!=null?w:"",q=(g=(M=a.current.get(C))==null?void 0:M.keywords)!=null?g:[],we=O(G,q);t.current.filtered.items.set(C,we),we>0&&I++}for(let[C,G]of o.current)for(let q of G)if(t.current.filtered.items.get(q)>0){t.current.filtered.groups.add(C);break}t.current.filtered.count=I}function V(){var d,w,M;let g=L();g&&(((d=g.parentElement)==null?void 0:d.firstChild)===g&&((M=(w=g.closest(ue))==null?void 0:w.querySelector(sn))==null||M.scrollIntoView({block:"nearest"})),g.scrollIntoView({block:"nearest"}))}function L(){var d;return(d=P.current)==null?void 0:d.querySelector(`${ht}[aria-selected="true"]`)}function K(){var d;return Array.from(((d=P.current)==null?void 0:d.querySelectorAll(tt))||[])}function W(d){let w=K()[d];w&&k.setState("value",w.getAttribute(se))}function A(d){var w;let M=L(),g=K(),I=g.findIndex(G=>G===M),C=g[I+d];(w=l.current)!=null&&w.loop&&(C=I+d<0?g[g.length-1]:I+d===g.length?g[0]:g[I+d]),C&&k.setState("value",C.getAttribute(se))}function H(d){let w=L(),M=w?.closest(ue),g;for(;M&&!g;)M=d>0?vn(M,ue):xn(M,ue),g=M?.querySelector(tt);g?k.setState("value",g.getAttribute(se)):A(d)}let b=()=>W(K().length-1),J=d=>{d.preventDefault(),d.metaKey?b():d.altKey?H(1):A(1)},Q=d=>{d.preventDefault(),d.metaKey?W(0):d.altKey?H(-1):A(-1)};return c.createElement(te.div,{ref:e,tabIndex:-1,...R,"cmdk-root":"",onKeyDown:d=>{var w;(w=R.onKeyDown)==null||w.call(R,d);let M=d.nativeEvent.isComposing||d.keyCode===229;if(!(d.defaultPrevented||M))switch(d.key){case"n":case"j":{j&&d.ctrlKey&&J(d);break}case"ArrowDown":{J(d);break}case"p":case"k":{j&&d.ctrlKey&&Q(d);break}case"ArrowUp":{Q(d);break}case"Home":{d.preventDefault(),W(0);break}case"End":{d.preventDefault(),b();break}case"Enter":{d.preventDefault();let g=L();if(g){let I=new Event(Ae);g.dispatchEvent(I)}}}}},c.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:yn},m),Se(r,d=>c.createElement(vt.Provider,{value:k},c.createElement(gt.Provider,{value:T},d))))}),ln=c.forwardRef((r,e)=>{var t,n;let o=Z(),a=c.useRef(null),i=c.useContext(xt),l=he(),m=bt(r),p=(n=(t=m.current)==null?void 0:t.forceMount)!=null?n:i?.forceMount;oe(()=>{if(!p)return l.item(o,i?.id)},[p]);let f=yt(o,a,[r.value,r.children,a],r.keywords),u=Be(),h=ee(y=>y.value&&y.value===f.current),x=ee(y=>p||l.filter()===!1?!0:y.search?y.filtered.items.get(o)>0:!0);c.useEffect(()=>{let y=a.current;if(!(!y||r.disabled))return y.addEventListener(Ae,v),()=>y.removeEventListener(Ae,v)},[x,r.onSelect,r.disabled]);function v(){var y,k;_(),(k=(y=m.current).onSelect)==null||k.call(y,f.current)}function _(){u.setState("value",f.current,!0)}if(!x)return null;let{disabled:j,value:R,onSelect:E,forceMount:N,keywords:z,...P}=r;return c.createElement(te.div,{ref:ne(a,e),...P,id:o,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!h,"data-disabled":!!j,"data-selected":!!h,onPointerMove:j||l.getDisablePointerSelection()?void 0:_,onClick:j?void 0:v},r.children)}),un=c.forwardRef((r,e)=>{let{heading:t,children:n,forceMount:o,...a}=r,i=Z(),l=c.useRef(null),m=c.useRef(null),p=Z(),f=he(),u=ee(x=>o||f.filter()===!1?!0:x.search?x.filtered.groups.has(i):!0);oe(()=>f.group(i),[]),yt(i,l,[r.value,r.heading,m]);let h=c.useMemo(()=>({id:i,forceMount:o}),[o]);return c.createElement(te.div,{ref:ne(l,e),...a,"cmdk-group":"",role:"presentation",hidden:u?void 0:!0},t&&c.createElement("div",{ref:m,"cmdk-group-heading":"","aria-hidden":!0,id:p},t),Se(r,x=>c.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?p:void 0},c.createElement(xt.Provider,{value:h},x))))}),dn=c.forwardRef((r,e)=>{let{alwaysRender:t,...n}=r,o=c.useRef(null),a=ee(i=>!i.search);return!t&&!a?null:c.createElement(te.div,{ref:ne(o,e),...n,"cmdk-separator":"",role:"separator"})}),pn=c.forwardRef((r,e)=>{let{onValueChange:t,...n}=r,o=r.value!=null,a=Be(),i=ee(p=>p.search),l=ee(p=>p.selectedItemId),m=he();return c.useEffect(()=>{r.value!=null&&a.setState("search",r.value)},[r.value]),c.createElement(te.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":m.listId,"aria-labelledby":m.labelId,"aria-activedescendant":l,id:m.inputId,type:"text",value:o?r.value:i,onChange:p=>{o||a.setState("search",p.target.value),t?.(p.target.value)}})}),fn=c.forwardRef((r,e)=>{let{children:t,label:n="Suggestions",...o}=r,a=c.useRef(null),i=c.useRef(null),l=ee(p=>p.selectedItemId),m=he();return c.useEffect(()=>{if(i.current&&a.current){let p=i.current,f=a.current,u,h=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let x=p.offsetHeight;f.style.setProperty("--cmdk-list-height",x.toFixed(1)+"px")})});return h.observe(p),()=>{cancelAnimationFrame(u),h.unobserve(p)}}},[]),c.createElement(te.div,{ref:ne(a,e),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:m.listId},Se(r,p=>c.createElement("div",{ref:ne(i,m.listInnerRef),"cmdk-list-sizer":""},p)))}),mn=c.forwardRef((r,e)=>{let{open:t,onOpenChange:n,overlayClassName:o,contentClassName:a,container:i,...l}=r;return c.createElement(fr,{open:t,onOpenChange:n},c.createElement(mr,{container:i},c.createElement(hr,{"cmdk-overlay":"",className:o}),c.createElement(gr,{"aria-label":r.label,"cmdk-dialog":"",className:a},c.createElement(wt,{ref:e,...l}))))}),hn=c.forwardRef((r,e)=>ee(t=>t.filtered.count===0)?c.createElement(te.div,{ref:e,...r,"cmdk-empty":"",role:"presentation"}):null),gn=c.forwardRef((r,e)=>{let{progress:t,children:n,label:o="Loading...",...a}=r;return c.createElement(te.div,{ref:e,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},Se(r,i=>c.createElement("div",{"aria-hidden":!0},i)))}),le=Object.assign(wt,{List:fn,Item:ln,Input:pn,Group:un,Separator:dn,Dialog:mn,Empty:hn,Loading:gn});function vn(r,e){let t=r.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function xn(r,e){let t=r.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}function bt(r){let e=c.useRef(r);return oe(()=>{e.current=r}),e}var oe=typeof window>"u"?c.useEffect:c.useLayoutEffect;function ce(r){let e=c.useRef();return e.current===void 0&&(e.current=r()),e}function ee(r){let e=Be(),t=()=>r(e.snapshot());return c.useSyncExternalStore(e.subscribe,t,t)}function yt(r,e,t,n=[]){let o=c.useRef(),a=he();return oe(()=>{var i;let l=(()=>{var p;for(let f of t){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(p=f.current.textContent)==null?void 0:p.trim():o.current}})(),m=n.map(p=>p.trim());a.value(r,l,m),(i=e.current)==null||i.setAttribute(se,l),o.current=l}),o}var wn=()=>{let[r,e]=c.useState(),t=ce(()=>new Map);return oe(()=>{t.current.forEach(n=>n()),t.current=new Map},[r]),(n,o)=>{t.current.set(n,o),e({})}};function bn(r){let e=r.type;return typeof e=="function"?e(r.props):"render"in e?e.render(r.props):r}function Se({asChild:r,children:e},t){return r&&c.isValidElement(e)?c.cloneElement(bn(e),{ref:e.ref},t(e.props.children)):t(e)}var yn={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Cn(r){const e=B.c(8);let t,n;e[0]!==r?({className:t,...n}=r,e[0]=r,e[1]=t,e[2]=n):(t=e[1],n=e[2]);let o;e[3]!==t?(o=X("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),e[3]=t,e[4]=o):o=e[4];let a;return e[5]!==n||e[6]!==o?(a=s.jsx(le,{"data-slot":"command",className:o,...n}),e[5]=n,e[6]=o,e[7]=a):a=e[7],a}function Mn(r){const e=B.c(26);let t,n,o,a,i,l;e[0]!==r?({title:a,description:i,children:t,className:n,showCloseButton:l,...o}=r,e[0]=r,e[1]=t,e[2]=n,e[3]=o,e[4]=a,e[5]=i,e[6]=l):(t=e[1],n=e[2],o=e[3],a=e[4],i=e[5],l=e[6]);const m=a===void 0?"Command Palette":a,p=i===void 0?"Search for a command to run...":i,f=l===void 0?!0:l;let u;e[7]!==m?(u=s.jsx(ze,{children:m}),e[7]=m,e[8]=u):u=e[8];let h;e[9]!==p?(h=s.jsx(Fe,{children:p}),e[9]=p,e[10]=h):h=e[10];let x;e[11]!==u||e[12]!==h?(x=s.jsxs(Le,{className:"sr-only",children:[u,h]}),e[11]=u,e[12]=h,e[13]=x):x=e[13];let v;e[14]!==n?(v=X("overflow-hidden p-0",n),e[14]=n,e[15]=v):v=e[15];let _;e[16]!==t?(_=s.jsx(Cn,{className:"[&_[cmdk-group-heading]]:text-muted-foreground [&_[data-slot=command-input-wrapper]]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t}),e[16]=t,e[17]=_):_=e[17];let j;e[18]!==f||e[19]!==v||e[20]!==_?(j=s.jsx(Ke,{className:v,showCloseButton:f,children:_}),e[18]=f,e[19]=v,e[20]=_,e[21]=j):j=e[21];let R;return e[22]!==o||e[23]!==x||e[24]!==j?(R=s.jsxs($e,{...o,children:[x,j]}),e[22]=o,e[23]=x,e[24]=j,e[25]=R):R=e[25],R}function kn(r){const e=B.c(9);let t,n;e[0]!==r?({className:t,...n}=r,e[0]=r,e[1]=t,e[2]=n):(t=e[1],n=e[2]);let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(ct,{className:"size-4 shrink-0 opacity-50"}),e[3]=o):o=e[3];let a;e[4]!==t?(a=X("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),e[4]=t,e[5]=a):a=e[5];let i;return e[6]!==n||e[7]!==a?(i=s.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[o,s.jsx(le.Input,{"data-slot":"command-input",className:a,...n})]}),e[6]=n,e[7]=a,e[8]=i):i=e[8],i}function jn(r){const e=B.c(8);let t,n;e[0]!==r?({className:t,...n}=r,e[0]=r,e[1]=t,e[2]=n):(t=e[1],n=e[2]);let o;e[3]!==t?(o=X("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),e[3]=t,e[4]=o):o=e[4];let a;return e[5]!==n||e[6]!==o?(a=s.jsx(le.List,{"data-slot":"command-list",className:o,...n}),e[5]=n,e[6]=o,e[7]=a):a=e[7],a}function In(r){const e=B.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let n;return e[2]!==t?(n=s.jsx(le.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t}),e[2]=t,e[3]=n):n=e[3],n}function Sn(r){const e=B.c(8);let t,n;e[0]!==r?({className:t,...n}=r,e[0]=r,e[1]=t,e[2]=n):(t=e[1],n=e[2]);let o;e[3]!==t?(o=X("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),e[3]=t,e[4]=o):o=e[4];let a;return e[5]!==n||e[6]!==o?(a=s.jsx(le.Group,{"data-slot":"command-group",className:o,...n}),e[5]=n,e[6]=o,e[7]=a):a=e[7],a}function _n(r){const e=B.c(8);let t,n;e[0]!==r?({className:t,...n}=r,e[0]=r,e[1]=t,e[2]=n):(t=e[1],n=e[2]);let o;e[3]!==t?(o=X("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),e[3]=t,e[4]=o):o=e[4];let a;return e[5]!==n||e[6]!==o?(a=s.jsx(le.Item,{"data-slot":"command-item",className:o,...n}),e[5]=n,e[6]=o,e[7]=a):a=e[7],a}async function Rn(r){const e={...r,limit:r.limit?.toString()},t=await ot.search.$get({query:e});if(!t.ok){const o=await t.text();throw new Error(o)}return await t.json()}function En(r){const e=B.c(7);let t,n;e[0]!==r?(t=["search",r],n=()=>Rn(r),e[0]=r,e[1]=t,e[2]=n):(t=e[1],n=e[2]);const o=!!r.q&&r.q.length>2;let a;return e[3]!==t||e[4]!==n||e[5]!==o?(a={queryKey:t,queryFn:n,enabled:o,staleTime:3e4},e[3]=t,e[4]=n,e[5]=o,e[6]=a):a=e[6],wr(a)}function ba(r){const e=B.c(42),{open:t,setOpen:n}=r,[o,a]=c.useState(""),{data:i}=it(),l=Te(),m=i?.id;let p;e[0]!==o||e[1]!==m?(p={q:o,type:"all",workspaceId:m,limit:20},e[0]=o,e[1]=m,e[2]=p):p=e[2];const{data:f}=En(p);let u;e[3]!==n?(u={shortcuts:{[xr.search.prefix]:()=>{n(!0)}}},e[3]=n,e[4]=u):u=e[4],ur(u);let h,x;e[5]!==t?(h=()=>{t||a("")},x=[t],e[5]=t,e[6]=h,e[7]=x):(h=e[6],x=e[7]),c.useEffect(h,x);let v;e[8]!==l||e[9]!==n||e[10]!==i?(v=S=>{n(!1),a("");e:switch(S.type){case"task":{S.projectId&&S.id&&i?.id&&l({to:"/dashboard/workspace/$workspaceId/project/$projectId/task/$taskId",params:{workspaceId:i.id,projectId:S.projectId,taskId:S.id}});break e}case"project":{S.id&&i?.id&&l({to:"/dashboard/workspace/$workspaceId/project/$projectId/board",params:{workspaceId:i.id,projectId:S.id}});break e}case"workspace":{S.id&&l({to:"/dashboard/workspace/$workspaceId",params:{workspaceId:S.id}});break e}case"comment":case"activity":S.projectId&&S.id&&i?.id&&l({to:"/dashboard/workspace/$workspaceId/project/$projectId/task/$taskId",params:{workspaceId:i.id,projectId:S.projectId,taskId:S.id}})}},e[8]=l,e[9]=n,e[10]=i,e[11]=v):v=e[11];const _=v,j=Pn;let R,E,N,z,P,y,k,T,O;if(e[12]!==_||e[13]!==t||e[14]!==o||e[15]!==f?.results||e[16]!==n){const S=f?.results?.reduce(Dn,{}),V=Nn;E=Mn,O=t,N=n,z="Search",P="Search for tasks, projects, comments, and more",e[26]!==o?(y=s.jsx(kn,{placeholder:"Search tasks, projects, comments...",value:o,onValueChange:a}),e[26]=o,e[27]=y):y=e[27],R=jn,e[28]!==o.length?(k=o.length<=2&&s.jsx(In,{children:s.jsxs("div",{className:"text-center py-6",children:[s.jsx(ct,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Type at least 3 characters to search"})]})}),e[28]=o.length,e[29]=k):k=e[29],T=S&&Object.keys(S).length>0&&Object.entries(S).map(L=>{const[K,W]=L;return W.length>0?s.jsx(Sn,{heading:V(K),children:W.map(A=>{const H=j(A.type);return s.jsxs(_n,{onSelect:()=>_(A),className:"flex items-start gap-3 py-3",value:`${A.title} ${A.description||""} ${A.type} ${A.id}`,"aria-label":`${A.type}: ${A.title}`,children:[s.jsx(H,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0","aria-hidden":"true"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-sm truncate",children:A.title}),A.description&&s.jsx("div",{className:"text-xs text-muted-foreground truncate mt-1",children:A.description})]})]},`${A.type}-${A.id}`)})},K):null}),e[12]=_,e[13]=t,e[14]=o,e[15]=f?.results,e[16]=n,e[17]=R,e[18]=E,e[19]=N,e[20]=z,e[21]=P,e[22]=y,e[23]=k,e[24]=T,e[25]=O}else R=e[17],E=e[18],N=e[19],z=e[20],P=e[21],y=e[22],k=e[23],T=e[24],O=e[25];let $;e[30]!==R||e[31]!==k||e[32]!==T?($=s.jsxs(R,{children:[k,T]}),e[30]=R,e[31]=k,e[32]=T,e[33]=$):$=e[33];let F;return e[34]!==E||e[35]!==N||e[36]!==z||e[37]!==P||e[38]!==y||e[39]!==$||e[40]!==O?(F=s.jsxs(E,{open:O,onOpenChange:N,title:z,description:P,children:[y,$]}),e[34]=E,e[35]=N,e[36]=z,e[37]=P,e[38]=y,e[39]=$,e[40]=O,e[41]=F):F=e[41],F}function Nn(r){switch(r){case"task":return"Tasks";case"project":return"Projects";case"workspace":return"Workspaces";case"comment":return"Comments";case"activity":return"Activities";default:return"Results"}}function Dn(r,e){return r[e.type]||(r[e.type]=[]),r[e.type].push(e),r}function Pn(r){switch(r){case"task":return Hr;case"project":return Mr;case"workspace":return kr;case"comment":return Cr;case"activity":return yr;default:return br}}function ya(r,e,t){const[n,o]=jr(t?.in,r,e),a=n.getFullYear()-o.getFullYear(),i=n.getMonth()-o.getMonth();return a*12+i}function Ca(r,e){const t=Ir(r,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}var Oe=["Enter"," "],An=["ArrowDown","PageUp","Home"],Ct=["ArrowUp","PageDown","End"],On=[...An,...Ct],Tn={ltr:[...Oe,"ArrowRight"],rtl:[...Oe,"ArrowLeft"]},$n={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ge="Menu",[pe,zn,Fn]=Rr(ge),[ae,Mt]=lt(ge,[Fn,dt,ft]),ve=dt(),kt=ft(),[jt,re]=ae(ge),[Ln,xe]=ae(ge),It=r=>{const{__scopeMenu:e,open:t=!1,children:n,dir:o,onOpenChange:a,modal:i=!0}=r,l=ve(e),[m,p]=c.useState(null),f=c.useRef(!1),u=Ge(a),h=Er(o);return c.useEffect(()=>{const x=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(pt,{...l,children:s.jsx(jt,{scope:e,open:t,onOpenChange:u,content:m,onContentChange:p,children:s.jsx(Ln,{scope:e,onClose:c.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:f,dir:h,modal:i,children:n})})})};It.displayName=ge;var Kn="MenuAnchor",Ue=c.forwardRef((r,e)=>{const{__scopeMenu:t,...n}=r,o=ve(t);return s.jsx(zr,{...o,...n,ref:e})});Ue.displayName=Kn;var qe="MenuPortal",[Gn,St]=ae(qe,{forceMount:void 0}),_t=r=>{const{__scopeMenu:e,forceMount:t,children:n,container:o}=r,a=re(qe,e);return s.jsx(Gn,{scope:e,forceMount:t,children:s.jsx(Ie,{present:t||a.open,children:s.jsx(Tr,{asChild:!0,container:o,children:n})})})};_t.displayName=qe;var Y="MenuContent",[Bn,Ve]=ae(Y),Rt=c.forwardRef((r,e)=>{const t=St(Y,r.__scopeMenu),{forceMount:n=t.forceMount,...o}=r,a=re(Y,r.__scopeMenu),i=xe(Y,r.__scopeMenu);return s.jsx(pe.Provider,{scope:r.__scopeMenu,children:s.jsx(Ie,{present:n||a.open,children:s.jsx(pe.Slot,{scope:r.__scopeMenu,children:i.modal?s.jsx(Un,{...o,ref:e}):s.jsx(qn,{...o,ref:e})})})})}),Un=c.forwardRef((r,e)=>{const t=re(Y,r.__scopeMenu),n=c.useRef(null),o=me(e,n);return c.useEffect(()=>{const a=n.current;if(a)return Or(a)},[]),s.jsx(We,{...r,ref:o,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:D(r.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),qn=c.forwardRef((r,e)=>{const t=re(Y,r.__scopeMenu);return s.jsx(We,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),Vn=Sr("MenuContent.ScrollLock"),We=c.forwardRef((r,e)=>{const{__scopeMenu:t,loop:n=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:m,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:u,onInteractOutside:h,onDismiss:x,disableOutsideScroll:v,..._}=r,j=re(Y,t),R=xe(Y,t),E=ve(t),N=kt(t),z=zn(t),[P,y]=c.useState(null),k=c.useRef(null),T=me(e,k,j.onContentChange),O=c.useRef(0),$=c.useRef(""),F=c.useRef(0),S=c.useRef(null),V=c.useRef("right"),L=c.useRef(0),K=v?Dr:c.Fragment,W=v?{as:Vn,allowPinchZoom:!0}:void 0,A=b=>{const J=$.current+b,Q=z().filter(C=>!C.disabled),d=document.activeElement,w=Q.find(C=>C.ref.current===d)?.textValue,M=Q.map(C=>C.textValue),g=oo(M,J,w),I=Q.find(C=>C.textValue===g)?.ref.current;(function C(G){$.current=G,window.clearTimeout(O.current),G!==""&&(O.current=window.setTimeout(()=>C(""),1e3))})(J),I&&setTimeout(()=>I.focus())};c.useEffect(()=>()=>window.clearTimeout(O.current),[]),Nr();const H=c.useCallback(b=>V.current===S.current?.side&&so(b,S.current?.area),[]);return s.jsx(Bn,{scope:t,searchRef:$,onItemEnter:c.useCallback(b=>{H(b)&&b.preventDefault()},[H]),onItemLeave:c.useCallback(b=>{H(b)||(k.current?.focus(),y(null))},[H]),onTriggerLeave:c.useCallback(b=>{H(b)&&b.preventDefault()},[H]),pointerGraceTimerRef:F,onPointerGraceIntentChange:c.useCallback(b=>{S.current=b},[]),children:s.jsx(K,{...W,children:s.jsx(Pr,{asChild:!0,trapped:o,onMountAutoFocus:D(a,b=>{b.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:s.jsx(Ar,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:u,onInteractOutside:h,onDismiss:x,children:s.jsx(Lr,{asChild:!0,...N,dir:R.dir,orientation:"vertical",loop:n,currentTabStopId:P,onCurrentTabStopIdChange:y,onEntryFocus:D(m,b=>{R.isUsingKeyboardRef.current||b.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx($r,{role:"menu","aria-orientation":"vertical","data-state":Vt(j.open),"data-radix-menu-content":"",dir:R.dir,...E,..._,ref:T,style:{outline:"none",..._.style},onKeyDown:D(_.onKeyDown,b=>{const Q=b.target.closest("[data-radix-menu-content]")===b.currentTarget,d=b.ctrlKey||b.altKey||b.metaKey,w=b.key.length===1;Q&&(b.key==="Tab"&&b.preventDefault(),!d&&w&&A(b.key));const M=k.current;if(b.target!==M||!On.includes(b.key))return;b.preventDefault();const I=z().filter(C=>!C.disabled).map(C=>C.ref.current);Ct.includes(b.key)&&I.reverse(),ro(I)}),onBlur:D(r.onBlur,b=>{b.currentTarget.contains(b.target)||(window.clearTimeout(O.current),$.current="")}),onPointerMove:D(r.onPointerMove,fe(b=>{const J=b.target,Q=L.current!==b.clientX;if(b.currentTarget.contains(J)&&Q){const d=b.clientX>L.current?"right":"left";V.current=d,L.current=b.clientX}}))})})})})})})});Rt.displayName=Y;var Wn="MenuGroup",Ye=c.forwardRef((r,e)=>{const{__scopeMenu:t,...n}=r;return s.jsx(ie.div,{role:"group",...n,ref:e})});Ye.displayName=Wn;var Yn="MenuLabel",Et=c.forwardRef((r,e)=>{const{__scopeMenu:t,...n}=r;return s.jsx(ie.div,{...n,ref:e})});Et.displayName=Yn;var Me="MenuItem",rt="menu.itemSelect",_e=c.forwardRef((r,e)=>{const{disabled:t=!1,onSelect:n,...o}=r,a=c.useRef(null),i=xe(Me,r.__scopeMenu),l=Ve(Me,r.__scopeMenu),m=me(e,a),p=c.useRef(!1),f=()=>{const u=a.current;if(!t&&u){const h=new CustomEvent(rt,{bubbles:!0,cancelable:!0});u.addEventListener(rt,x=>n?.(x),{once:!0}),_r(u,h),h.defaultPrevented?p.current=!1:i.onClose()}};return s.jsx(Nt,{...o,ref:m,disabled:t,onClick:D(r.onClick,f),onPointerDown:u=>{r.onPointerDown?.(u),p.current=!0},onPointerUp:D(r.onPointerUp,u=>{p.current||u.currentTarget?.click()}),onKeyDown:D(r.onKeyDown,u=>{const h=l.searchRef.current!=="";t||h&&u.key===" "||Oe.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});_e.displayName=Me;var Nt=c.forwardRef((r,e)=>{const{__scopeMenu:t,disabled:n=!1,textValue:o,...a}=r,i=Ve(Me,t),l=kt(t),m=c.useRef(null),p=me(e,m),[f,u]=c.useState(!1),[h,x]=c.useState("");return c.useEffect(()=>{const v=m.current;v&&x((v.textContent??"").trim())},[a.children]),s.jsx(pe.ItemSlot,{scope:t,disabled:n,textValue:o??h,children:s.jsx(Kr,{asChild:!0,...l,focusable:!n,children:s.jsx(ie.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:p,onPointerMove:D(r.onPointerMove,fe(v=>{n?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:D(r.onPointerLeave,fe(v=>i.onItemLeave(v))),onFocus:D(r.onFocus,()=>u(!0)),onBlur:D(r.onBlur,()=>u(!1))})})})}),Hn="MenuCheckboxItem",Dt=c.forwardRef((r,e)=>{const{checked:t=!1,onCheckedChange:n,...o}=r;return s.jsx($t,{scope:r.__scopeMenu,checked:t,children:s.jsx(_e,{role:"menuitemcheckbox","aria-checked":ke(t)?"mixed":t,...o,ref:e,"data-state":Qe(t),onSelect:D(o.onSelect,()=>n?.(ke(t)?!0:!t),{checkForDefaultPrevented:!1})})})});Dt.displayName=Hn;var Pt="MenuRadioGroup",[Xn,Qn]=ae(Pt,{value:void 0,onValueChange:()=>{}}),At=c.forwardRef((r,e)=>{const{value:t,onValueChange:n,...o}=r,a=Ge(n);return s.jsx(Xn,{scope:r.__scopeMenu,value:t,onValueChange:a,children:s.jsx(Ye,{...o,ref:e})})});At.displayName=Pt;var Ot="MenuRadioItem",Tt=c.forwardRef((r,e)=>{const{value:t,...n}=r,o=Qn(Ot,r.__scopeMenu),a=t===o.value;return s.jsx($t,{scope:r.__scopeMenu,checked:a,children:s.jsx(_e,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":Qe(a),onSelect:D(n.onSelect,()=>o.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});Tt.displayName=Ot;var He="MenuItemIndicator",[$t,Zn]=ae(He,{checked:!1}),zt=c.forwardRef((r,e)=>{const{__scopeMenu:t,forceMount:n,...o}=r,a=Zn(He,t);return s.jsx(Ie,{present:n||ke(a.checked)||a.checked===!0,children:s.jsx(ie.span,{...o,ref:e,"data-state":Qe(a.checked)})})});zt.displayName=He;var Jn="MenuSeparator",Ft=c.forwardRef((r,e)=>{const{__scopeMenu:t,...n}=r;return s.jsx(ie.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});Ft.displayName=Jn;var eo="MenuArrow",Lt=c.forwardRef((r,e)=>{const{__scopeMenu:t,...n}=r,o=ve(t);return s.jsx(Fr,{...o,...n,ref:e})});Lt.displayName=eo;var Xe="MenuSub",[to,Kt]=ae(Xe),Gt=r=>{const{__scopeMenu:e,children:t,open:n=!1,onOpenChange:o}=r,a=re(Xe,e),i=ve(e),[l,m]=c.useState(null),[p,f]=c.useState(null),u=Ge(o);return c.useEffect(()=>(a.open===!1&&u(!1),()=>u(!1)),[a.open,u]),s.jsx(pt,{...i,children:s.jsx(jt,{scope:e,open:n,onOpenChange:u,content:p,onContentChange:f,children:s.jsx(to,{scope:e,contentId:Z(),triggerId:Z(),trigger:l,onTriggerChange:m,children:t})})})};Gt.displayName=Xe;var de="MenuSubTrigger",Bt=c.forwardRef((r,e)=>{const t=re(de,r.__scopeMenu),n=xe(de,r.__scopeMenu),o=Kt(de,r.__scopeMenu),a=Ve(de,r.__scopeMenu),i=c.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:m}=a,p={__scopeMenu:r.__scopeMenu},f=c.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return c.useEffect(()=>f,[f]),c.useEffect(()=>{const u=l.current;return()=>{window.clearTimeout(u),m(null)}},[l,m]),s.jsx(Ue,{asChild:!0,...p,children:s.jsx(Nt,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":o.contentId,"data-state":Vt(t.open),...r,ref:ne(e,o.onTriggerChange),onClick:u=>{r.onClick?.(u),!(r.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:D(r.onPointerMove,fe(u=>{a.onItemEnter(u),!u.defaultPrevented&&!r.disabled&&!t.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{t.onOpenChange(!0),f()},100))})),onPointerLeave:D(r.onPointerLeave,fe(u=>{f();const h=t.content?.getBoundingClientRect();if(h){const x=t.content?.dataset.side,v=x==="right",_=v?-5:5,j=h[v?"left":"right"],R=h[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:u.clientX+_,y:u.clientY},{x:j,y:h.top},{x:R,y:h.top},{x:R,y:h.bottom},{x:j,y:h.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(u),u.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:D(r.onKeyDown,u=>{const h=a.searchRef.current!=="";r.disabled||h&&u.key===" "||Tn[n.dir].includes(u.key)&&(t.onOpenChange(!0),t.content?.focus(),u.preventDefault())})})})});Bt.displayName=de;var Ut="MenuSubContent",qt=c.forwardRef((r,e)=>{const t=St(Y,r.__scopeMenu),{forceMount:n=t.forceMount,...o}=r,a=re(Y,r.__scopeMenu),i=xe(Y,r.__scopeMenu),l=Kt(Ut,r.__scopeMenu),m=c.useRef(null),p=me(e,m);return s.jsx(pe.Provider,{scope:r.__scopeMenu,children:s.jsx(Ie,{present:n||a.open,children:s.jsx(pe.Slot,{scope:r.__scopeMenu,children:s.jsx(We,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:p,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{i.isUsingKeyboardRef.current&&m.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:D(r.onFocusOutside,f=>{f.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:D(r.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:D(r.onKeyDown,f=>{const u=f.currentTarget.contains(f.target),h=$n[i.dir].includes(f.key);u&&h&&(a.onOpenChange(!1),l.trigger?.focus(),f.preventDefault())})})})})})});qt.displayName=Ut;function Vt(r){return r?"open":"closed"}function ke(r){return r==="indeterminate"}function Qe(r){return ke(r)?"indeterminate":r?"checked":"unchecked"}function ro(r){const e=document.activeElement;for(const t of r)if(t===e||(t.focus(),document.activeElement!==e))return}function no(r,e){return r.map((t,n)=>r[(e+n)%r.length])}function oo(r,e,t){const o=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=t?r.indexOf(t):-1;let i=no(r,Math.max(a,0));o.length===1&&(i=i.filter(p=>p!==t));const m=i.find(p=>p.toLowerCase().startsWith(o.toLowerCase()));return m!==t?m:void 0}function ao(r,e){const{x:t,y:n}=r;let o=!1;for(let a=0,i=e.length-1;a<e.length;i=a++){const l=e[a],m=e[i],p=l.x,f=l.y,u=m.x,h=m.y;f>n!=h>n&&t<(u-p)*(n-f)/(h-f)+p&&(o=!o)}return o}function so(r,e){if(!e)return!1;const t={x:r.clientX,y:r.clientY};return ao(t,e)}function fe(r){return e=>e.pointerType==="mouse"?r(e):void 0}var co=It,io=Ue,lo=_t,uo=Rt,po=Ye,fo=Et,mo=_e,ho=Dt,go=At,vo=Tt,xo=zt,wo=Ft,bo=Lt,yo=Gt,Co=Bt,Mo=qt,Re="DropdownMenu",[ko]=lt(Re,[Mt]),U=Mt(),[jo,Wt]=ko(Re),Yt=r=>{const{__scopeDropdownMenu:e,children:t,dir:n,open:o,defaultOpen:a,onOpenChange:i,modal:l=!0}=r,m=U(e),p=c.useRef(null),[f,u]=ut({prop:o,defaultProp:a??!1,onChange:i,caller:Re});return s.jsx(jo,{scope:e,triggerId:Z(),triggerRef:p,contentId:Z(),open:f,onOpenChange:u,onOpenToggle:c.useCallback(()=>u(h=>!h),[u]),modal:l,children:s.jsx(co,{...m,open:f,onOpenChange:u,dir:n,modal:l,children:t})})};Yt.displayName=Re;var Ht="DropdownMenuTrigger",Xt=c.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,disabled:n=!1,...o}=r,a=Wt(Ht,t),i=U(t);return s.jsx(io,{asChild:!0,...i,children:s.jsx(ie.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:ne(e,a.triggerRef),onPointerDown:D(r.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:D(r.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Xt.displayName=Ht;var Io="DropdownMenuPortal",Qt=r=>{const{__scopeDropdownMenu:e,...t}=r,n=U(e);return s.jsx(lo,{...n,...t})};Qt.displayName=Io;var Zt="DropdownMenuContent",Jt=c.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,o=Wt(Zt,t),a=U(t),i=c.useRef(!1);return s.jsx(uo,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...n,ref:e,onCloseAutoFocus:D(r.onCloseAutoFocus,l=>{i.current||o.triggerRef.current?.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:D(r.onInteractOutside,l=>{const m=l.detail.originalEvent,p=m.button===0&&m.ctrlKey===!0,f=m.button===2||p;(!o.modal||f)&&(i.current=!0)}),style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Jt.displayName=Zt;var So="DropdownMenuGroup",_o=c.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,o=U(t);return s.jsx(po,{...o,...n,ref:e})});_o.displayName=So;var Ro="DropdownMenuLabel",er=c.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,o=U(t);return s.jsx(fo,{...o,...n,ref:e})});er.displayName=Ro;var Eo="DropdownMenuItem",tr=c.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,o=U(t);return s.jsx(mo,{...o,...n,ref:e})});tr.displayName=Eo;var No="DropdownMenuCheckboxItem",rr=c.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,o=U(t);return s.jsx(ho,{...o,...n,ref:e})});rr.displayName=No;var Do="DropdownMenuRadioGroup",Po=c.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,o=U(t);return s.jsx(go,{...o,...n,ref:e})});Po.displayName=Do;var Ao="DropdownMenuRadioItem",Oo=c.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,o=U(t);return s.jsx(vo,{...o,...n,ref:e})});Oo.displayName=Ao;var To="DropdownMenuItemIndicator",nr=c.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,o=U(t);return s.jsx(xo,{...o,...n,ref:e})});nr.displayName=To;var $o="DropdownMenuSeparator",or=c.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,o=U(t);return s.jsx(wo,{...o,...n,ref:e})});or.displayName=$o;var zo="DropdownMenuArrow",Fo=c.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,o=U(t);return s.jsx(bo,{...o,...n,ref:e})});Fo.displayName=zo;var Lo=r=>{const{__scopeDropdownMenu:e,children:t,open:n,onOpenChange:o,defaultOpen:a}=r,i=U(e),[l,m]=ut({prop:n,defaultProp:a??!1,onChange:o,caller:"DropdownMenuSub"});return s.jsx(yo,{...i,open:l,onOpenChange:m,children:t})},Ko="DropdownMenuSubTrigger",ar=c.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,o=U(t);return s.jsx(Co,{...o,...n,ref:e})});ar.displayName=Ko;var Go="DropdownMenuSubContent",sr=c.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,o=U(t);return s.jsx(Mo,{...o,...n,ref:e,style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sr.displayName=Go;var Ma=Yt,ka=Xt,ja=Qt,Ia=Jt,Sa=er,_a=tr,Ra=rr,Ea=nr,Na=or,Da=Lo,Pa=ar,Aa=sr;function cr(r){const e=B.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let n;return e[2]!==t?(n=s.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t}),e[2]=t,e[3]=n):n=e[3],n}function ir(r){const e=B.c(8);let t,n;e[0]!==r?({className:t,...n}=r,e[0]=r,e[1]=t,e[2]=n):(t=e[1],n=e[2]);let o;e[3]!==t?(o=X("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),e[3]=t,e[4]=o):o=e[4];let a;return e[5]!==n||e[6]!==o?(a=s.jsx("ol",{"data-slot":"breadcrumb-list",className:o,...n}),e[5]=n,e[6]=o,e[7]=a):a=e[7],a}function je(r){const e=B.c(8);let t,n;e[0]!==r?({className:t,...n}=r,e[0]=r,e[1]=t,e[2]=n):(t=e[1],n=e[2]);let o;e[3]!==t?(o=X("inline-flex items-center gap-1.5",t),e[3]=t,e[4]=o):o=e[4];let a;return e[5]!==n||e[6]!==o?(a=s.jsx("li",{"data-slot":"breadcrumb-item",className:o,...n}),e[5]=n,e[6]=o,e[7]=a):a=e[7],a}function Oa(r){const e=B.c(10);let t,n,o;e[0]!==r?({asChild:t,className:n,...o}=r,e[0]=r,e[1]=t,e[2]=n,e[3]=o):(t=e[1],n=e[2],o=e[3]);const a=t?vr:"a";let i;e[4]!==n?(i=X("hover:text-foreground transition-colors",n),e[4]=n,e[5]=i):i=e[5];let l;return e[6]!==a||e[7]!==o||e[8]!==i?(l=s.jsx(a,{"data-slot":"breadcrumb-link",className:i,...o}),e[6]=a,e[7]=o,e[8]=i,e[9]=l):l=e[9],l}function lr(r){const e=B.c(12);let t,n,o;e[0]!==r?({children:t,className:n,...o}=r,e[0]=r,e[1]=t,e[2]=n,e[3]=o):(t=e[1],n=e[2],o=e[3]);let a;e[4]!==n?(a=X("[&>svg]:size-3.5",n),e[4]=n,e[5]=a):a=e[5];let i;e[6]!==t?(i=t??s.jsx(Br,{}),e[6]=t,e[7]=i):i=e[7];let l;return e[8]!==o||e[9]!==a||e[10]!==i?(l=s.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:a,...o,children:i}),e[8]=o,e[9]=a,e[10]=i,e[11]=l):l=e[11],l}function Ta(r){const e=B.c(38),{open:t,onClose:n}=r,[o,a]=c.useState(""),[i,l]=c.useState(""),m=c.useRef(null),p=at(),f=Te(),{setActiveWorkspaceId:u}=dr(),{mutateAsync:h}=Gr();let x,v;e[0]!==t?(x=()=>{t&&m.current&&setTimeout(()=>{m.current?.focus()},100)},v=[t],e[0]=t,e[1]=x,e[2]=v):(x=e[1],v=e[2]),c.useEffect(x,v);let _;e[3]!==n?(_=()=>{a(""),l(""),n()},e[3]=n,e[4]=_):_=e[4];const j=_;let R;e[5]!==i||e[6]!==j||e[7]!==h||e[8]!==o||e[9]!==f||e[10]!==p||e[11]!==u?(R=async K=>{if(K.preventDefault(),!!o.trim())try{const W=await h({name:o,description:i});be.success("Workspace created successfully"),await p.invalidateQueries({queryKey:["workspaces"]}),await pr.organization.setActive({organizationId:W.id}),u(W.id),f({to:"/dashboard/workspace/$workspaceId",params:{workspaceId:W.id}}),j()}catch(W){const A=W;be.error(A instanceof Error?A.message:"Failed to create workspace")}},e[5]=i,e[6]=j,e[7]=h,e[8]=o,e[9]=f,e[10]=p,e[11]=u,e[12]=R):R=e[12];const E=R;let N;e[13]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsxs(Le,{children:[s.jsx(ze,{asChild:!0,children:s.jsx(cr,{children:s.jsxs(ir,{children:[s.jsx(je,{className:"text-zinc-600 dark:text-zinc-400 font-semibold tracking-wider text-sm",children:"KANEO"}),s.jsx(lr,{}),s.jsx(je,{className:"text-zinc-700 dark:text-zinc-300 font-medium text-sm",children:"Create a new workspace"})]})})}),s.jsx(Fe,{className:"sr-only",children:"Create a new workspace by providing a name for your workspace."})]}),e[13]=N):N=e[13];let z;e[14]===Symbol.for("react.memo_cache_sentinel")?(z=K=>a(K.target.value),e[14]=z):z=e[14];let P;e[15]!==o?(P=s.jsx(Ce,{ref:m,value:o,onChange:z,placeholder:"Workspace name",className:"!text-2xl font-semibold !border-0 px-0 py-3 !shadow-none focus-visible:!ring-0 !bg-transparent text-zinc-900 dark:text-white placeholder:text-zinc-500 dark:placeholder:text-zinc-400 tracking-tight focus:!outline-none focus-visible:!outline-none",required:!0}),e[15]=o,e[16]=P):P=e[16];let y;e[17]===Symbol.for("react.memo_cache_sentinel")?(y=K=>l(K.target.value),e[17]=y):y=e[17];let k;e[18]!==i?(k=s.jsx(Ce,{value:i,onChange:y,placeholder:"Add description...",className:"!border-0 px-0 py-2 !shadow-none focus-visible:!ring-0 !bg-transparent text-zinc-700 dark:text-zinc-300 placeholder:text-zinc-500 dark:placeholder:text-zinc-400 focus:!outline-none focus-visible:!outline-none"}),e[18]=i,e[19]=k):k=e[19];let T;e[20]!==P||e[21]!==k?(T=s.jsxs("div",{className:"space-y-4 px-6",children:[P,k]}),e[20]=P,e[21]=k,e[22]=T):T=e[22];let O;e[23]!==j?(O=s.jsx(ye,{type:"button",onClick:j,variant:"outline",size:"sm",className:"border-zinc-300 dark:border-zinc-700 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800",children:"Cancel"}),e[23]=j,e[24]=O):O=e[24];const $=!o.trim();let F;e[25]!==$?(F=s.jsx(ye,{type:"submit",disabled:$,size:"sm",className:"bg-indigo-600 hover:bg-indigo-500 text-white disabled:opacity-50",children:"Create Workspace"}),e[25]=$,e[26]=F):F=e[26];let S;e[27]!==O||e[28]!==F?(S=s.jsxs(st,{children:[O,F]}),e[27]=O,e[28]=F,e[29]=S):S=e[29];let V;e[30]!==E||e[31]!==T||e[32]!==S?(V=s.jsxs(Ke,{className:"max-w-md",showCloseButton:!1,children:[N,s.jsxs("form",{onSubmit:E,className:"space-y-6",children:[T,S]})]}),e[30]=E,e[31]=T,e[32]=S,e[33]=V):V=e[33];let L;return e[34]!==j||e[35]!==t||e[36]!==V?(L=s.jsx($e,{open:t,onOpenChange:j,children:V}),e[34]=j,e[35]=t,e[36]=V,e[37]=L):L=e[37],L}async function Bo({name:r,slug:e,workspaceId:t,icon:n}){const o=await ot.project.$post({json:{name:r,slug:e,icon:n,workspaceId:t}});if(!o.ok){const i=await o.text();throw new Error(i)}return await o.json()}function Uo(r){const e=B.c(5),{name:t,slug:n,workspaceId:o,icon:a}=r;let i;return e[0]!==a||e[1]!==t||e[2]!==n||e[3]!==o?(i={mutationFn:()=>Bo({name:t,slug:n,workspaceId:o,icon:a})},e[0]=a,e[1]=t,e[2]=n,e[3]=o,e[4]=i):i=e[4],Wr(i)}function qo(r){const e=r.toUpperCase().replace(/[^A-Z0-9\s]/g,"").split(/\s+/);return e.length===1?e[0].slice(0,3):e.slice(0,3).map(t=>t[0]).join("")}function $a({open:r,onClose:e}){const[t,n]=c.useState(""),[o,a]=c.useState(""),[i,l]=c.useState("Layout"),[m,p]=c.useState(!1),f=at(),{data:u}=it(),{mutateAsync:h}=Uo({name:t,slug:o,workspaceId:u?.id??"",icon:i}),x=Ze[i],v=Te(),_=()=>{n(""),a(""),l("Layout"),p(!1),e()},j=async E=>{if(E.preventDefault(),!!t.trim())try{const{id:N}=await h();be.success("Project created successfully"),await f.invalidateQueries({queryKey:["projects"]}),v({to:"/dashboard/workspace/$workspaceId/project/$projectId/board",params:{workspaceId:u?.id??"",projectId:N}}),_()}catch(N){be.error(N instanceof Error?N.message:"Failed to create project")}},R=E=>{const N=E.target.value;n(N),a(qo(N))};return s.jsx($e,{open:r,onOpenChange:_,children:s.jsxs(Ke,{className:"max-w-md",showCloseButton:!1,children:[s.jsxs(Le,{className:"pb-6",children:[s.jsx(ze,{asChild:!0,children:s.jsx(cr,{children:s.jsxs(ir,{children:[s.jsx(je,{className:"text-zinc-600 dark:text-zinc-400 font-semibold tracking-wider text-sm",children:u?.name?.toUpperCase()||"WORKSPACE"}),s.jsx(lr,{}),s.jsx(je,{className:"text-zinc-700 dark:text-zinc-300 font-medium text-sm",children:"Create a new project"})]})})}),s.jsx(Fe,{className:"sr-only",children:"Create a new project in your workspace by providing a name, key, and selecting an icon."})]}),s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4 px-6",children:[s.jsxs(Ur,{open:m,onOpenChange:p,modal:!0,children:[s.jsx(qr,{asChild:!0,children:s.jsx("button",{type:"button",className:"flex items-center justify-center p-2 rounded border border-border hover:border-zinc-400 dark:hover:border-zinc-600 transition-colors",children:s.jsx(x,{className:"w-4 h-4 text-zinc-600 dark:text-zinc-400"})})}),s.jsx(Vr,{className:"w-80 p-2",align:"start",children:s.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:s.jsx("div",{className:"grid grid-cols-8 gap-2",children:Object.entries(Ze).map(([E,N])=>s.jsx("button",{type:"button",onClick:()=>{l(E),p(!1)},className:X("p-2 rounded-lg transition-all duration-200 flex items-center justify-center group hover:scale-105",i===E?"bg-indigo-50 text-indigo-600 dark:bg-indigo-500/10 dark:text-indigo-400":"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-700"),title:E,children:s.jsx(N,{className:"w-4 h-4"})},E))})})})]}),s.jsx(Ce,{value:t,onChange:R,autoFocus:!0,placeholder:"Project name",className:"!text-2xl font-semibold !border-0 px-0 py-3 !shadow-none focus-visible:!ring-0 !bg-transparent text-zinc-900 dark:text-white placeholder:text-zinc-500 dark:placeholder:text-zinc-400 tracking-tight focus:!outline-none focus-visible:!outline-none",required:!0})]}),s.jsx("div",{className:"space-y-4 px-6",children:s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-zinc-50 to-zinc-100/50 dark:from-zinc-900/50 dark:to-zinc-800/30 border border-zinc-200/50 dark:border-zinc-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-zinc-600 dark:text-zinc-400",children:"Key:"}),s.jsx(Ce,{id:"project-key",value:o,onChange:E=>a(E.target.value),placeholder:"PRO",className:"w-20 h-8 text-center font-semibold text-sm bg-white/80 dark:bg-zinc-900/80 border-zinc-300/50 dark:border-zinc-600/50 rounded-lg focus:bg-white dark:focus:bg-zinc-900 focus:border-indigo-400 dark:focus:border-indigo-500 transition-all duration-200",required:!0})]}),s.jsxs("div",{className:"flex-1 text-xs text-zinc-500 dark:text-zinc-400 opacity-80",children:["Used for ticket IDs (e.g., ",o||"ABC","-123)"]})]})}),s.jsxs(st,{children:[s.jsx(ye,{type:"button",onClick:_,variant:"outline",size:"sm",className:"border-zinc-300 dark:border-zinc-700 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800",children:"Cancel"}),s.jsx(ye,{type:"submit",disabled:!t.trim()||!o.trim(),size:"sm",className:"bg-primary hover:bg-primary/90 text-white disabled:opacity-50",children:"Create Project"})]})]})]})})}export{io as A,je as B,kn as C,Na as D,Sa as E,_a as F,po as G,Ia as H,mo as I,Ra as J,Ea as K,fo as L,Ma as M,ya as N,Ca as O,wa as P,ja as Q,co as R,ba as S,ka as T,In as a,_n as b,Sn as c,jn as d,Mn as e,Ta as f,$a as g,Oa as h,lr as i,cr as j,ir as k,Mt as l,lo as m,uo as n,wo as o,yo as p,Co as q,Mo as r,ho as s,go as t,vo as u,xo as v,bo as w,Pa as x,Aa as y,Da as z};
