import{r as i,j as c,c as L,d as z}from"./index-D6_JMR29.js";import{u as G,c as H,P as A,a as g,b as K}from"./index-BlCpMXjl.js";import{u as O}from"./index-Dtyx9z7_.js";import{P as U,h as V,R as W,u as Z,F as q,D as B}from"./index-DlhLTHW_.js";import{u as J}from"./index-sjf38YVm.js";import{c as _,R as Q,A as w,C as X,a as Y}from"./index-IN0mQVXW.js";import{P as E}from"./index-BnceiTS-.js";var C="Popover",[b]=H(C,[_]),m=_(),[ee,f]=b(C),j=o=>{const{__scopePopover:s,children:e,open:n,defaultOpen:t,onOpenChange:r,modal:a=!1}=o,p=m(s),u=i.useRef(null),[l,d]=i.useState(!1),[h,v]=G({prop:n,defaultProp:t??!1,onChange:r,caller:C});return c.jsx(Q,{...p,children:c.jsx(ee,{scope:s,contentId:J(),triggerRef:u,open:h,onOpenChange:v,onOpenToggle:i.useCallback(()=>v(x=>!x),[v]),hasCustomAnchor:l,onCustomAnchorAdd:i.useCallback(()=>d(!0),[]),onCustomAnchorRemove:i.useCallback(()=>d(!1),[]),modal:a,children:e})})};j.displayName=C;var N="PopoverAnchor",F=i.forwardRef((o,s)=>{const{__scopePopover:e,...n}=o,t=f(N,e),r=m(e),{onCustomAnchorAdd:a,onCustomAnchorRemove:p}=t;return i.useEffect(()=>(a(),()=>p()),[a,p]),c.jsx(w,{...r,...n,ref:s})});F.displayName=N;var y="PopoverTrigger",S=i.forwardRef((o,s)=>{const{__scopePopover:e,...n}=o,t=f(y,e),r=m(e),a=O(s,t.triggerRef),p=c.jsx(A.button,{type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":I(t.open),...n,ref:a,onClick:g(o.onClick,t.onOpenToggle)});return t.hasCustomAnchor?p:c.jsx(w,{asChild:!0,...r,children:p})});S.displayName=y;var R="PopoverPortal",[oe,te]=b(R,{forceMount:void 0}),D=o=>{const{__scopePopover:s,forceMount:e,children:n,container:t}=o,r=f(R,s);return c.jsx(oe,{scope:s,forceMount:e,children:c.jsx(E,{present:e||r.open,children:c.jsx(U,{asChild:!0,container:t,children:n})})})};D.displayName=R;var P="PopoverContent",M=i.forwardRef((o,s)=>{const e=te(P,o.__scopePopover),{forceMount:n=e.forceMount,...t}=o,r=f(P,o.__scopePopover);return c.jsx(E,{present:n||r.open,children:r.modal?c.jsx(ne,{...t,ref:s}):c.jsx(se,{...t,ref:s})})});M.displayName=P;var re=K("PopoverContent.RemoveScroll"),ne=i.forwardRef((o,s)=>{const e=f(P,o.__scopePopover),n=i.useRef(null),t=O(s,n),r=i.useRef(!1);return i.useEffect(()=>{const a=n.current;if(a)return V(a)},[]),c.jsx(W,{as:re,allowPinchZoom:!0,children:c.jsx(T,{...o,ref:t,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:g(o.onCloseAutoFocus,a=>{a.preventDefault(),r.current||e.triggerRef.current?.focus()}),onPointerDownOutside:g(o.onPointerDownOutside,a=>{const p=a.detail.originalEvent,u=p.button===0&&p.ctrlKey===!0,l=p.button===2||u;r.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:g(o.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),se=i.forwardRef((o,s)=>{const e=f(P,o.__scopePopover),n=i.useRef(!1),t=i.useRef(!1);return c.jsx(T,{...o,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{o.onCloseAutoFocus?.(r),r.defaultPrevented||(n.current||e.triggerRef.current?.focus(),r.preventDefault()),n.current=!1,t.current=!1},onInteractOutside:r=>{o.onInteractOutside?.(r),r.defaultPrevented||(n.current=!0,r.detail.originalEvent.type==="pointerdown"&&(t.current=!0));const a=r.target;e.triggerRef.current?.contains(a)&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&t.current&&r.preventDefault()}})}),T=i.forwardRef((o,s)=>{const{__scopePopover:e,trapFocus:n,onOpenAutoFocus:t,onCloseAutoFocus:r,disableOutsidePointerEvents:a,onEscapeKeyDown:p,onPointerDownOutside:u,onFocusOutside:l,onInteractOutside:d,...h}=o,v=f(P,e),x=m(e);return Z(),c.jsx(q,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:t,onUnmountAutoFocus:r,children:c.jsx(B,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:p,onPointerDownOutside:u,onFocusOutside:l,onDismiss:()=>v.onOpenChange(!1),children:c.jsx(X,{"data-state":I(v.open),role:"dialog",id:v.contentId,...x,...h,ref:s,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),k="PopoverClose",ae=i.forwardRef((o,s)=>{const{__scopePopover:e,...n}=o,t=f(k,e);return c.jsx(A.button,{type:"button",...n,ref:s,onClick:g(o.onClick,()=>t.onOpenChange(!1))})});ae.displayName=k;var ce="PopoverArrow",ie=i.forwardRef((o,s)=>{const{__scopePopover:e,...n}=o,t=m(e);return c.jsx(Y,{...t,...n,ref:s})});ie.displayName=ce;function I(o){return o?"open":"closed"}var pe=j,xe=F,le=S,ue=D,$=M;const Re=pe,Ae=le,de=i.forwardRef((o,s)=>{const e=L.c(13);let n,t,r,a;e[0]!==o?({className:n,align:r,sideOffset:a,...t}=o,e[0]=o,e[1]=n,e[2]=t,e[3]=r,e[4]=a):(n=e[1],t=e[2],r=e[3],a=e[4]);const p=r===void 0?"center":r,u=a===void 0?4:a;let l;e[5]!==n?(l=z("z-50 w-56 rounded-md border bg-popover p-2 text-sm text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",n),e[5]=n,e[6]=l):l=e[6];let d;return e[7]!==p||e[8]!==t||e[9]!==s||e[10]!==u||e[11]!==l?(d=c.jsx(ue,{children:c.jsx($,{ref:s,align:p,sideOffset:u,className:l,...t})}),e[7]=p,e[8]=t,e[9]=s,e[10]=u,e[11]=l,e[12]=d):d=e[12],d});de.displayName=$.displayName;export{xe as A,$ as C,Re as P,pe as R,le as T,Ae as a,de as b,ue as c};
